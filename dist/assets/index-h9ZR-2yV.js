(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function HR(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var ug={exports:{}},du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function qR(){if(qb)return du;qb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return du.Fragment=e,du.jsx=t,du.jsxs=t,du}var Fb;function FR(){return Fb||(Fb=1,ug.exports=qR()),ug.exports}var I=FR(),cg={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function GR(){if(Gb)return Fe;Gb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function C(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function H(_,D,q){this.props=_,this.context=D,this.refs=B,this.updater=q||j}H.prototype.isReactComponent={},H.prototype.setState=function(_,D){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,D,"setState")},H.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function K(){}K.prototype=H.prototype;function Z(_,D,q){this.props=_,this.context=D,this.refs=B,this.updater=q||j}var ne=Z.prototype=new K;ne.constructor=Z,k(ne,H.prototype),ne.isPureReactComponent=!0;var X=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function O(_,D,q,Y,J,W){return q=W.ref,{$$typeof:n,type:_,key:D,ref:q!==void 0?q:null,props:W}}function L(_,D){return O(_.type,D,void 0,void 0,void 0,_.props)}function E(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function T(_){var D={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(q){return D[q]})}var P=/\/+/g;function U(_,D){return typeof _=="object"&&_!==null&&_.key!=null?T(""+_.key):D.toString(36)}function x(){}function te(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(x,x):(_.status="pending",_.then(function(D){_.status==="pending"&&(_.status="fulfilled",_.value=D)},function(D){_.status==="pending"&&(_.status="rejected",_.reason=D)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function se(_,D,q,Y,J){var W=typeof _;(W==="undefined"||W==="boolean")&&(_=null);var oe=!1;if(_===null)oe=!0;else switch(W){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(_.$$typeof){case n:case e:oe=!0;break;case v:return oe=_._init,se(oe(_._payload),D,q,Y,J)}}if(oe)return J=J(_),oe=Y===""?"."+U(_,0):Y,X(J)?(q="",oe!=null&&(q=oe.replace(P,"$&/")+"/"),se(J,D,q,"",function(Ae){return Ae})):J!=null&&(E(J)&&(J=L(J,q+(J.key==null||_&&_.key===J.key?"":(""+J.key).replace(P,"$&/")+"/")+oe)),D.push(J)),1;oe=0;var pe=Y===""?".":Y+":";if(X(_))for(var _e=0;_e<_.length;_e++)Y=_[_e],W=pe+U(Y,_e),oe+=se(Y,D,q,W,J);else if(_e=C(_),typeof _e=="function")for(_=_e.call(_),_e=0;!(Y=_.next()).done;)Y=Y.value,W=pe+U(Y,_e++),oe+=se(Y,D,q,W,J);else if(W==="object"){if(typeof _.then=="function")return se(te(_),D,q,Y,J);throw D=String(_),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return oe}function G(_,D,q){if(_==null)return _;var Y=[],J=0;return se(_,Y,"","",function(W){return D.call(q,W,J++)}),Y}function w(_){if(_._status===-1){var D=_._result;D=D(),D.then(function(q){(_._status===0||_._status===-1)&&(_._status=1,_._result=q)},function(q){(_._status===0||_._status===-1)&&(_._status=2,_._result=q)}),_._status===-1&&(_._status=0,_._result=D)}if(_._status===1)return _._result.default;throw _._result}var fe=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function F(){}return Fe.Children={map:G,forEach:function(_,D,q){G(_,function(){D.apply(this,arguments)},q)},count:function(_){var D=0;return G(_,function(){D++}),D},toArray:function(_){return G(_,function(D){return D})||[]},only:function(_){if(!E(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Fe.Component=H,Fe.Fragment=t,Fe.Profiler=a,Fe.PureComponent=Z,Fe.StrictMode=i,Fe.Suspense=p,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return M.H.useMemoCache(_)}},Fe.cache=function(_){return function(){return _.apply(null,arguments)}},Fe.cloneElement=function(_,D,q){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Y=k({},_.props),J=_.key,W=void 0;if(D!=null)for(oe in D.ref!==void 0&&(W=void 0),D.key!==void 0&&(J=""+D.key),D)!z.call(D,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&D.ref===void 0||(Y[oe]=D[oe]);var oe=arguments.length-2;if(oe===1)Y.children=q;else if(1<oe){for(var pe=Array(oe),_e=0;_e<oe;_e++)pe[_e]=arguments[_e+2];Y.children=pe}return O(_.type,J,void 0,void 0,W,Y)},Fe.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:l,_context:_},_},Fe.createElement=function(_,D,q){var Y,J={},W=null;if(D!=null)for(Y in D.key!==void 0&&(W=""+D.key),D)z.call(D,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(J[Y]=D[Y]);var oe=arguments.length-2;if(oe===1)J.children=q;else if(1<oe){for(var pe=Array(oe),_e=0;_e<oe;_e++)pe[_e]=arguments[_e+2];J.children=pe}if(_&&_.defaultProps)for(Y in oe=_.defaultProps,oe)J[Y]===void 0&&(J[Y]=oe[Y]);return O(_,W,void 0,void 0,null,J)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(_){return{$$typeof:f,render:_}},Fe.isValidElement=E,Fe.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:w}},Fe.memo=function(_,D){return{$$typeof:g,type:_,compare:D===void 0?null:D}},Fe.startTransition=function(_){var D=M.T,q={};M.T=q;try{var Y=_(),J=M.S;J!==null&&J(q,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(F,fe)}catch(W){fe(W)}finally{M.T=D}},Fe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Fe.use=function(_){return M.H.use(_)},Fe.useActionState=function(_,D,q){return M.H.useActionState(_,D,q)},Fe.useCallback=function(_,D){return M.H.useCallback(_,D)},Fe.useContext=function(_){return M.H.useContext(_)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(_,D){return M.H.useDeferredValue(_,D)},Fe.useEffect=function(_,D,q){var Y=M.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(_,D)},Fe.useId=function(){return M.H.useId()},Fe.useImperativeHandle=function(_,D,q){return M.H.useImperativeHandle(_,D,q)},Fe.useInsertionEffect=function(_,D){return M.H.useInsertionEffect(_,D)},Fe.useLayoutEffect=function(_,D){return M.H.useLayoutEffect(_,D)},Fe.useMemo=function(_,D){return M.H.useMemo(_,D)},Fe.useOptimistic=function(_,D){return M.H.useOptimistic(_,D)},Fe.useReducer=function(_,D,q){return M.H.useReducer(_,D,q)},Fe.useRef=function(_){return M.H.useRef(_)},Fe.useState=function(_){return M.H.useState(_)},Fe.useSyncExternalStore=function(_,D,q){return M.H.useSyncExternalStore(_,D,q)},Fe.useTransition=function(){return M.H.useTransition()},Fe.version="19.1.1",Fe}var $b;function oi(){return $b||($b=1,cg.exports=GR()),cg.exports}var y=oi();const xs=Tm(y);var hg={exports:{}},pu={},fg={exports:{}},dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function $R(){return Kb||(Kb=1,(function(n){function e(G,w){var fe=G.length;G.push(w);e:for(;0<fe;){var F=fe-1>>>1,_=G[F];if(0<a(_,w))G[F]=w,G[fe]=_,fe=F;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var w=G[0],fe=G.pop();if(fe!==w){G[0]=fe;e:for(var F=0,_=G.length,D=_>>>1;F<D;){var q=2*(F+1)-1,Y=G[q],J=q+1,W=G[J];if(0>a(Y,fe))J<_&&0>a(W,Y)?(G[F]=W,G[J]=fe,F=J):(G[F]=Y,G[q]=fe,F=q);else if(J<_&&0>a(W,fe))G[F]=W,G[J]=fe,F=J;else break e}}return w}function a(G,w){var fe=G.sortIndex-w.sortIndex;return fe!==0?fe:G.id-w.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],g=[],v=1,S=null,C=3,j=!1,k=!1,B=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function X(G){for(var w=t(g);w!==null;){if(w.callback===null)i(g);else if(w.startTime<=G)i(g),w.sortIndex=w.expirationTime,e(p,w);else break;w=t(g)}}function M(G){if(B=!1,X(G),!k)if(t(p)!==null)k=!0,z||(z=!0,U());else{var w=t(g);w!==null&&se(M,w.startTime-G)}}var z=!1,O=-1,L=5,E=-1;function T(){return H?!0:!(n.unstable_now()-E<L)}function P(){if(H=!1,z){var G=n.unstable_now();E=G;var w=!0;try{e:{k=!1,B&&(B=!1,Z(O),O=-1),j=!0;var fe=C;try{t:{for(X(G),S=t(p);S!==null&&!(S.expirationTime>G&&T());){var F=S.callback;if(typeof F=="function"){S.callback=null,C=S.priorityLevel;var _=F(S.expirationTime<=G);if(G=n.unstable_now(),typeof _=="function"){S.callback=_,X(G),w=!0;break t}S===t(p)&&i(p),X(G)}else i(p);S=t(p)}if(S!==null)w=!0;else{var D=t(g);D!==null&&se(M,D.startTime-G),w=!1}}break e}finally{S=null,C=fe,j=!1}w=void 0}}finally{w?U():z=!1}}}var U;if(typeof ne=="function")U=function(){ne(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,te=x.port2;x.port1.onmessage=P,U=function(){te.postMessage(null)}}else U=function(){K(P,0)};function se(G,w){O=K(function(){G(n.unstable_now())},w)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(G){switch(C){case 1:case 2:case 3:var w=3;break;default:w=C}var fe=C;C=w;try{return G()}finally{C=fe}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(G,w){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=C;C=G;try{return w()}finally{C=fe}},n.unstable_scheduleCallback=function(G,w,fe){var F=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?F+fe:F):fe=F,G){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=fe+_,G={id:v++,callback:w,priorityLevel:G,startTime:fe,expirationTime:_,sortIndex:-1},fe>F?(G.sortIndex=fe,e(g,G),t(p)===null&&G===t(g)&&(B?(Z(O),O=-1):B=!0,se(M,fe-F))):(G.sortIndex=_,e(p,G),k||j||(k=!0,z||(z=!0,U()))),G},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(G){var w=C;return function(){var fe=C;C=w;try{return G.apply(this,arguments)}finally{C=fe}}}})(dg)),dg}var Wb;function KR(){return Wb||(Wb=1,fg.exports=$R()),fg.exports}var pg={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function WR(){if(Yb)return _n;Yb=1;var n=oi();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},_n.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,S=f(v,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:j}):v==="script"&&i.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=f(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=f(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},_n.requestFormReset=function(p){i.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.1.1",_n}var Qb;function Ew(){if(Qb)return pg.exports;Qb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pg.exports=WR(),pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function YR(){if(Xb)return pu;Xb=1;var n=KR(),e=oi(),t=Ew();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return f(d),r;if(m===u)return f(d),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=m;else{for(var R=!1,N=d.child;N;){if(N===o){R=!0,o=d,u=m;break}if(N===u){R=!0,u=d,o=m;break}N=N.sibling}if(!R){for(N=m.child;N;){if(N===o){R=!0,o=m,u=d;break}if(N===u){R=!0,u=m,o=d;break}N=N.sibling}if(!R)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case H:return"Profiler";case B:return"StrictMode";case M:return"Suspense";case z:return"SuspenseList";case E:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case j:return"Portal";case ne:return(r.displayName||"Context")+".Provider";case Z:return(r._context.displayName||"Context")+".Consumer";case X:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:te(r.type)||"Memo";case L:s=r._payload,r=r._init;try{return te(r(s))}catch{}}return null}var se=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},F=[],_=-1;function D(r){return{current:r}}function q(r){0>_||(r.current=F[_],F[_]=null,_--)}function Y(r,s){_++,F[_]=r.current,r.current=s}var J=D(null),W=D(null),oe=D(null),pe=D(null);function _e(r,s){switch(Y(oe,s),Y(W,r),Y(J,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?vb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=vb(s),r=yb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}q(J),Y(J,r)}function Ae(){q(J),q(W),q(oe)}function be(r){r.memoizedState!==null&&Y(pe,r);var s=J.current,o=yb(s,r.type);s!==o&&(Y(W,r),Y(J,o))}function we(r){W.current===r&&(q(J),q(W)),pe.current===r&&(q(pe),lu._currentValue=fe)}var je=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,De=n.unstable_cancelCallback,Re=n.unstable_shouldYield,yt=n.unstable_requestPaint,xe=n.unstable_now,_t=n.unstable_getCurrentPriorityLevel,ht=n.unstable_ImmediatePriority,bt=n.unstable_UserBlockingPriority,wt=n.unstable_NormalPriority,Ln=n.unstable_LowPriority,mn=n.unstable_IdlePriority,pr=n.log,Dn=n.unstable_setDisableYieldValue,Et=null,qe=null;function xt(r){if(typeof pr=="function"&&Dn(r),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Et,r)}catch{}}var Dt=Math.clz32?Math.clz32:Or,Ks=Math.log,$i=Math.LN2;function Or(r){return r>>>=0,r===0?32:31-(Ks(r)/$i|0)|0}var Wn=256,xr=4194304;function vn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ci(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,m=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var N=u&134217727;return N!==0?(u=N&~m,u!==0?d=vn(u):(R&=N,R!==0?d=vn(R):o||(o=N&~r,o!==0&&(d=vn(o))))):(N=u&~m,N!==0?d=vn(N):R!==0?d=vn(R):o||(o=u&~r,o!==0&&(d=vn(o)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:d}function Yn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ki(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(){var r=Wn;return Wn<<=1,(Wn&4194048)===0&&(Wn=256),r}function Wi(){var r=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),r}function Qn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Xn(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Pr(r,s,o,u,d,m){var R=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var N=r.entanglements,$=r.expirationTimes,ae=r.hiddenUpdates;for(o=R&~o;0<o;){var de=31-Dt(o),ve=1<<de;N[de]=0,$[de]=-1;var le=ae[de];if(le!==null)for(ae[de]=null,de=0;de<le.length;de++){var ue=le[de];ue!==null&&(ue.lane&=-536870913)}o&=~ve}u!==0&&Nn(r,u,0),m!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=m&~(R&~s))}function Nn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Dt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function kr(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Dt(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function gr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function mr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function vr(){var r=w.p;return r!==0?r:(r=window.event,r===void 0?32:jb(r.type))}function Fa(r,s){var o=w.p;try{return w.p=r,s()}finally{w.p=o}}var lt=Math.random().toString(36).slice(2),Ie="__reactFiber$"+lt,Bt="__reactProps$"+lt,Zn="__reactContainer$"+lt,dl="__reactEvents$"+lt,fd="__reactListeners$"+lt,Yi="__reactHandles$"+lt,cc="__reactResources$"+lt,Ws="__reactMarker$"+lt;function Qi(r){delete r[Ie],delete r[Bt],delete r[dl],delete r[fd],delete r[Yi]}function hi(r){var s=r[Ie];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Zn]||o[Ie]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Sb(r);r!==null;){if(o=r[Ie])return o;r=Sb(r)}return s}r=o,o=r.parentNode}return null}function Dr(r){if(r=r[Ie]||r[Zn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Nr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Tn(r){var s=r[cc];return s||(s=r[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(r){r[Ws]=!0}var pl=new Set,Ga={};function yr(r,s){fi(r,s),fi(r+"Capture",s)}function fi(r,s){for(Ga[r]=s,r=0;r<s.length;r++)pl.add(s[r])}var hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},Ys={};function dc(r){return je.call(Ys,r)?!0:je.call(fc,r)?!1:hc.test(r)?Ys[r]=!0:(fc[r]=!0,!1)}function Xi(r,s,o){if(dc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function jr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ln(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Qs,pc;function di(r){if(Qs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Qs=s&&s[1]||"",pc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+r+pc}var $a=!1;function Ka(r,s){if(!r||$a)return"";$a=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ue){var le=ue}Reflect.construct(r,[],ve)}else{try{ve.call()}catch(ue){le=ue}r.call(ve.prototype)}}else{try{throw Error()}catch(ue){le=ue}(ve=r())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),R=m[0],N=m[1];if(R&&N){var $=R.split(`
`),ae=N.split(`
`);for(d=u=0;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;for(;d<ae.length&&!ae[d].includes("DetermineComponentFrameRoot");)d++;if(u===$.length||d===ae.length)for(u=$.length-1,d=ae.length-1;1<=u&&0<=d&&$[u]!==ae[d];)d--;for(;1<=u&&0<=d;u--,d--)if($[u]!==ae[d]){if(u!==1||d!==1)do if(u--,d--,0>d||$[u]!==ae[d]){var de=`
`+$[u].replace(" at new "," at ");return r.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",r.displayName)),de}while(1<=u&&0<=d);break}}}finally{$a=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?di(o):""}function gl(r){switch(r.tag){case 26:case 27:case 5:return di(r.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Ka(r.type,!1);case 11:return Ka(r.type.render,!1);case 1:return Ka(r.type,!0);case 31:return di("Activity");default:return""}}function Wa(r){try{var s="";do s+=gl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ml(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function dd(r){var s=ml(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(R){u=""+R,m.call(this,R)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ya(r){r._valueTracker||(r._valueTracker=dd(r))}function vl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=ml(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Xs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pd=/[\n"\\]/g;function Ht(r){return r.replace(pd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function jn(r,s,o,u,d,m,R,N){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),s!=null?R==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Cn(s)):r.value!==""+Cn(s)&&(r.value=""+Cn(s)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),s!=null?Zi(r,R,Cn(s)):o!=null?Zi(r,R,Cn(o)):u!=null&&r.removeAttribute("value"),d==null&&m!=null&&(r.defaultChecked=!!m),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+Cn(N):r.removeAttribute("name")}function Zs(r,s,o,u,d,m,R,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+Cn(o):"",s=s!=null?""+Cn(s):o,N||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=N?r.checked:!!u,r.defaultChecked=!!u,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function Zi(r,s,o){s==="number"&&Xs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function pi(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Cn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function pt(r,s,o){if(s!=null&&(s=""+Cn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Cn(o):""}function Js(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(se(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Cn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Jn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ea.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function yl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&gc(r,d,u)}else for(var m in s)s.hasOwnProperty(m)&&gc(r,m,s[m])}function _l(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(r){return md.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var gi=null;function er(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mi=null,vi=null;function bl(r){var s=Dr(r);if(s&&(r=s.stateNode)){var o=r[Bt]||null;e:switch(r=s.stateNode,s.type){case"input":if(jn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[Bt]||null;if(!d)throw Error(i(90));jn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&vl(u)}break e;case"textarea":pt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&pi(r,!!o.multiple,s,!1)}}}var Vr=!1;function mc(r,s,o){if(Vr)return r(s,o);Vr=!0;try{var u=r(s);return u}finally{if(Vr=!1,(mi!==null||vi!==null)&&(uh(),mi&&(s=mi,r=vi,vi=mi=null,bl(s),r)))for(s=0;s<r.length;s++)bl(r[s])}}function ta(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Bt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(_r)try{var na={};Object.defineProperty(na,"passive",{get:function(){tr=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{tr=!1}var Ur=null,Ji=null,yi=null;function El(){if(yi)return yi;var r,s=Ji,o=s.length,u,d="value"in Ur?Ur.value:Ur.textContent,m=d.length;for(r=0;r<o&&s[r]===d[r];r++);var R=o-r;for(u=1;u<=R&&s[o-u]===d[m-u];u++);return yi=d.slice(r,1<u?1-u:void 0)}function zr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Br(){return!0}function Sl(){return!1}function tn(r){function s(o,u,d,m,R){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=R,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(o=r[N],this[N]=o?o(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Br:Sl,this.isPropagationStopped=Sl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),s}var ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=tn(ut),ra=v({},ut,{view:0,detail:0}),vc=tn(ra),Za,Ja,Hr,ia=v({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hr&&(Hr&&r.type==="mousemove"?(Za=r.screenX-Hr.screenX,Ja=r.screenY-Hr.screenY):Ja=Za=0,Hr=r),Za)},movementY:function(r){return"movementY"in r?r.movementY:Ja}}),nr=tn(ia),yc=v({},ia,{dataTransfer:0}),vd=tn(yc),sa=v({},ra,{relatedTarget:0}),eo=tn(sa),wl=v({},ut,{animationName:0,elapsedTime:0,pseudoElement:0}),to=tn(wl),_c=v({},ut,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),no=tn(_c),yd=v({},ut,{data:0}),Tl=tn(yd),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ec[r])?!!s[r]:!1}function oa(){return Cl}var Sc=v({},ra,{key:function(r){if(r.key){var s=aa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=zr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?bc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(r){return r.type==="keypress"?zr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ro=tn(Sc),wc=v({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=tn(wc),_i=v({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),Tc=tn(_i),Cc=v({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ac=tn(Cc),Rc=v({},ia,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),io=tn(Rc),An=v({},ut,{newState:0,oldState:0}),Lc=tn(An),Ic=[9,13,27,32],qr=_r&&"CompositionEvent"in window,h=null;_r&&"documentMode"in document&&(h=document.documentMode);var b=_r&&"TextEvent"in window&&!h,A=_r&&(!qr||h&&8<h&&11>=h),V=" ",re=!1;function ce(r,s){switch(r){case"keyup":return Ic.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var tt=!1;function Wt(r,s){switch(r){case"compositionend":return Ee(s);case"keypress":return s.which!==32?null:(re=!0,V);case"textInput":return r=s.data,r===V&&re?null:r;default:return null}}function nt(r,s){if(tt)return r==="compositionend"||!qr&&ce(r,s)?(r=El(),yi=Ji=Ur=null,tt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return A&&s.locale!=="ko"?null:s.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!nn[r.type]:s==="textarea"}function bi(r,s,o,u){mi?vi?vi.push(u):vi=[u]:mi=u,s=gh(s,"onChange"),0<s.length&&(o=new Xa("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var un=null,Fr=null;function Rl(r){fb(r,0)}function Oc(r){var s=Nr(r);if(vl(s))return r}function Pv(r,s){if(r==="change")return s}var kv=!1;if(_r){var _d;if(_r){var bd="oninput"in document;if(!bd){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),bd=typeof Dv.oninput=="function"}_d=bd}else _d=!1;kv=_d&&(!document.documentMode||9<document.documentMode)}function Nv(){un&&(un.detachEvent("onpropertychange",jv),Fr=un=null)}function jv(r){if(r.propertyName==="value"&&Oc(Fr)){var s=[];bi(s,Fr,r,er(r)),mc(Rl,s)}}function yA(r,s,o){r==="focusin"?(Nv(),un=s,Fr=o,un.attachEvent("onpropertychange",jv)):r==="focusout"&&Nv()}function _A(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oc(Fr)}function bA(r,s){if(r==="click")return Oc(s)}function EA(r,s){if(r==="input"||r==="change")return Oc(s)}function SA(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Vn=typeof Object.is=="function"?Object.is:SA;function Ll(r,s){if(Vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!je.call(s,d)||!Vn(r[d],s[d]))return!1}return!0}function Vv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Uv(r,s){var o=Vv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vv(o)}}function zv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?zv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Bv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Xs(r.document)}return s}function Ed(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var wA=_r&&"documentMode"in document&&11>=document.documentMode,so=null,Sd=null,Il=null,wd=!1;function Hv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wd||so==null||so!==Xs(u)||(u=so,"selectionStart"in u&&Ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Il&&Ll(Il,u)||(Il=u,u=gh(Sd,"onSelect"),0<u.length&&(s=new Xa("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=so)))}function la(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var ao={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Td={},qv={};_r&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ua(r){if(Td[r])return Td[r];if(!ao[r])return r;var s=ao[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in qv)return Td[r]=s[o];return r}var Fv=ua("animationend"),Gv=ua("animationiteration"),$v=ua("animationstart"),TA=ua("transitionrun"),CA=ua("transitionstart"),AA=ua("transitioncancel"),Kv=ua("transitionend"),Wv=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function br(r,s){Wv.set(r,s),yr(s,[r])}var Yv=new WeakMap;function rr(r,s){if(typeof r=="object"&&r!==null){var o=Yv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Wa(s)},Yv.set(r,s),s)}return{value:r,source:s,stack:Wa(s)}}var ir=[],oo=0,Ad=0;function xc(){for(var r=oo,s=Ad=oo=0;s<r;){var o=ir[s];ir[s++]=null;var u=ir[s];ir[s++]=null;var d=ir[s];ir[s++]=null;var m=ir[s];if(ir[s++]=null,u!==null&&d!==null){var R=u.pending;R===null?d.next=d:(d.next=R.next,R.next=d),u.pending=d}m!==0&&Qv(o,d,m)}}function Mc(r,s,o,u){ir[oo++]=r,ir[oo++]=s,ir[oo++]=o,ir[oo++]=u,Ad|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Rd(r,s,o,u){return Mc(r,s,o,u),Pc(r)}function lo(r,s){return Mc(r,null,null,s),Pc(r)}function Qv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(d=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,d&&s!==null&&(d=31-Dt(o),r=m.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),m):null}function Pc(r){if(50<eu)throw eu=0,Pp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var uo={};function RA(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(r,s,o,u){return new RA(r,s,o,u)}function Ld(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ei(r,s){var o=r.alternate;return o===null?(o=Un(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Xv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function kc(r,s,o,u,d,m){var R=0;if(u=r,typeof r=="function")Ld(r)&&(R=1);else if(typeof r=="string")R=IR(r,o,J.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case E:return r=Un(31,o,s,d),r.elementType=E,r.lanes=m,r;case k:return ca(o.children,d,m,s);case B:R=8,d|=24;break;case H:return r=Un(12,o,s,d|2),r.elementType=H,r.lanes=m,r;case M:return r=Un(13,o,s,d),r.elementType=M,r.lanes=m,r;case z:return r=Un(19,o,s,d),r.elementType=z,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:case ne:R=10;break e;case Z:R=9;break e;case X:R=11;break e;case O:R=14;break e;case L:R=16,u=null;break e}R=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Un(R,o,s,d),s.elementType=r,s.type=u,s.lanes=m,s}function ca(r,s,o,u){return r=Un(7,r,u,s),r.lanes=o,r}function Id(r,s,o){return r=Un(6,r,null,s),r.lanes=o,r}function Od(r,s,o){return s=Un(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var co=[],ho=0,Dc=null,Nc=0,sr=[],ar=0,ha=null,Si=1,wi="";function fa(r,s){co[ho++]=Nc,co[ho++]=Dc,Dc=r,Nc=s}function Zv(r,s,o){sr[ar++]=Si,sr[ar++]=wi,sr[ar++]=ha,ha=r;var u=Si;r=wi;var d=32-Dt(u)-1;u&=~(1<<d),o+=1;var m=32-Dt(s)+d;if(30<m){var R=d-d%5;m=(u&(1<<R)-1).toString(32),u>>=R,d-=R,Si=1<<32-Dt(s)+d|o<<d|u,wi=m+r}else Si=1<<m|o<<d|u,wi=r}function xd(r){r.return!==null&&(fa(r,1),Zv(r,1,0))}function Md(r){for(;r===Dc;)Dc=co[--ho],co[ho]=null,Nc=co[--ho],co[ho]=null;for(;r===ha;)ha=sr[--ar],sr[ar]=null,wi=sr[--ar],sr[ar]=null,Si=sr[--ar],sr[ar]=null}var Rn=null,Mt=null,ot=!1,da=null,Gr=!1,Pd=Error(i(519));function pa(r){var s=Error(i(418,""));throw Ml(rr(s,r)),Pd}function Jv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ie]=r,s[Bt]=u,o){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(o=0;o<nu.length;o++)Qe(nu[o],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Zs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ya(s);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),Js(s,u.value,u.defaultValue,u.children),Ya(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||mb(s.textContent,o)?(u.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),u.onScroll!=null&&Qe("scroll",s),u.onScrollEnd!=null&&Qe("scrollend",s),u.onClick!=null&&(s.onclick=mh),s=!0):s=!1,s||pa(r)}function ey(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:Rn=Rn.return}}function Ol(r){if(r!==Rn)return!1;if(!ot)return ey(r),ot=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Yp(r.type,r.memoizedProps)),o=!o),o&&Mt&&pa(r),ey(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Mt=Sr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Mt=null}}else s===27?(s=Mt,gs(r.type)?(r=Jp,Jp=null,Mt=r):Mt=s):Mt=Rn?Sr(r.stateNode.nextSibling):null;return!0}function xl(){Mt=Rn=null,ot=!1}function ty(){var r=da;return r!==null&&(xn===null?xn=r:xn.push.apply(xn,r),da=null),r}function Ml(r){da===null?da=[r]:da.push(r)}var kd=D(null),ga=null,Ti=null;function es(r,s,o){Y(kd,s._currentValue),s._currentValue=o}function Ci(r){r._currentValue=kd.current,q(kd)}function Dd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Nd(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var m=d.dependencies;if(m!==null){var R=d.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=d;for(var $=0;$<s.length;$++)if(N.context===s[$]){m.lanes|=o,N=m.alternate,N!==null&&(N.lanes|=o),Dd(m.return,o,r),u||(R=null);break e}m=N.next}}else if(d.tag===18){if(R=d.return,R===null)throw Error(i(341));R.lanes|=o,m=R.alternate,m!==null&&(m.lanes|=o),Dd(R,o,r),R=null}else R=d.child;if(R!==null)R.return=d;else for(R=d;R!==null;){if(R===r){R=null;break}if(d=R.sibling,d!==null){d.return=R.return,R=d;break}R=R.return}d=R}}function Pl(r,s,o,u){r=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var R=d.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var N=d.type;Vn(d.pendingProps.value,R.value)||(r!==null?r.push(N):r=[N])}}else if(d===pe.current){if(R=d.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(lu):r=[lu])}d=d.return}r!==null&&Nd(s,r,o,u),s.flags|=262144}function jc(r){for(r=r.firstContext;r!==null;){if(!Vn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ma(r){ga=r,Ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function yn(r){return ny(ga,r)}function Vc(r,s){return ga===null&&ma(r),ny(r,s)}function ny(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ti===null){if(r===null)throw Error(i(308));Ti=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ti=Ti.next=s;return o}var LA=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},IA=n.unstable_scheduleCallback,OA=n.unstable_NormalPriority,Qt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jd(){return{controller:new LA,data:new Map,refCount:0}}function kl(r){r.refCount--,r.refCount===0&&IA(OA,function(){r.controller.abort()})}var Dl=null,Vd=0,fo=0,po=null;function xA(r,s){if(Dl===null){var o=Dl=[];Vd=0,fo=zp(),po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Vd++,s.then(ry,ry),s}function ry(){if(--Vd===0&&Dl!==null){po!==null&&(po.status="fulfilled");var r=Dl;Dl=null,fo=0,po=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function MA(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var iy=G.S;G.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xA(r,s),iy!==null&&iy(r,s)};var va=D(null);function Ud(){var r=va.current;return r!==null?r:Tt.pooledCache}function Uc(r,s){s===null?Y(va,va.current):Y(va,s.pool)}function sy(){var r=Ud();return r===null?null:{parent:Qt._currentValue,pool:r}}var Nl=Error(i(460)),ay=Error(i(474)),zc=Error(i(542)),zd={then:function(){}};function oy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Bc(){}function ly(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Bc,Bc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,cy(r),r;default:if(typeof s.status=="string")s.then(Bc,Bc);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,cy(r),r}throw jl=s,Nl}}var jl=null;function uy(){if(jl===null)throw Error(i(459));var r=jl;return jl=null,r}function cy(r){if(r===Nl||r===zc)throw Error(i(483))}var ts=!1;function Bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ns(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function rs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ft&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Pc(r),Qv(r,null,o),s}return Mc(r,u,s,o),Pc(r)}function Vl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,kr(r,o)}}function qd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var R={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=R:m=m.next=R,o=o.next}while(o!==null);m===null?d=m=s:m=m.next=s}else d=m=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Fd=!1;function Ul(){if(Fd){var r=po;if(r!==null)throw r}}function zl(r,s,o,u){Fd=!1;var d=r.updateQueue;ts=!1;var m=d.firstBaseUpdate,R=d.lastBaseUpdate,N=d.shared.pending;if(N!==null){d.shared.pending=null;var $=N,ae=$.next;$.next=null,R===null?m=ae:R.next=ae,R=$;var de=r.alternate;de!==null&&(de=de.updateQueue,N=de.lastBaseUpdate,N!==R&&(N===null?de.firstBaseUpdate=ae:N.next=ae,de.lastBaseUpdate=$))}if(m!==null){var ve=d.baseState;R=0,de=ae=$=null,N=m;do{var le=N.lane&-536870913,ue=le!==N.lane;if(ue?(rt&le)===le:(u&le)===le){le!==0&&le===fo&&(Fd=!0),de!==null&&(de=de.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ze=r,Pe=N;le=s;var vt=o;switch(Pe.tag){case 1:if(ze=Pe.payload,typeof ze=="function"){ve=ze.call(vt,ve,le);break e}ve=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Pe.payload,le=typeof ze=="function"?ze.call(vt,ve,le):ze,le==null)break e;ve=v({},ve,le);break e;case 2:ts=!0}}le=N.callback,le!==null&&(r.flags|=64,ue&&(r.flags|=8192),ue=d.callbacks,ue===null?d.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:N.tag,payload:N.payload,callback:N.callback,next:null},de===null?(ae=de=ue,$=ve):de=de.next=ue,R|=le;if(N=N.next,N===null){if(N=d.shared.pending,N===null)break;ue=N,N=ue.next,ue.next=null,d.lastBaseUpdate=ue,d.shared.pending=null}}while(!0);de===null&&($=ve),d.baseState=$,d.firstBaseUpdate=ae,d.lastBaseUpdate=de,m===null&&(d.shared.lanes=0),hs|=R,r.lanes=R,r.memoizedState=ve}}function hy(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function fy(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)hy(o[r],s)}var go=D(null),Hc=D(0);function dy(r,s){r=Mi,Y(Hc,r),Y(go,s),Mi=r|s.baseLanes}function Gd(){Y(Hc,Mi),Y(go,go.current)}function $d(){Mi=Hc.current,q(go),q(Hc)}var is=0,$e=null,gt=null,qt=null,qc=!1,mo=!1,ya=!1,Fc=0,Bl=0,vo=null,PA=0;function jt(){throw Error(i(321))}function Kd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Vn(r[o],s[o]))return!1;return!0}function Wd(r,s,o,u,d,m){return is=m,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=r===null||r.memoizedState===null?Qy:Xy,ya=!1,m=o(u,d),ya=!1,mo&&(m=gy(s,o,u,d)),py(r),m}function py(r){G.H=Qc;var s=gt!==null&&gt.next!==null;if(is=0,qt=gt=$e=null,qc=!1,Bl=0,vo=null,s)throw Error(i(300));r===null||rn||(r=r.dependencies,r!==null&&jc(r)&&(rn=!0))}function gy(r,s,o,u){$e=r;var d=0;do{if(mo&&(vo=null),Bl=0,mo=!1,25<=d)throw Error(i(301));if(d+=1,qt=gt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=zA,m=s(o,u)}while(mo);return m}function kA(){var r=G.H,s=r.useState()[0];return s=typeof s.then=="function"?Hl(s):s,r=r.useState()[0],(gt!==null?gt.memoizedState:null)!==r&&($e.flags|=1024),s}function Yd(){var r=Fc!==0;return Fc=0,r}function Qd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Xd(r){if(qc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qc=!1}is=0,qt=gt=$e=null,mo=!1,Bl=Fc=0,vo=null}function In(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?$e.memoizedState=qt=r:qt=qt.next=r,qt}function Ft(){if(gt===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var s=qt===null?$e.memoizedState:qt.next;if(s!==null)qt=s,gt=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},qt===null?$e.memoizedState=qt=r:qt=qt.next=r}return qt}function Zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(r){var s=Bl;return Bl+=1,vo===null&&(vo=[]),r=ly(vo,r,s),s=$e,(qt===null?s.memoizedState:qt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Qy:Xy),r}function Gc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Hl(r);if(r.$$typeof===ne)return yn(r)}throw Error(i(438,String(r)))}function Jd(r){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Zd(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=T;return s.index++,o}function Ai(r,s){return typeof s=="function"?s(r):s}function $c(r){var s=Ft();return ep(s,gt,r)}function ep(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,m=u.pending;if(m!==null){if(d!==null){var R=d.next;d.next=m.next,m.next=R}s.baseQueue=d=m,u.pending=null}if(m=r.baseState,d===null)r.memoizedState=m;else{s=d.next;var N=R=null,$=null,ae=s,de=!1;do{var ve=ae.lane&-536870913;if(ve!==ae.lane?(rt&ve)===ve:(is&ve)===ve){var le=ae.revertLane;if(le===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ve===fo&&(de=!0);else if((is&le)===le){ae=ae.next,le===fo&&(de=!0);continue}else ve={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},$===null?(N=$=ve,R=m):$=$.next=ve,$e.lanes|=le,hs|=le;ve=ae.action,ya&&o(m,ve),m=ae.hasEagerState?ae.eagerState:o(m,ve)}else le={lane:ve,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},$===null?(N=$=le,R=m):$=$.next=le,$e.lanes|=ve,hs|=ve;ae=ae.next}while(ae!==null&&ae!==s);if($===null?R=m:$.next=N,!Vn(m,r.memoizedState)&&(rn=!0,de&&(o=po,o!==null)))throw o;r.memoizedState=m,r.baseState=R,r.baseQueue=$,u.lastRenderedState=m}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function tp(r){var s=Ft(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,m=s.memoizedState;if(d!==null){o.pending=null;var R=d=d.next;do m=r(m,R.action),R=R.next;while(R!==d);Vn(m,s.memoizedState)||(rn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function my(r,s,o){var u=$e,d=Ft(),m=ot;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var R=!Vn((gt||d).memoizedState,o);R&&(d.memoizedState=o,rn=!0),d=d.queue;var N=_y.bind(null,u,d,r);if(ql(2048,8,N,[r]),d.getSnapshot!==s||R||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,yo(9,Kc(),yy.bind(null,u,d,o,s),null),Tt===null)throw Error(i(349));m||(is&124)!==0||vy(u,s,o)}return o}function vy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=Zd(),$e.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function yy(r,s,o,u){s.value=o,s.getSnapshot=u,by(s)&&Ey(r)}function _y(r,s,o){return o(function(){by(s)&&Ey(r)})}function by(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Vn(r,o)}catch{return!0}}function Ey(r){var s=lo(r,2);s!==null&&Fn(s,r,2)}function np(r){var s=In();if(typeof r=="function"){var o=r;if(r=o(),ya){xt(!0);try{o()}finally{xt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},s}function Sy(r,s,o,u){return r.baseState=o,ep(r,gt,typeof u=="function"?u:Ai)}function DA(r,s,o,u,d){if(Yc(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){m.listeners.push(R)}};G.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,wy(s,m)):(m.next=o.next,s.pending=o.next=m)}}function wy(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var m=G.T,R={};G.T=R;try{var N=o(d,u),$=G.S;$!==null&&$(R,N),Ty(r,s,N)}catch(ae){rp(r,s,ae)}finally{G.T=m}}else try{m=o(d,u),Ty(r,s,m)}catch(ae){rp(r,s,ae)}}function Ty(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Cy(r,s,u)},function(u){return rp(r,s,u)}):Cy(r,s,o)}function Cy(r,s,o){s.status="fulfilled",s.value=o,Ay(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,wy(r,o)))}function rp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Ay(s),s=s.next;while(s!==u)}r.action=null}function Ay(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Ry(r,s){return s}function Ly(r,s){if(ot){var o=Tt.formState;if(o!==null){e:{var u=$e;if(ot){if(Mt){t:{for(var d=Mt,m=Gr;d.nodeType!==8;){if(!m){d=null;break t}if(d=Sr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Mt=Sr(d.nextSibling),u=d.data==="F!";break e}}pa(u)}u=!1}u&&(s=o[0])}}return o=In(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:s},o.queue=u,o=Ky.bind(null,$e,u),u.dispatch=o,u=np(!1),m=lp.bind(null,$e,!1,u.queue),u=In(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=DA.bind(null,$e,d,m,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function Iy(r){var s=Ft();return Oy(s,gt,r)}function Oy(r,s,o){if(s=ep(r,s,Ry)[0],r=$c(Ai)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Hl(s)}catch(R){throw R===Nl?zc:R}else u=s;s=Ft();var d=s.queue,m=d.dispatch;return o!==s.memoizedState&&($e.flags|=2048,yo(9,Kc(),NA.bind(null,d,o),null)),[u,m,r]}function NA(r,s){r.action=s}function xy(r){var s=Ft(),o=gt;if(o!==null)return Oy(s,o,r);Ft(),s=s.memoizedState,o=Ft();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function yo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=$e.updateQueue,s===null&&(s=Zd(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Kc(){return{destroy:void 0,resource:void 0}}function My(){return Ft().memoizedState}function Wc(r,s,o,u){var d=In();u=u===void 0?null:u,$e.flags|=r,d.memoizedState=yo(1|s,Kc(),o,u)}function ql(r,s,o,u){var d=Ft();u=u===void 0?null:u;var m=d.memoizedState.inst;gt!==null&&u!==null&&Kd(u,gt.memoizedState.deps)?d.memoizedState=yo(s,m,o,u):($e.flags|=r,d.memoizedState=yo(1|s,m,o,u))}function Py(r,s){Wc(8390656,8,r,s)}function ky(r,s){ql(2048,8,r,s)}function Dy(r,s){return ql(4,2,r,s)}function Ny(r,s){return ql(4,4,r,s)}function jy(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Vy(r,s,o){o=o!=null?o.concat([r]):null,ql(4,4,jy.bind(null,s,r),o)}function ip(){}function Uy(r,s){var o=Ft();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Kd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function zy(r,s){var o=Ft();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Kd(s,u[1]))return u[0];if(u=r(),ya){xt(!0);try{r()}finally{xt(!1)}}return o.memoizedState=[u,s],u}function sp(r,s,o){return o===void 0||(is&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=q_(),$e.lanes|=r,hs|=r,o)}function By(r,s,o,u){return Vn(o,s)?o:go.current!==null?(r=sp(r,o,u),Vn(r,s)||(rn=!0),r):(is&42)===0?(rn=!0,r.memoizedState=o):(r=q_(),$e.lanes|=r,hs|=r,s)}function Hy(r,s,o,u,d){var m=w.p;w.p=m!==0&&8>m?m:8;var R=G.T,N={};G.T=N,lp(r,!1,s,o);try{var $=d(),ae=G.S;if(ae!==null&&ae(N,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var de=MA($,u);Fl(r,s,de,qn(r))}else Fl(r,s,u,qn(r))}catch(ve){Fl(r,s,{then:function(){},status:"rejected",reason:ve},qn())}finally{w.p=m,G.T=R}}function jA(){}function ap(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=qy(r).queue;Hy(r,d,s,fe,o===null?jA:function(){return Fy(r),o(u)})}function qy(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Fy(r){var s=qy(r).next.queue;Fl(r,s,{},qn())}function op(){return yn(lu)}function Gy(){return Ft().memoizedState}function $y(){return Ft().memoizedState}function VA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=qn();r=ns(o);var u=rs(s,r,o);u!==null&&(Fn(u,s,o),Vl(u,s,o)),s={cache:jd()},r.payload=s;return}s=s.return}}function UA(r,s,o){var u=qn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Yc(r)?Wy(s,o):(o=Rd(r,s,o,u),o!==null&&(Fn(o,r,u),Yy(o,s,u)))}function Ky(r,s,o){var u=qn();Fl(r,s,o,u)}function Fl(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yc(r))Wy(s,d);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var R=s.lastRenderedState,N=m(R,o);if(d.hasEagerState=!0,d.eagerState=N,Vn(N,R))return Mc(r,s,d,0),Tt===null&&xc(),!1}catch{}finally{}if(o=Rd(r,s,d,u),o!==null)return Fn(o,r,u),Yy(o,s,u),!0}return!1}function lp(r,s,o,u){if(u={lane:2,revertLane:zp(),action:u,hasEagerState:!1,eagerState:null,next:null},Yc(r)){if(s)throw Error(i(479))}else s=Rd(r,o,u,2),s!==null&&Fn(s,r,2)}function Yc(r){var s=r.alternate;return r===$e||s!==null&&s===$e}function Wy(r,s){mo=qc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Yy(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,kr(r,o)}}var Qc={readContext:yn,use:Gc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},Qy={readContext:yn,use:Gc,useCallback:function(r,s){return In().memoizedState=[r,s===void 0?null:s],r},useContext:yn,useEffect:Py,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Wc(4194308,4,jy.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Wc(4194308,4,r,s)},useInsertionEffect:function(r,s){Wc(4,2,r,s)},useMemo:function(r,s){var o=In();s=s===void 0?null:s;var u=r();if(ya){xt(!0);try{r()}finally{xt(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=In();if(o!==void 0){var d=o(s);if(ya){xt(!0);try{o(s)}finally{xt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=UA.bind(null,$e,r),[u.memoizedState,r]},useRef:function(r){var s=In();return r={current:r},s.memoizedState=r},useState:function(r){r=np(r);var s=r.queue,o=Ky.bind(null,$e,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:ip,useDeferredValue:function(r,s){var o=In();return sp(o,r,s)},useTransition:function(){var r=np(!1);return r=Hy.bind(null,$e,r.queue,!0,!1),In().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=$e,d=In();if(ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Tt===null)throw Error(i(349));(rt&124)!==0||vy(u,s,o)}d.memoizedState=o;var m={value:o,getSnapshot:s};return d.queue=m,Py(_y.bind(null,u,m,r),[r]),u.flags|=2048,yo(9,Kc(),yy.bind(null,u,m,o,s),null),o},useId:function(){var r=In(),s=Tt.identifierPrefix;if(ot){var o=wi,u=Si;o=(u&~(1<<32-Dt(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Fc++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=PA++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:op,useFormState:Ly,useActionState:Ly,useOptimistic:function(r){var s=In();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=lp.bind(null,$e,!0,o),o.dispatch=s,[r,s]},useMemoCache:Jd,useCacheRefresh:function(){return In().memoizedState=VA.bind(null,$e)}},Xy={readContext:yn,use:Gc,useCallback:Uy,useContext:yn,useEffect:ky,useImperativeHandle:Vy,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:zy,useReducer:$c,useRef:My,useState:function(){return $c(Ai)},useDebugValue:ip,useDeferredValue:function(r,s){var o=Ft();return By(o,gt.memoizedState,r,s)},useTransition:function(){var r=$c(Ai)[0],s=Ft().memoizedState;return[typeof r=="boolean"?r:Hl(r),s]},useSyncExternalStore:my,useId:Gy,useHostTransitionStatus:op,useFormState:Iy,useActionState:Iy,useOptimistic:function(r,s){var o=Ft();return Sy(o,gt,r,s)},useMemoCache:Jd,useCacheRefresh:$y},zA={readContext:yn,use:Gc,useCallback:Uy,useContext:yn,useEffect:ky,useImperativeHandle:Vy,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:zy,useReducer:tp,useRef:My,useState:function(){return tp(Ai)},useDebugValue:ip,useDeferredValue:function(r,s){var o=Ft();return gt===null?sp(o,r,s):By(o,gt.memoizedState,r,s)},useTransition:function(){var r=tp(Ai)[0],s=Ft().memoizedState;return[typeof r=="boolean"?r:Hl(r),s]},useSyncExternalStore:my,useId:Gy,useHostTransitionStatus:op,useFormState:xy,useActionState:xy,useOptimistic:function(r,s){var o=Ft();return gt!==null?Sy(o,gt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:$y},_o=null,Gl=0;function Xc(r){var s=Gl;return Gl+=1,_o===null&&(_o=[]),ly(_o,r,s)}function $l(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Zc(r,s){throw s.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Zy(r){var s=r._init;return s(r._payload)}function Jy(r){function s(ee,Q){if(r){var ie=ee.deletions;ie===null?(ee.deletions=[Q],ee.flags|=16):ie.push(Q)}}function o(ee,Q){if(!r)return null;for(;Q!==null;)s(ee,Q),Q=Q.sibling;return null}function u(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function d(ee,Q){return ee=Ei(ee,Q),ee.index=0,ee.sibling=null,ee}function m(ee,Q,ie){return ee.index=ie,r?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Q?(ee.flags|=67108866,Q):ie):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function R(ee){return r&&ee.alternate===null&&(ee.flags|=67108866),ee}function N(ee,Q,ie,ge){return Q===null||Q.tag!==6?(Q=Id(ie,ee.mode,ge),Q.return=ee,Q):(Q=d(Q,ie),Q.return=ee,Q)}function $(ee,Q,ie,ge){var Le=ie.type;return Le===k?de(ee,Q,ie.props.children,ge,ie.key):Q!==null&&(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===L&&Zy(Le)===Q.type)?(Q=d(Q,ie.props),$l(Q,ie),Q.return=ee,Q):(Q=kc(ie.type,ie.key,ie.props,null,ee.mode,ge),$l(Q,ie),Q.return=ee,Q)}function ae(ee,Q,ie,ge){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=Od(ie,ee.mode,ge),Q.return=ee,Q):(Q=d(Q,ie.children||[]),Q.return=ee,Q)}function de(ee,Q,ie,ge,Le){return Q===null||Q.tag!==7?(Q=ca(ie,ee.mode,ge,Le),Q.return=ee,Q):(Q=d(Q,ie),Q.return=ee,Q)}function ve(ee,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Id(""+Q,ee.mode,ie),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return ie=kc(Q.type,Q.key,Q.props,null,ee.mode,ie),$l(ie,Q),ie.return=ee,ie;case j:return Q=Od(Q,ee.mode,ie),Q.return=ee,Q;case L:var ge=Q._init;return Q=ge(Q._payload),ve(ee,Q,ie)}if(se(Q)||U(Q))return Q=ca(Q,ee.mode,ie,null),Q.return=ee,Q;if(typeof Q.then=="function")return ve(ee,Xc(Q),ie);if(Q.$$typeof===ne)return ve(ee,Vc(ee,Q),ie);Zc(ee,Q)}return null}function le(ee,Q,ie,ge){var Le=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Le!==null?null:N(ee,Q,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:return ie.key===Le?$(ee,Q,ie,ge):null;case j:return ie.key===Le?ae(ee,Q,ie,ge):null;case L:return Le=ie._init,ie=Le(ie._payload),le(ee,Q,ie,ge)}if(se(ie)||U(ie))return Le!==null?null:de(ee,Q,ie,ge,null);if(typeof ie.then=="function")return le(ee,Q,Xc(ie),ge);if(ie.$$typeof===ne)return le(ee,Q,Vc(ee,ie),ge);Zc(ee,ie)}return null}function ue(ee,Q,ie,ge,Le){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ee=ee.get(ie)||null,N(Q,ee,""+ge,Le);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case C:return ee=ee.get(ge.key===null?ie:ge.key)||null,$(Q,ee,ge,Le);case j:return ee=ee.get(ge.key===null?ie:ge.key)||null,ae(Q,ee,ge,Le);case L:var Ke=ge._init;return ge=Ke(ge._payload),ue(ee,Q,ie,ge,Le)}if(se(ge)||U(ge))return ee=ee.get(ie)||null,de(Q,ee,ge,Le,null);if(typeof ge.then=="function")return ue(ee,Q,ie,Xc(ge),Le);if(ge.$$typeof===ne)return ue(ee,Q,ie,Vc(Q,ge),Le);Zc(Q,ge)}return null}function ze(ee,Q,ie,ge){for(var Le=null,Ke=null,Oe=Q,Ne=Q=0,an=null;Oe!==null&&Ne<ie.length;Ne++){Oe.index>Ne?(an=Oe,Oe=null):an=Oe.sibling;var st=le(ee,Oe,ie[Ne],ge);if(st===null){Oe===null&&(Oe=an);break}r&&Oe&&st.alternate===null&&s(ee,Oe),Q=m(st,Q,Ne),Ke===null?Le=st:Ke.sibling=st,Ke=st,Oe=an}if(Ne===ie.length)return o(ee,Oe),ot&&fa(ee,Ne),Le;if(Oe===null){for(;Ne<ie.length;Ne++)Oe=ve(ee,ie[Ne],ge),Oe!==null&&(Q=m(Oe,Q,Ne),Ke===null?Le=Oe:Ke.sibling=Oe,Ke=Oe);return ot&&fa(ee,Ne),Le}for(Oe=u(Oe);Ne<ie.length;Ne++)an=ue(Oe,ee,Ne,ie[Ne],ge),an!==null&&(r&&an.alternate!==null&&Oe.delete(an.key===null?Ne:an.key),Q=m(an,Q,Ne),Ke===null?Le=an:Ke.sibling=an,Ke=an);return r&&Oe.forEach(function(bs){return s(ee,bs)}),ot&&fa(ee,Ne),Le}function Pe(ee,Q,ie,ge){if(ie==null)throw Error(i(151));for(var Le=null,Ke=null,Oe=Q,Ne=Q=0,an=null,st=ie.next();Oe!==null&&!st.done;Ne++,st=ie.next()){Oe.index>Ne?(an=Oe,Oe=null):an=Oe.sibling;var bs=le(ee,Oe,st.value,ge);if(bs===null){Oe===null&&(Oe=an);break}r&&Oe&&bs.alternate===null&&s(ee,Oe),Q=m(bs,Q,Ne),Ke===null?Le=bs:Ke.sibling=bs,Ke=bs,Oe=an}if(st.done)return o(ee,Oe),ot&&fa(ee,Ne),Le;if(Oe===null){for(;!st.done;Ne++,st=ie.next())st=ve(ee,st.value,ge),st!==null&&(Q=m(st,Q,Ne),Ke===null?Le=st:Ke.sibling=st,Ke=st);return ot&&fa(ee,Ne),Le}for(Oe=u(Oe);!st.done;Ne++,st=ie.next())st=ue(Oe,ee,Ne,st.value,ge),st!==null&&(r&&st.alternate!==null&&Oe.delete(st.key===null?Ne:st.key),Q=m(st,Q,Ne),Ke===null?Le=st:Ke.sibling=st,Ke=st);return r&&Oe.forEach(function(BR){return s(ee,BR)}),ot&&fa(ee,Ne),Le}function vt(ee,Q,ie,ge){if(typeof ie=="object"&&ie!==null&&ie.type===k&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:e:{for(var Le=ie.key;Q!==null;){if(Q.key===Le){if(Le=ie.type,Le===k){if(Q.tag===7){o(ee,Q.sibling),ge=d(Q,ie.props.children),ge.return=ee,ee=ge;break e}}else if(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===L&&Zy(Le)===Q.type){o(ee,Q.sibling),ge=d(Q,ie.props),$l(ge,ie),ge.return=ee,ee=ge;break e}o(ee,Q);break}else s(ee,Q);Q=Q.sibling}ie.type===k?(ge=ca(ie.props.children,ee.mode,ge,ie.key),ge.return=ee,ee=ge):(ge=kc(ie.type,ie.key,ie.props,null,ee.mode,ge),$l(ge,ie),ge.return=ee,ee=ge)}return R(ee);case j:e:{for(Le=ie.key;Q!==null;){if(Q.key===Le)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){o(ee,Q.sibling),ge=d(Q,ie.children||[]),ge.return=ee,ee=ge;break e}else{o(ee,Q);break}else s(ee,Q);Q=Q.sibling}ge=Od(ie,ee.mode,ge),ge.return=ee,ee=ge}return R(ee);case L:return Le=ie._init,ie=Le(ie._payload),vt(ee,Q,ie,ge)}if(se(ie))return ze(ee,Q,ie,ge);if(U(ie)){if(Le=U(ie),typeof Le!="function")throw Error(i(150));return ie=Le.call(ie),Pe(ee,Q,ie,ge)}if(typeof ie.then=="function")return vt(ee,Q,Xc(ie),ge);if(ie.$$typeof===ne)return vt(ee,Q,Vc(ee,ie),ge);Zc(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(o(ee,Q.sibling),ge=d(Q,ie),ge.return=ee,ee=ge):(o(ee,Q),ge=Id(ie,ee.mode,ge),ge.return=ee,ee=ge),R(ee)):o(ee,Q)}return function(ee,Q,ie,ge){try{Gl=0;var Le=vt(ee,Q,ie,ge);return _o=null,Le}catch(Oe){if(Oe===Nl||Oe===zc)throw Oe;var Ke=Un(29,Oe,null,ee.mode);return Ke.lanes=ge,Ke.return=ee,Ke}finally{}}}var bo=Jy(!0),e_=Jy(!1),or=D(null),$r=null;function ss(r){var s=r.alternate;Y(Xt,Xt.current&1),Y(or,r),$r===null&&(s===null||go.current!==null||s.memoizedState!==null)&&($r=r)}function t_(r){if(r.tag===22){if(Y(Xt,Xt.current),Y(or,r),$r===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&($r=r)}}else as()}function as(){Y(Xt,Xt.current),Y(or,or.current)}function Ri(r){q(or),$r===r&&($r=null),q(Xt)}var Xt=D(0);function Jc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Zp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function up(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var cp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=qn(),d=ns(u);d.payload=s,o!=null&&(d.callback=o),s=rs(r,d,u),s!==null&&(Fn(s,r,u),Vl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=qn(),d=ns(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=rs(r,d,u),s!==null&&(Fn(s,r,u),Vl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=qn(),u=ns(o);u.tag=2,s!=null&&(u.callback=s),s=rs(r,u,o),s!==null&&(Fn(s,r,o),Vl(s,r,o))}};function n_(r,s,o,u,d,m,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,R):s.prototype&&s.prototype.isPureReactComponent?!Ll(o,u)||!Ll(d,m):!0}function r_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&cp.enqueueReplaceState(s,s.state,null)}function _a(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var eh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function i_(r){eh(r)}function s_(r){console.error(r)}function a_(r){eh(r)}function th(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function o_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function hp(r,s,o){return o=ns(o),o.tag=3,o.payload={element:null},o.callback=function(){th(r,s)},o}function l_(r){return r=ns(r),r.tag=3,r}function u_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;r.payload=function(){return d(m)},r.callback=function(){o_(s,o,u)}}var R=o.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){o_(s,o,u),typeof d!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function BA(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Pl(s,o,d,!0),o=or.current,o!==null){switch(o.tag){case 13:return $r===null?Dp():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===zd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),jp(r,u,d)),!1;case 22:return o.flags|=65536,u===zd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),jp(r,u,d)),!1}throw Error(i(435,o.tag))}return jp(r,u,d),Dp(),!1}if(ot)return s=or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Pd&&(r=Error(i(422),{cause:u}),Ml(rr(r,o)))):(u!==Pd&&(s=Error(i(423),{cause:u}),Ml(rr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=rr(u,o),d=hp(r.stateNode,u,d),qd(r,d),Pt!==4&&(Pt=2)),!1;var m=Error(i(520),{cause:u});if(m=rr(m,o),Jl===null?Jl=[m]:Jl.push(m),Pt!==4&&(Pt=2),s===null)return!0;u=rr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=hp(o.stateNode,u,r),qd(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fs===null||!fs.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=l_(d),u_(d,r,o,u),qd(o,d),!1}o=o.return}while(o!==null);return!1}var c_=Error(i(461)),rn=!1;function cn(r,s,o,u){s.child=r===null?e_(s,null,o,u):bo(s,r.child,o,u)}function h_(r,s,o,u,d){o=o.render;var m=s.ref;if("ref"in u){var R={};for(var N in u)N!=="ref"&&(R[N]=u[N])}else R=u;return ma(s),u=Wd(r,s,o,R,m,d),N=Yd(),r!==null&&!rn?(Qd(r,s,d),Li(r,s,d)):(ot&&N&&xd(s),s.flags|=1,cn(r,s,u,d),s.child)}function f_(r,s,o,u,d){if(r===null){var m=o.type;return typeof m=="function"&&!Ld(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,d_(r,s,m,u,d)):(r=kc(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!_p(r,d)){var R=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ll,o(R,u)&&r.ref===s.ref)return Li(r,s,d)}return s.flags|=1,r=Ei(m,u),r.ref=s.ref,r.return=s,s.child=r}function d_(r,s,o,u,d){if(r!==null){var m=r.memoizedProps;if(Ll(m,u)&&r.ref===s.ref)if(rn=!1,s.pendingProps=u=m,_p(r,d))(r.flags&131072)!==0&&(rn=!0);else return s.lanes=r.lanes,Li(r,s,d)}return fp(r,s,o,u,d)}function p_(r,s,o){var u=s.pendingProps,d=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(d=s.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return g_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Uc(s,m!==null?m.cachePool:null),m!==null?dy(s,m):Gd(),t_(s);else return s.lanes=s.childLanes=536870912,g_(r,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(Uc(s,m.cachePool),dy(s,m),as(),s.memoizedState=null):(r!==null&&Uc(s,null),Gd(),as());return cn(r,s,d,o),s.child}function g_(r,s,o,u){var d=Ud();return d=d===null?null:{parent:Qt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Uc(s,null),Gd(),t_(s),r!==null&&Pl(r,s,u,!0),null}function nh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function fp(r,s,o,u,d){return ma(s),o=Wd(r,s,o,u,void 0,d),u=Yd(),r!==null&&!rn?(Qd(r,s,d),Li(r,s,d)):(ot&&u&&xd(s),s.flags|=1,cn(r,s,o,d),s.child)}function m_(r,s,o,u,d,m){return ma(s),s.updateQueue=null,o=gy(s,u,o,d),py(r),u=Yd(),r!==null&&!rn?(Qd(r,s,m),Li(r,s,m)):(ot&&u&&xd(s),s.flags|=1,cn(r,s,o,m),s.child)}function v_(r,s,o,u,d){if(ma(s),s.stateNode===null){var m=uo,R=o.contextType;typeof R=="object"&&R!==null&&(m=yn(R)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cp,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Bd(s),R=o.contextType,m.context=typeof R=="object"&&R!==null?yn(R):uo,m.state=s.memoizedState,R=o.getDerivedStateFromProps,typeof R=="function"&&(up(s,o,R,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(R=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),R!==m.state&&cp.enqueueReplaceState(m,m.state,null),zl(s,u,m,d),Ul(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var N=s.memoizedProps,$=_a(o,N);m.props=$;var ae=m.context,de=o.contextType;R=uo,typeof de=="object"&&de!==null&&(R=yn(de));var ve=o.getDerivedStateFromProps;de=typeof ve=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,de||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||ae!==R)&&r_(s,m,u,R),ts=!1;var le=s.memoizedState;m.state=le,zl(s,u,m,d),Ul(),ae=s.memoizedState,N||le!==ae||ts?(typeof ve=="function"&&(up(s,o,ve,u),ae=s.memoizedState),($=ts||n_(s,o,$,u,le,ae,R))?(de||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ae),m.props=u,m.state=ae,m.context=R,u=$):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Hd(r,s),R=s.memoizedProps,de=_a(o,R),m.props=de,ve=s.pendingProps,le=m.context,ae=o.contextType,$=uo,typeof ae=="object"&&ae!==null&&($=yn(ae)),N=o.getDerivedStateFromProps,(ae=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R!==ve||le!==$)&&r_(s,m,u,$),ts=!1,le=s.memoizedState,m.state=le,zl(s,u,m,d),Ul();var ue=s.memoizedState;R!==ve||le!==ue||ts||r!==null&&r.dependencies!==null&&jc(r.dependencies)?(typeof N=="function"&&(up(s,o,N,u),ue=s.memoizedState),(de=ts||n_(s,o,de,u,le,ue,$)||r!==null&&r.dependencies!==null&&jc(r.dependencies))?(ae||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,ue,$),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,ue,$)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||R===r.memoizedProps&&le===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&le===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ue),m.props=u,m.state=ue,m.context=$,u=de):(typeof m.componentDidUpdate!="function"||R===r.memoizedProps&&le===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&le===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,nh(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=bo(s,r.child,null,d),s.child=bo(s,null,o,d)):cn(r,s,o,d),s.memoizedState=m.state,r=s.child):r=Li(r,s,d),r}function y_(r,s,o,u){return xl(),s.flags|=256,cn(r,s,o,u),s.child}var dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pp(r){return{baseLanes:r,cachePool:sy()}}function gp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function __(r,s,o){var u=s.pendingProps,d=!1,m=(s.flags&128)!==0,R;if((R=m)||(R=r!==null&&r.memoizedState===null?!1:(Xt.current&2)!==0),R&&(d=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,r===null){if(ot){if(d?ss(s):as(),ot){var N=Mt,$;if($=N){e:{for($=N,N=Gr;$.nodeType!==8;){if(!N){N=null;break e}if($=Sr($.nextSibling),$===null){N=null;break e}}N=$}N!==null?(s.memoizedState={dehydrated:N,treeContext:ha!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},$=Un(18,null,null,0),$.stateNode=N,$.return=s,s.child=$,Rn=s,Mt=null,$=!0):$=!1}$||pa(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Zp(N)?s.lanes=32:s.lanes=536870912,null;Ri(s)}return N=u.children,u=u.fallback,d?(as(),d=s.mode,N=rh({mode:"hidden",children:N},d),u=ca(u,d,o,null),N.return=s,u.return=s,N.sibling=u,s.child=N,d=s.child,d.memoizedState=pp(o),d.childLanes=gp(r,R,o),s.memoizedState=dp,u):(ss(s),mp(s,N))}if($=r.memoizedState,$!==null&&(N=$.dehydrated,N!==null)){if(m)s.flags&256?(ss(s),s.flags&=-257,s=vp(r,s,o)):s.memoizedState!==null?(as(),s.child=r.child,s.flags|=128,s=null):(as(),d=u.fallback,N=s.mode,u=rh({mode:"visible",children:u.children},N),d=ca(d,N,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,bo(s,r.child,null,o),u=s.child,u.memoizedState=pp(o),u.childLanes=gp(r,R,o),s.memoizedState=dp,s=d);else if(ss(s),Zp(N)){if(R=N.nextSibling&&N.nextSibling.dataset,R)var ae=R.dgst;R=ae,u=Error(i(419)),u.stack="",u.digest=R,Ml({value:u,source:null,stack:null}),s=vp(r,s,o)}else if(rn||Pl(r,s,o,!1),R=(o&r.childLanes)!==0,rn||R){if(R=Tt,R!==null&&(u=o&-o,u=(u&42)!==0?1:gr(u),u=(u&(R.suspendedLanes|o))!==0?0:u,u!==0&&u!==$.retryLane))throw $.retryLane=u,lo(r,u),Fn(R,r,u),c_;N.data==="$?"||Dp(),s=vp(r,s,o)}else N.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=$.treeContext,Mt=Sr(N.nextSibling),Rn=s,ot=!0,da=null,Gr=!1,r!==null&&(sr[ar++]=Si,sr[ar++]=wi,sr[ar++]=ha,Si=r.id,wi=r.overflow,ha=s),s=mp(s,u.children),s.flags|=4096);return s}return d?(as(),d=u.fallback,N=s.mode,$=r.child,ae=$.sibling,u=Ei($,{mode:"hidden",children:u.children}),u.subtreeFlags=$.subtreeFlags&65011712,ae!==null?d=Ei(ae,d):(d=ca(d,N,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,N=r.child.memoizedState,N===null?N=pp(o):($=N.cachePool,$!==null?(ae=Qt._currentValue,$=$.parent!==ae?{parent:ae,pool:ae}:$):$=sy(),N={baseLanes:N.baseLanes|o,cachePool:$}),d.memoizedState=N,d.childLanes=gp(r,R,o),s.memoizedState=dp,u):(ss(s),o=r.child,r=o.sibling,o=Ei(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(R=s.deletions,R===null?(s.deletions=[r],s.flags|=16):R.push(r)),s.child=o,s.memoizedState=null,o)}function mp(r,s){return s=rh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function rh(r,s){return r=Un(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function vp(r,s,o){return bo(s,r.child,null,o),r=mp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function b_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Dd(r.return,s,o)}function yp(r,s,o,u,d){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=d)}function E_(r,s,o){var u=s.pendingProps,d=u.revealOrder,m=u.tail;if(cn(r,s,u.children,o),u=Xt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&b_(r,o,s);else if(r.tag===19)b_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Y(Xt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&Jc(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),yp(s,!1,d,o,m);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Jc(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}yp(s,!0,o,null,m);break;case"together":yp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Li(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Pl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ei(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ei(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function _p(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&jc(r)))}function HA(r,s,o){switch(s.tag){case 3:_e(s,s.stateNode.containerInfo),es(s,Qt,r.memoizedState.cache),xl();break;case 27:case 5:be(s);break;case 4:_e(s,s.stateNode.containerInfo);break;case 10:es(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ss(s),s.flags|=128,null):(o&s.child.childLanes)!==0?__(r,s,o):(ss(s),r=Li(r,s,o),r!==null?r.sibling:null);ss(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Pl(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return E_(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Y(Xt,Xt.current),u)break;return null;case 22:case 23:return s.lanes=0,p_(r,s,o);case 24:es(s,Qt,r.memoizedState.cache)}return Li(r,s,o)}function S_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)rn=!0;else{if(!_p(r,o)&&(s.flags&128)===0)return rn=!1,HA(r,s,o);rn=(r.flags&131072)!==0}else rn=!1,ot&&(s.flags&1048576)!==0&&Zv(s,Nc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Ld(u)?(r=_a(u,r),s.tag=1,s=v_(null,s,u,r,o)):(s.tag=0,s=fp(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===X){s.tag=11,s=h_(null,s,u,r,o);break e}else if(d===O){s.tag=14,s=f_(null,s,u,r,o);break e}}throw s=te(u)||u,Error(i(306,s,""))}}return s;case 0:return fp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=_a(u,s.pendingProps),v_(r,s,u,d,o);case 3:e:{if(_e(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;d=m.element,Hd(r,s),zl(s,u,null,o);var R=s.memoizedState;if(u=R.cache,es(s,Qt,u),u!==m.cache&&Nd(s,[Qt],o,!0),Ul(),u=R.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=y_(r,s,u,o);break e}else if(u!==d){d=rr(Error(i(424)),s),Ml(d),s=y_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mt=Sr(r.firstChild),Rn=s,ot=!0,da=null,Gr=!0,o=e_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xl(),u===d){s=Li(r,s,o);break e}cn(r,s,u,o)}s=s.child}return s;case 26:return nh(r,s),r===null?(o=Ab(s.type,null,s.pendingProps,null))?s.memoizedState=o:ot||(o=s.type,r=s.pendingProps,u=vh(oe.current).createElement(o),u[Ie]=s,u[Bt]=r,fn(u,o,r),Nt(u),s.stateNode=u):s.memoizedState=Ab(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return be(s),r===null&&ot&&(u=s.stateNode=wb(s.type,s.pendingProps,oe.current),Rn=s,Gr=!0,d=Mt,gs(s.type)?(Jp=d,Mt=Sr(u.firstChild)):Mt=d),cn(r,s,s.pendingProps.children,o),nh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ot&&((d=u=Mt)&&(u=mR(u,s.type,s.pendingProps,Gr),u!==null?(s.stateNode=u,Rn=s,Mt=Sr(u.firstChild),Gr=!1,d=!0):d=!1),d||pa(s)),be(s),d=s.type,m=s.pendingProps,R=r!==null?r.memoizedProps:null,u=m.children,Yp(d,m)?u=null:R!==null&&Yp(d,R)&&(s.flags|=32),s.memoizedState!==null&&(d=Wd(r,s,kA,null,null,o),lu._currentValue=d),nh(r,s),cn(r,s,u,o),s.child;case 6:return r===null&&ot&&((r=o=Mt)&&(o=vR(o,s.pendingProps,Gr),o!==null?(s.stateNode=o,Rn=s,Mt=null,r=!0):r=!1),r||pa(s)),null;case 13:return __(r,s,o);case 4:return _e(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=bo(s,null,u,o):cn(r,s,u,o),s.child;case 11:return h_(r,s,s.type,s.pendingProps,o);case 7:return cn(r,s,s.pendingProps,o),s.child;case 8:return cn(r,s,s.pendingProps.children,o),s.child;case 12:return cn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,es(s,s.type,u.value),cn(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ma(s),d=yn(d),u=u(d),s.flags|=1,cn(r,s,u,o),s.child;case 14:return f_(r,s,s.type,s.pendingProps,o);case 15:return d_(r,s,s.type,s.pendingProps,o);case 19:return E_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=rh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ei(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return p_(r,s,o);case 24:return ma(s),u=yn(Qt),r===null?(d=Ud(),d===null&&(d=Tt,m=jd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),s.memoizedState={parent:u,cache:d},Bd(s),es(s,Qt,d)):((r.lanes&o)!==0&&(Hd(r,s),zl(s,null,null,o),Ul()),d=r.memoizedState,m=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),es(s,Qt,u)):(u=m.cache,es(s,Qt,u),u!==d.cache&&Nd(s,[Qt],o,!0))),cn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ii(r){r.flags|=4}function w_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!xb(s)){if(s=or.current,s!==null&&((rt&4194048)===rt?$r!==null:(rt&62914560)!==rt&&(rt&536870912)===0||s!==$r))throw jl=zd,ay;r.flags|=8192}}function ih(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Wi():536870912,r.lanes|=s,To|=s)}function Kl(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Lt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function qA(r,s,o){var u=s.pendingProps;switch(Md(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(s),null;case 1:return Lt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ci(Qt),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ol(s)?Ii(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ty())),Lt(s),null;case 26:return o=s.memoizedState,r===null?(Ii(s),o!==null?(Lt(s),w_(s,o)):(Lt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ii(s),Lt(s),w_(s,o)):(Lt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Ii(s),Lt(s),s.flags&=-16777217),null;case 27:we(s),o=oe.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ii(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Lt(s),null}r=J.current,Ol(s)?Jv(s):(r=wb(d,u,o),s.stateNode=r,Ii(s))}return Lt(s),null;case 5:if(we(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ii(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Lt(s),null}if(r=J.current,Ol(s))Jv(s);else{switch(d=vh(oe.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Ie]=s,r[Bt]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(fn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ii(s)}}return Lt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Ii(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=oe.current,Ol(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=Rn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Ie]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||mb(r.nodeValue,o)),r||pa(s)}else r=vh(r).createTextNode(u),r[Ie]=s,s.stateNode=r}return Lt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Ol(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ie]=s}else xl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lt(s),d=!1}else d=ty(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Ri(s),s):(Ri(s),null)}if(Ri(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),ih(s,s.updateQueue),Lt(s),null;case 4:return Ae(),r===null&&Fp(s.stateNode.containerInfo),Lt(s),null;case 10:return Ci(s.type),Lt(s),null;case 19:if(q(Xt),d=s.memoizedState,d===null)return Lt(s),null;if(u=(s.flags&128)!==0,m=d.rendering,m===null)if(u)Kl(d,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Jc(r),m!==null){for(s.flags|=128,Kl(d,!1),r=m.updateQueue,s.updateQueue=r,ih(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Xv(o,r),o=o.sibling;return Y(Xt,Xt.current&1|2),s.child}r=r.sibling}d.tail!==null&&xe()>oh&&(s.flags|=128,u=!0,Kl(d,!1),s.lanes=4194304)}else{if(!u)if(r=Jc(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,ih(s,r),Kl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!ot)return Lt(s),null}else 2*xe()-d.renderingStartTime>oh&&o!==536870912&&(s.flags|=128,u=!0,Kl(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(r=d.last,r!==null?r.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=xe(),s.sibling=null,r=Xt.current,Y(Xt,u?r&1|2:r&1),s):(Lt(s),null);case 22:case 23:return Ri(s),$d(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Lt(s),s.subtreeFlags&6&&(s.flags|=8192)):Lt(s),o=s.updateQueue,o!==null&&ih(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&q(va),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ci(Qt),Lt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function FA(r,s){switch(Md(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci(Qt),Ae(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return we(s),null;case 13:if(Ri(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));xl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return q(Xt),null;case 4:return Ae(),null;case 10:return Ci(s.type),null;case 22:case 23:return Ri(s),$d(),r!==null&&q(va),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci(Qt),null;case 25:return null;default:return null}}function T_(r,s){switch(Md(s),s.tag){case 3:Ci(Qt),Ae();break;case 26:case 27:case 5:we(s);break;case 4:Ae();break;case 13:Ri(s);break;case 19:q(Xt);break;case 10:Ci(s.type);break;case 22:case 23:Ri(s),$d(),r!==null&&q(va);break;case 24:Ci(Qt)}}function Wl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var m=o.create,R=o.inst;u=m(),R.destroy=u}o=o.next}while(o!==d)}}catch(N){St(s,s.return,N)}}function os(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){var R=u.inst,N=R.destroy;if(N!==void 0){R.destroy=void 0,d=s;var $=o,ae=N;try{ae()}catch(de){St(d,$,de)}}}u=u.next}while(u!==m)}}catch(de){St(s,s.return,de)}}function C_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{fy(s,o)}catch(u){St(r,r.return,u)}}}function A_(r,s,o){o.props=_a(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){St(r,s,u)}}function Yl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){St(r,s,d)}}function Kr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){St(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){St(r,s,d)}else o.current=null}function R_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){St(r,r.return,d)}}function bp(r,s,o){try{var u=r.stateNode;hR(u,r.type,o,s),u[Bt]=s}catch(d){St(r,r.return,d)}}function L_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gs(r.type)||r.tag===4}function Ep(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||L_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=mh));else if(u!==4&&(u===27&&gs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Sp(r,s,o),r=r.sibling;r!==null;)Sp(r,s,o),r=r.sibling}function sh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&gs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(sh(r,s,o),r=r.sibling;r!==null;)sh(r,s,o),r=r.sibling}function I_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);fn(s,u,o),s[Ie]=r,s[Bt]=o}catch(m){St(r,r.return,m)}}var Oi=!1,Vt=!1,wp=!1,O_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function GA(r,s){if(r=r.containerInfo,Kp=wh,r=Bv(r),Ed(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var R=0,N=-1,$=-1,ae=0,de=0,ve=r,le=null;t:for(;;){for(var ue;ve!==o||d!==0&&ve.nodeType!==3||(N=R+d),ve!==m||u!==0&&ve.nodeType!==3||($=R+u),ve.nodeType===3&&(R+=ve.nodeValue.length),(ue=ve.firstChild)!==null;)le=ve,ve=ue;for(;;){if(ve===r)break t;if(le===o&&++ae===d&&(N=R),le===m&&++de===u&&($=R),(ue=ve.nextSibling)!==null)break;ve=le,le=ve.parentNode}ve=ue}o=N===-1||$===-1?null:{start:N,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wp={focusedElem:r,selectionRange:o},wh=!1,sn=s;sn!==null;)if(s=sn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,sn=r;else for(;sn!==null;){switch(s=sn,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,d=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ze=_a(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(ze,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){St(o,o.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Xp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Xp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,sn=r;break}sn=s.return}}function x_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ls(r,o),u&4&&Wl(5,o);break;case 1:if(ls(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(R){St(o,o.return,R)}else{var d=_a(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(R){St(o,o.return,R)}}u&64&&C_(o),u&512&&Yl(o,o.return);break;case 3:if(ls(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{fy(r,s)}catch(R){St(o,o.return,R)}}break;case 27:s===null&&u&4&&I_(o);case 26:case 5:ls(r,o),s===null&&u&4&&R_(o),u&512&&Yl(o,o.return);break;case 12:ls(r,o);break;case 13:ls(r,o),u&4&&k_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=eR.bind(null,o),yR(r,o))));break;case 22:if(u=o.memoizedState!==null||Oi,!u){s=s!==null&&s.memoizedState!==null||Vt,d=Oi;var m=Vt;Oi=u,(Vt=s)&&!m?us(r,o,(o.subtreeFlags&8772)!==0):ls(r,o),Oi=d,Vt=m}break;case 30:break;default:ls(r,o)}}function M_(r){var s=r.alternate;s!==null&&(r.alternate=null,M_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Qi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Rt=null,On=!1;function xi(r,s,o){for(o=o.child;o!==null;)P_(r,s,o),o=o.sibling}function P_(r,s,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Et,o)}catch{}switch(o.tag){case 26:Vt||Kr(o,s),xi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Vt||Kr(o,s);var u=Rt,d=On;gs(o.type)&&(Rt=o.stateNode,On=!1),xi(r,s,o),iu(o.stateNode),Rt=u,On=d;break;case 5:Vt||Kr(o,s);case 6:if(u=Rt,d=On,Rt=null,xi(r,s,o),Rt=u,On=d,Rt!==null)if(On)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(m){St(o,s,m)}else try{Rt.removeChild(o.stateNode)}catch(m){St(o,s,m)}break;case 18:Rt!==null&&(On?(r=Rt,Eb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),fu(r)):Eb(Rt,o.stateNode));break;case 4:u=Rt,d=On,Rt=o.stateNode.containerInfo,On=!0,xi(r,s,o),Rt=u,On=d;break;case 0:case 11:case 14:case 15:Vt||os(2,o,s),Vt||os(4,o,s),xi(r,s,o);break;case 1:Vt||(Kr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&A_(o,s,u)),xi(r,s,o);break;case 21:xi(r,s,o);break;case 22:Vt=(u=Vt)||o.memoizedState!==null,xi(r,s,o),Vt=u;break;default:xi(r,s,o)}}function k_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fu(r)}catch(o){St(s,s.return,o)}}function $A(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new O_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new O_),s;default:throw Error(i(435,r.tag))}}function Tp(r,s){var o=$A(r);s.forEach(function(u){var d=tR.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function zn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],m=r,R=s,N=R;e:for(;N!==null;){switch(N.tag){case 27:if(gs(N.type)){Rt=N.stateNode,On=!1;break e}break;case 5:Rt=N.stateNode,On=!1;break e;case 3:case 4:Rt=N.stateNode.containerInfo,On=!0;break e}N=N.return}if(Rt===null)throw Error(i(160));P_(m,R,d),Rt=null,On=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)D_(s,r),s=s.sibling}var Er=null;function D_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:zn(s,r),Bn(r),u&4&&(os(3,r,r.return),Wl(3,r),os(5,r,r.return));break;case 1:zn(s,r),Bn(r),u&512&&(Vt||o===null||Kr(o,o.return)),u&64&&Oi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Er;if(zn(s,r),Bn(r),u&512&&(Vt||o===null||Kr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ws]||m[Ie]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),fn(m,u,o),m[Ie]=r,Nt(m),u=m;break e;case"link":var R=Ib("link","href",d).get(u+(o.href||""));if(R){for(var N=0;N<R.length;N++)if(m=R[N],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){R.splice(N,1);break t}}m=d.createElement(u),fn(m,u,o),d.head.appendChild(m);break;case"meta":if(R=Ib("meta","content",d).get(u+(o.content||""))){for(N=0;N<R.length;N++)if(m=R[N],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){R.splice(N,1);break t}}m=d.createElement(u),fn(m,u,o),d.head.appendChild(m);break;default:throw Error(i(468,u))}m[Ie]=r,Nt(m),u=m}r.stateNode=u}else Ob(d,r.type,r.stateNode);else r.stateNode=Lb(d,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Ob(d,r.type,r.stateNode):Lb(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&bp(r,r.memoizedProps,o.memoizedProps)}break;case 27:zn(s,r),Bn(r),u&512&&(Vt||o===null||Kr(o,o.return)),o!==null&&u&4&&bp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(zn(s,r),Bn(r),u&512&&(Vt||o===null||Kr(o,o.return)),r.flags&32){d=r.stateNode;try{Jn(d,"")}catch(ue){St(r,r.return,ue)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,bp(r,d,o!==null?o.memoizedProps:d)),u&1024&&(wp=!0);break;case 6:if(zn(s,r),Bn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ue){St(r,r.return,ue)}}break;case 3:if(bh=null,d=Er,Er=yh(s.containerInfo),zn(s,r),Er=d,Bn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{fu(s.containerInfo)}catch(ue){St(r,r.return,ue)}wp&&(wp=!1,N_(r));break;case 4:u=Er,Er=yh(r.stateNode.containerInfo),zn(s,r),Bn(r),Er=u;break;case 12:zn(s,r),Bn(r);break;case 13:zn(s,r),Bn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Op=xe()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tp(r,u)));break;case 22:d=r.memoizedState!==null;var $=o!==null&&o.memoizedState!==null,ae=Oi,de=Vt;if(Oi=ae||d,Vt=de||$,zn(s,r),Vt=de,Oi=ae,Bn(r),u&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||$||Oi||Vt||ba(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){$=o=s;try{if(m=$.stateNode,d)R=m.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{N=$.stateNode;var ve=$.memoizedProps.style,le=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;N.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){St($,$.return,ue)}}}else if(s.tag===6){if(o===null){$=s;try{$.stateNode.nodeValue=d?"":$.memoizedProps}catch(ue){St($,$.return,ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tp(r,o))));break;case 19:zn(s,r),Bn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tp(r,u)));break;case 30:break;case 21:break;default:zn(s,r),Bn(r)}}function Bn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(L_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,m=Ep(r);sh(r,m,d);break;case 5:var R=o.stateNode;o.flags&32&&(Jn(R,""),o.flags&=-33);var N=Ep(r);sh(r,N,R);break;case 3:case 4:var $=o.stateNode.containerInfo,ae=Ep(r);Sp(r,ae,$);break;default:throw Error(i(161))}}catch(de){St(r,r.return,de)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function N_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;N_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ls(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)x_(r,s.alternate,s),s=s.sibling}function ba(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:os(4,s,s.return),ba(s);break;case 1:Kr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&A_(s,s.return,o),ba(s);break;case 27:iu(s.stateNode);case 26:case 5:Kr(s,s.return),ba(s);break;case 22:s.memoizedState===null&&ba(s);break;case 30:ba(s);break;default:ba(s)}r=r.sibling}}function us(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,m=s,R=m.flags;switch(m.tag){case 0:case 11:case 15:us(d,m,o),Wl(4,m);break;case 1:if(us(d,m,o),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(ae){St(u,u.return,ae)}if(u=m,d=u.updateQueue,d!==null){var N=u.stateNode;try{var $=d.shared.hiddenCallbacks;if($!==null)for(d.shared.hiddenCallbacks=null,d=0;d<$.length;d++)hy($[d],N)}catch(ae){St(u,u.return,ae)}}o&&R&64&&C_(m),Yl(m,m.return);break;case 27:I_(m);case 26:case 5:us(d,m,o),o&&u===null&&R&4&&R_(m),Yl(m,m.return);break;case 12:us(d,m,o);break;case 13:us(d,m,o),o&&R&4&&k_(d,m);break;case 22:m.memoizedState===null&&us(d,m,o),Yl(m,m.return);break;case 30:break;default:us(d,m,o)}s=s.sibling}}function Cp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&kl(o))}function Ap(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kl(r))}function Wr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)j_(r,s,o,u),s=s.sibling}function j_(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Wr(r,s,o,u),d&2048&&Wl(9,s);break;case 1:Wr(r,s,o,u);break;case 3:Wr(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kl(r)));break;case 12:if(d&2048){Wr(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,R=m.id,N=m.onPostCommit;typeof N=="function"&&N(R,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){St(s,s.return,$)}}else Wr(r,s,o,u);break;case 13:Wr(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,R=s.alternate,s.memoizedState!==null?m._visibility&2?Wr(r,s,o,u):Ql(r,s):m._visibility&2?Wr(r,s,o,u):(m._visibility|=2,Eo(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Cp(R,s);break;case 24:Wr(r,s,o,u),d&2048&&Ap(s.alternate,s);break;default:Wr(r,s,o,u)}}function Eo(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,R=s,N=o,$=u,ae=R.flags;switch(R.tag){case 0:case 11:case 15:Eo(m,R,N,$,d),Wl(8,R);break;case 23:break;case 22:var de=R.stateNode;R.memoizedState!==null?de._visibility&2?Eo(m,R,N,$,d):Ql(m,R):(de._visibility|=2,Eo(m,R,N,$,d)),d&&ae&2048&&Cp(R.alternate,R);break;case 24:Eo(m,R,N,$,d),d&&ae&2048&&Ap(R.alternate,R);break;default:Eo(m,R,N,$,d)}s=s.sibling}}function Ql(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Ql(o,u),d&2048&&Cp(u.alternate,u);break;case 24:Ql(o,u),d&2048&&Ap(u.alternate,u);break;default:Ql(o,u)}s=s.sibling}}var Xl=8192;function So(r){if(r.subtreeFlags&Xl)for(r=r.child;r!==null;)V_(r),r=r.sibling}function V_(r){switch(r.tag){case 26:So(r),r.flags&Xl&&r.memoizedState!==null&&xR(Er,r.memoizedState,r.memoizedProps);break;case 5:So(r);break;case 3:case 4:var s=Er;Er=yh(r.stateNode.containerInfo),So(r),Er=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Xl,Xl=16777216,So(r),Xl=s):So(r));break;default:So(r)}}function U_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Zl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];sn=u,B_(u,r)}U_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)z_(r),r=r.sibling}function z_(r){switch(r.tag){case 0:case 11:case 15:Zl(r),r.flags&2048&&os(9,r,r.return);break;case 3:Zl(r);break;case 12:Zl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ah(r)):Zl(r);break;default:Zl(r)}}function ah(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];sn=u,B_(u,r)}U_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:os(8,s,s.return),ah(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ah(s));break;default:ah(s)}r=r.sibling}}function B_(r,s){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:os(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,sn=u;else e:for(o=r;sn!==null;){u=sn;var d=u.sibling,m=u.return;if(M_(u),u===o){sn=null;break e}if(d!==null){d.return=m,sn=d;break e}sn=m}}}var KA={getCacheForType:function(r){var s=yn(Qt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},WA=typeof WeakMap=="function"?WeakMap:Map,ft=0,Tt=null,Ye=null,rt=0,dt=0,Hn=null,cs=!1,wo=!1,Rp=!1,Mi=0,Pt=0,hs=0,Ea=0,Lp=0,lr=0,To=0,Jl=null,xn=null,Ip=!1,Op=0,oh=1/0,lh=null,fs=null,hn=0,ds=null,Co=null,Ao=0,xp=0,Mp=null,H_=null,eu=0,Pp=null;function qn(){if((ft&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var r=fo;return r!==0?r:zp()}return vr()}function q_(){lr===0&&(lr=(rt&536870912)===0||ot?Mr():536870912);var r=or.current;return r!==null&&(r.flags|=32),lr}function Fn(r,s,o){(r===Tt&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(Ro(r,0),ps(r,rt,lr,!1)),Xn(r,o),((ft&2)===0||r!==Tt)&&(r===Tt&&((ft&2)===0&&(Ea|=o),Pt===4&&ps(r,rt,lr,!1)),Yr(r))}function F_(r,s,o){if((ft&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Yn(r,s),d=u?XA(r,s):Np(r,s,!0),m=u;do{if(d===0){wo&&!u&&ps(r,s,0,!1);break}else{if(o=r.current.alternate,m&&!YA(o)){d=Np(r,s,!1),m=!1;continue}if(d===2){if(m=s,r.errorRecoveryDisabledLanes&m)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var N=r;d=Jl;var $=N.current.memoizedState.isDehydrated;if($&&(Ro(N,R).flags|=256),R=Np(N,R,!1),R!==2){if(Rp&&!$){N.errorRecoveryDisabledLanes|=m,Ea|=m,d=4;break e}m=xn,xn=d,m!==null&&(xn===null?xn=m:xn.push.apply(xn,m))}d=R}if(m=!1,d!==2)continue}}if(d===1){Ro(r,0),ps(r,s,0,!0);break}e:{switch(u=r,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,lr,!cs);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Op+300-xe(),10<d)){if(ps(u,s,lr,!cs),ci(u,0,!0)!==0)break e;u.timeoutHandle=_b(G_.bind(null,u,o,xn,lh,Ip,s,lr,Ea,To,cs,m,2,-0,0),d);break e}G_(u,o,xn,lh,Ip,s,lr,Ea,To,cs,m,0,-0,0)}}break}while(!0);Yr(r)}function G_(r,s,o,u,d,m,R,N,$,ae,de,ve,le,ue){if(r.timeoutHandle=-1,ve=s.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(ou={stylesheets:null,count:0,unsuspend:OR},V_(s),ve=MR(),ve!==null)){r.cancelPendingCommit=ve(Z_.bind(null,r,s,m,o,u,d,R,N,$,de,1,le,ue)),ps(r,m,R,!ae);return}Z_(r,s,m,o,u,d,R,N,$)}function YA(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],m=d.getSnapshot;d=d.value;try{if(!Vn(m(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(r,s,o,u){s&=~Lp,s&=~Ea,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var m=31-Dt(d),R=1<<m;u[m]=-1,d&=~R}o!==0&&Nn(r,o,s)}function uh(){return(ft&6)===0?(tu(0),!1):!0}function kp(){if(Ye!==null){if(dt===0)var r=Ye.return;else r=Ye,Ti=ga=null,Xd(r),_o=null,Gl=0,r=Ye;for(;r!==null;)T_(r.alternate,r),r=r.return;Ye=null}}function Ro(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,dR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),kp(),Tt=r,Ye=o=Ei(r.current,null),rt=s,dt=0,Hn=null,cs=!1,wo=Yn(r,s),Rp=!1,To=lr=Lp=Ea=hs=Pt=0,xn=Jl=null,Ip=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-Dt(u),m=1<<d;s|=r[d],u&=~m}return Mi=s,xc(),o}function $_(r,s){$e=null,G.H=Qc,s===Nl||s===zc?(s=uy(),dt=3):s===ay?(s=uy(),dt=4):dt=s===c_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,Ye===null&&(Pt=1,th(r,rr(s,r.current)))}function K_(){var r=G.H;return G.H=Qc,r===null?Qc:r}function W_(){var r=G.A;return G.A=KA,r}function Dp(){Pt=4,cs||(rt&4194048)!==rt&&or.current!==null||(wo=!0),(hs&134217727)===0&&(Ea&134217727)===0||Tt===null||ps(Tt,rt,lr,!1)}function Np(r,s,o){var u=ft;ft|=2;var d=K_(),m=W_();(Tt!==r||rt!==s)&&(lh=null,Ro(r,s)),s=!1;var R=Pt;e:do try{if(dt!==0&&Ye!==null){var N=Ye,$=Hn;switch(dt){case 8:kp(),R=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(s=!0);var ae=dt;if(dt=0,Hn=null,Lo(r,N,$,ae),o&&wo){R=0;break e}break;default:ae=dt,dt=0,Hn=null,Lo(r,N,$,ae)}}QA(),R=Pt;break}catch(de){$_(r,de)}while(!0);return s&&r.shellSuspendCounter++,Ti=ga=null,ft=u,G.H=d,G.A=m,Ye===null&&(Tt=null,rt=0,xc()),R}function QA(){for(;Ye!==null;)Y_(Ye)}function XA(r,s){var o=ft;ft|=2;var u=K_(),d=W_();Tt!==r||rt!==s?(lh=null,oh=xe()+500,Ro(r,s)):wo=Yn(r,s);e:do try{if(dt!==0&&Ye!==null){s=Ye;var m=Hn;t:switch(dt){case 1:dt=0,Hn=null,Lo(r,s,m,1);break;case 2:case 9:if(oy(m)){dt=0,Hn=null,Q_(s);break}s=function(){dt!==2&&dt!==9||Tt!==r||(dt=7),Yr(r)},m.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:oy(m)?(dt=0,Hn=null,Q_(s)):(dt=0,Hn=null,Lo(r,s,m,7));break;case 5:var R=null;switch(Ye.tag){case 26:R=Ye.memoizedState;case 5:case 27:var N=Ye;if(!R||xb(R)){dt=0,Hn=null;var $=N.sibling;if($!==null)Ye=$;else{var ae=N.return;ae!==null?(Ye=ae,ch(ae)):Ye=null}break t}}dt=0,Hn=null,Lo(r,s,m,5);break;case 6:dt=0,Hn=null,Lo(r,s,m,6);break;case 8:kp(),Pt=6;break e;default:throw Error(i(462))}}ZA();break}catch(de){$_(r,de)}while(!0);return Ti=ga=null,G.H=u,G.A=d,ft=o,Ye!==null?0:(Tt=null,rt=0,xc(),Pt)}function ZA(){for(;Ye!==null&&!Re();)Y_(Ye)}function Y_(r){var s=S_(r.alternate,r,Mi);r.memoizedProps=r.pendingProps,s===null?ch(r):Ye=s}function Q_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=m_(o,s,s.pendingProps,s.type,void 0,rt);break;case 11:s=m_(o,s,s.pendingProps,s.type.render,s.ref,rt);break;case 5:Xd(s);default:T_(o,s),s=Ye=Xv(s,Mi),s=S_(o,s,Mi)}r.memoizedProps=r.pendingProps,s===null?ch(r):Ye=s}function Lo(r,s,o,u){Ti=ga=null,Xd(s),_o=null,Gl=0;var d=s.return;try{if(BA(r,d,s,o,rt)){Pt=1,th(r,rr(o,r.current)),Ye=null;return}}catch(m){if(d!==null)throw Ye=d,m;Pt=1,th(r,rr(o,r.current)),Ye=null;return}s.flags&32768?(ot||u===1?r=!0:wo||(rt&536870912)!==0?r=!1:(cs=r=!0,(u===2||u===9||u===3||u===6)&&(u=or.current,u!==null&&u.tag===13&&(u.flags|=16384))),X_(s,r)):ch(s)}function ch(r){var s=r;do{if((s.flags&32768)!==0){X_(s,cs);return}r=s.return;var o=qA(s.alternate,s,Mi);if(o!==null){Ye=o;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=r}while(s!==null);Pt===0&&(Pt=5)}function X_(r,s){do{var o=FA(r.alternate,r);if(o!==null){o.flags&=32767,Ye=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ye=r;return}Ye=r=o}while(r!==null);Pt=6,Ye=null}function Z_(r,s,o,u,d,m,R,N,$){r.cancelPendingCommit=null;do hh();while(hn!==0);if((ft&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Ad,Pr(r,o,m,R,N,$),r===Tt&&(Ye=Tt=null,rt=0),Co=s,ds=r,Ao=o,xp=m,Mp=d,H_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,nR(wt,function(){return rb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,d=w.p,w.p=2,R=ft,ft|=4;try{GA(r,s,o)}finally{ft=R,w.p=d,G.T=u}}hn=1,J_(),eb(),tb()}}function J_(){if(hn===1){hn=0;var r=ds,s=Co,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var u=w.p;w.p=2;var d=ft;ft|=4;try{D_(s,r);var m=Wp,R=Bv(r.containerInfo),N=m.focusedElem,$=m.selectionRange;if(R!==N&&N&&N.ownerDocument&&zv(N.ownerDocument.documentElement,N)){if($!==null&&Ed(N)){var ae=$.start,de=$.end;if(de===void 0&&(de=ae),"selectionStart"in N)N.selectionStart=ae,N.selectionEnd=Math.min(de,N.value.length);else{var ve=N.ownerDocument||document,le=ve&&ve.defaultView||window;if(le.getSelection){var ue=le.getSelection(),ze=N.textContent.length,Pe=Math.min($.start,ze),vt=$.end===void 0?Pe:Math.min($.end,ze);!ue.extend&&Pe>vt&&(R=vt,vt=Pe,Pe=R);var ee=Uv(N,Pe),Q=Uv(N,vt);if(ee&&Q&&(ue.rangeCount!==1||ue.anchorNode!==ee.node||ue.anchorOffset!==ee.offset||ue.focusNode!==Q.node||ue.focusOffset!==Q.offset)){var ie=ve.createRange();ie.setStart(ee.node,ee.offset),ue.removeAllRanges(),Pe>vt?(ue.addRange(ie),ue.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),ue.addRange(ie))}}}}for(ve=[],ue=N;ue=ue.parentNode;)ue.nodeType===1&&ve.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ve.length;N++){var ge=ve[N];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}wh=!!Kp,Wp=Kp=null}finally{ft=d,w.p=u,G.T=o}}r.current=s,hn=2}}function eb(){if(hn===2){hn=0;var r=ds,s=Co,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var u=w.p;w.p=2;var d=ft;ft|=4;try{x_(r,s.alternate,s)}finally{ft=d,w.p=u,G.T=o}}hn=3}}function tb(){if(hn===4||hn===3){hn=0,yt();var r=ds,s=Co,o=Ao,u=H_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?hn=5:(hn=0,Co=ds=null,nb(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(fs=null),mr(o),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Et,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=G.T,d=w.p,w.p=2,G.T=null;try{for(var m=r.onRecoverableError,R=0;R<u.length;R++){var N=u[R];m(N.value,{componentStack:N.stack})}}finally{G.T=s,w.p=d}}(Ao&3)!==0&&hh(),Yr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===Pp?eu++:(eu=0,Pp=r):eu=0,tu(0)}}function nb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,kl(s)))}function hh(r){return J_(),eb(),tb(),rb()}function rb(){if(hn!==5)return!1;var r=ds,s=xp;xp=0;var o=mr(Ao),u=G.T,d=w.p;try{w.p=32>o?32:o,G.T=null,o=Mp,Mp=null;var m=ds,R=Ao;if(hn=0,Co=ds=null,Ao=0,(ft&6)!==0)throw Error(i(331));var N=ft;if(ft|=4,z_(m.current),j_(m,m.current,R,o),ft=N,tu(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Et,m)}catch{}return!0}finally{w.p=d,G.T=u,nb(r,s)}}function ib(r,s,o){s=rr(o,s),s=hp(r.stateNode,s,2),r=rs(r,s,2),r!==null&&(Xn(r,2),Yr(r))}function St(r,s,o){if(r.tag===3)ib(r,r,o);else for(;s!==null;){if(s.tag===3){ib(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){r=rr(o,r),o=l_(2),u=rs(s,o,2),u!==null&&(u_(o,u,s,r),Xn(u,2),Yr(u));break}}s=s.return}}function jp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new WA;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Rp=!0,d.add(o),r=JA.bind(null,r,s,o),s.then(r,r))}function JA(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tt===r&&(rt&o)===o&&(Pt===4||Pt===3&&(rt&62914560)===rt&&300>xe()-Op?(ft&2)===0&&Ro(r,0):Lp|=o,To===rt&&(To=0)),Yr(r)}function sb(r,s){s===0&&(s=Wi()),r=lo(r,s),r!==null&&(Xn(r,s),Yr(r))}function eR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),sb(r,o)}function tR(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),sb(r,o)}function nR(r,s){return ke(r,s)}var fh=null,Io=null,Vp=!1,dh=!1,Up=!1,Sa=0;function Yr(r){r!==Io&&r.next===null&&(Io===null?fh=Io=r:Io=Io.next=r),dh=!0,Vp||(Vp=!0,iR())}function tu(r,s){if(!Up&&dh){Up=!0;do for(var o=!1,u=fh;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var R=u.suspendedLanes,N=u.pingedLanes;m=(1<<31-Dt(42|r)+1)-1,m&=d&~(R&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,ub(u,m))}else m=rt,m=ci(u,u===Tt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Yn(u,m)||(o=!0,ub(u,m));u=u.next}while(o);Up=!1}}function rR(){ab()}function ab(){dh=Vp=!1;var r=0;Sa!==0&&(fR()&&(r=Sa),Sa=0);for(var s=xe(),o=null,u=fh;u!==null;){var d=u.next,m=ob(u,s);m===0?(u.next=null,o===null?fh=d:o.next=d,d===null&&(Io=o)):(o=u,(r!==0||(m&3)!==0)&&(dh=!0)),u=d}tu(r)}function ob(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var R=31-Dt(m),N=1<<R,$=d[R];$===-1?((N&o)===0||(N&u)!==0)&&(d[R]=Ki(N,s)):$<=s&&(r.expiredLanes|=N),m&=~N}if(s=Tt,o=rt,o=ci(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&De(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Yn(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&De(u),mr(o)){case 2:case 8:o=bt;break;case 32:o=wt;break;case 268435456:o=mn;break;default:o=wt}return u=lb.bind(null,r),o=ke(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&De(u),r.callbackPriority=2,r.callbackNode=null,2}function lb(r,s){if(hn!==0&&hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(hh()&&r.callbackNode!==o)return null;var u=rt;return u=ci(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(F_(r,u,s),ob(r,xe()),r.callbackNode!=null&&r.callbackNode===o?lb.bind(null,r):null)}function ub(r,s){if(hh())return null;F_(r,s,!0)}function iR(){pR(function(){(ft&6)!==0?ke(ht,rR):ab()})}function zp(){return Sa===0&&(Sa=Mr()),Sa}function cb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Qa(""+r)}function hb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function sR(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var m=cb((d[Bt]||null).action),R=u.submitter;R&&(s=(s=R[Bt]||null)?cb(s.formAction):R.getAttribute("formAction"),s!==null&&(m=s,R=null));var N=new Xa("action","action",null,u,d);r.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Sa!==0){var $=R?hb(d,R):new FormData(d);ap(o,{pending:!0,data:$,method:d.method,action:m},null,$)}}else typeof m=="function"&&(N.preventDefault(),$=R?hb(d,R):new FormData(d),ap(o,{pending:!0,data:$,method:d.method,action:m},m,$))},currentTarget:d}]})}}for(var Bp=0;Bp<Cd.length;Bp++){var Hp=Cd[Bp],aR=Hp.toLowerCase(),oR=Hp[0].toUpperCase()+Hp.slice(1);br(aR,"on"+oR)}br(Fv,"onAnimationEnd"),br(Gv,"onAnimationIteration"),br($v,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(TA,"onTransitionRun"),br(CA,"onTransitionStart"),br(AA,"onTransitionCancel"),br(Kv,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function fb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var R=u.length-1;0<=R;R--){var N=u[R],$=N.instance,ae=N.currentTarget;if(N=N.listener,$!==m&&d.isPropagationStopped())break e;m=N,d.currentTarget=ae;try{m(d)}catch(de){eh(de)}d.currentTarget=null,m=$}else for(R=0;R<u.length;R++){if(N=u[R],$=N.instance,ae=N.currentTarget,N=N.listener,$!==m&&d.isPropagationStopped())break e;m=N,d.currentTarget=ae;try{m(d)}catch(de){eh(de)}d.currentTarget=null,m=$}}}}function Qe(r,s){var o=s[dl];o===void 0&&(o=s[dl]=new Set);var u=r+"__bubble";o.has(u)||(db(s,r,2,!1),o.add(u))}function qp(r,s,o){var u=0;s&&(u|=4),db(o,r,u,s)}var ph="_reactListening"+Math.random().toString(36).slice(2);function Fp(r){if(!r[ph]){r[ph]=!0,pl.forEach(function(o){o!=="selectionchange"&&(lR.has(o)||qp(o,!1,r),qp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ph]||(s[ph]=!0,qp("selectionchange",!1,s))}}function db(r,s,o,u){switch(jb(s)){case 2:var d=DR;break;case 8:d=NR;break;default:d=ig}o=d.bind(null,s,o,r),d=void 0,!tr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Gp(r,s,o,u,d){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var R=u.tag;if(R===3||R===4){var N=u.stateNode.containerInfo;if(N===d)break;if(R===4)for(R=u.return;R!==null;){var $=R.tag;if(($===3||$===4)&&R.stateNode.containerInfo===d)return;R=R.return}for(;N!==null;){if(R=hi(N),R===null)return;if($=R.tag,$===5||$===6||$===26||$===27){u=m=R;continue e}N=N.parentNode}}u=u.return}mc(function(){var ae=m,de=er(o),ve=[];e:{var le=Wv.get(r);if(le!==void 0){var ue=Xa,ze=r;switch(r){case"keypress":if(zr(o)===0)break e;case"keydown":case"keyup":ue=ro;break;case"focusin":ze="focus",ue=eo;break;case"focusout":ze="blur",ue=eo;break;case"beforeblur":case"afterblur":ue=eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Tc;break;case Fv:case Gv:case $v:ue=to;break;case Kv:ue=Ac;break;case"scroll":case"scrollend":ue=vc;break;case"wheel":ue=io;break;case"copy":case"cut":case"paste":ue=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Al;break;case"toggle":case"beforetoggle":ue=Lc}var Pe=(s&4)!==0,vt=!Pe&&(r==="scroll"||r==="scrollend"),ee=Pe?le!==null?le+"Capture":null:le;Pe=[];for(var Q=ae,ie;Q!==null;){var ge=Q;if(ie=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ie===null||ee===null||(ge=ta(Q,ee),ge!=null&&Pe.push(ru(Q,ge,ie))),vt)break;Q=Q.return}0<Pe.length&&(le=new ue(le,ze,null,o,de),ve.push({event:le,listeners:Pe}))}}if((s&7)===0){e:{if(le=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",le&&o!==gi&&(ze=o.relatedTarget||o.fromElement)&&(hi(ze)||ze[Zn]))break e;if((ue||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(ze=o.relatedTarget||o.toElement,ue=ae,ze=ze?hi(ze):null,ze!==null&&(vt=l(ze),Pe=ze.tag,ze!==vt||Pe!==5&&Pe!==27&&Pe!==6)&&(ze=null)):(ue=null,ze=ae),ue!==ze)){if(Pe=nr,ge="onMouseLeave",ee="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Al,ge="onPointerLeave",ee="onPointerEnter",Q="pointer"),vt=ue==null?le:Nr(ue),ie=ze==null?le:Nr(ze),le=new Pe(ge,Q+"leave",ue,o,de),le.target=vt,le.relatedTarget=ie,ge=null,hi(de)===ae&&(Pe=new Pe(ee,Q+"enter",ze,o,de),Pe.target=ie,Pe.relatedTarget=vt,ge=Pe),vt=ge,ue&&ze)t:{for(Pe=ue,ee=ze,Q=0,ie=Pe;ie;ie=Oo(ie))Q++;for(ie=0,ge=ee;ge;ge=Oo(ge))ie++;for(;0<Q-ie;)Pe=Oo(Pe),Q--;for(;0<ie-Q;)ee=Oo(ee),ie--;for(;Q--;){if(Pe===ee||ee!==null&&Pe===ee.alternate)break t;Pe=Oo(Pe),ee=Oo(ee)}Pe=null}else Pe=null;ue!==null&&pb(ve,le,ue,Pe,!1),ze!==null&&vt!==null&&pb(ve,vt,ze,Pe,!0)}}e:{if(le=ae?Nr(ae):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var Le=Pv;else if(Yt(le))if(kv)Le=EA;else{Le=_A;var Ke=yA}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ae&&_l(ae.elementType)&&(Le=Pv):Le=bA;if(Le&&(Le=Le(r,ae))){bi(ve,Le,o,de);break e}Ke&&Ke(r,le,ae),r==="focusout"&&ae&&le.type==="number"&&ae.memoizedProps.value!=null&&Zi(le,"number",le.value)}switch(Ke=ae?Nr(ae):window,r){case"focusin":(Yt(Ke)||Ke.contentEditable==="true")&&(so=Ke,Sd=ae,Il=null);break;case"focusout":Il=Sd=so=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,Hv(ve,o,de);break;case"selectionchange":if(wA)break;case"keydown":case"keyup":Hv(ve,o,de)}var Oe;if(qr)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else tt?ce(r,o)&&(Ne="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(A&&o.locale!=="ko"&&(tt||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&tt&&(Oe=El()):(Ur=de,Ji="value"in Ur?Ur.value:Ur.textContent,tt=!0)),Ke=gh(ae,Ne),0<Ke.length&&(Ne=new Tl(Ne,r,null,o,de),ve.push({event:Ne,listeners:Ke}),Oe?Ne.data=Oe:(Oe=Ee(o),Oe!==null&&(Ne.data=Oe)))),(Oe=b?Wt(r,o):nt(r,o))&&(Ne=gh(ae,"onBeforeInput"),0<Ne.length&&(Ke=new Tl("onBeforeInput","beforeinput",null,o,de),ve.push({event:Ke,listeners:Ne}),Ke.data=Oe)),sR(ve,r,ae,o,de)}fb(ve,s)})}function ru(r,s,o){return{instance:r,listener:s,currentTarget:o}}function gh(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ta(r,o),d!=null&&u.unshift(ru(r,d,m)),d=ta(r,s),d!=null&&u.push(ru(r,d,m))),r.tag===3)return u;r=r.return}return[]}function Oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pb(r,s,o,u,d){for(var m=s._reactName,R=[];o!==null&&o!==u;){var N=o,$=N.alternate,ae=N.stateNode;if(N=N.tag,$!==null&&$===u)break;N!==5&&N!==26&&N!==27||ae===null||($=ae,d?(ae=ta(o,m),ae!=null&&R.unshift(ru(o,ae,$))):d||(ae=ta(o,m),ae!=null&&R.push(ru(o,ae,$)))),o=o.return}R.length!==0&&r.push({event:s,listeners:R})}var uR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function gb(r){return(typeof r=="string"?r:""+r).replace(uR,`
`).replace(cR,"")}function mb(r,s){return s=gb(s),gb(r)===s}function mh(){}function mt(r,s,o,u,d,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Jn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Jn(r,""+u);break;case"className":jr(r,"class",u);break;case"tabIndex":jr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(r,o,u);break;case"style":yl(r,u,m);break;case"data":if(s!=="object"){jr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Qa(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&mt(r,s,"name",d.name,d,null),mt(r,s,"formEncType",d.formEncType,d,null),mt(r,s,"formMethod",d.formMethod,d,null),mt(r,s,"formTarget",d.formTarget,d,null)):(mt(r,s,"encType",d.encType,d,null),mt(r,s,"method",d.method,d,null),mt(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Qa(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=mh);break;case"onScroll":u!=null&&Qe("scroll",r);break;case"onScrollEnd":u!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Qa(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),Xi(r,"popover",u);break;case"xlinkActuate":ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ln(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ln(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ln(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ln(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gd.get(o)||o,Xi(r,o,u))}}function $p(r,s,o,u,d,m){switch(o){case"style":yl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Jn(r,u):(typeof u=="number"||typeof u=="bigint")&&Jn(r,""+u);break;case"onScroll":u!=null&&Qe("scroll",r);break;case"onScrollEnd":u!=null&&Qe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),m=r[Bt]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Xi(r,o,u)}}}function fn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var u=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var R=o[m];if(R!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,m,R,o,null)}}d&&mt(r,s,"srcSet",o.srcSet,o,null),u&&mt(r,s,"src",o.src,o,null);return;case"input":Qe("invalid",r);var N=m=R=d=null,$=null,ae=null;for(u in o)if(o.hasOwnProperty(u)){var de=o[u];if(de!=null)switch(u){case"name":d=de;break;case"type":R=de;break;case"checked":$=de;break;case"defaultChecked":ae=de;break;case"value":m=de;break;case"defaultValue":N=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:mt(r,s,u,de,o,null)}}Zs(r,m,N,$,ae,R,d,!1),Ya(r);return;case"select":Qe("invalid",r),u=R=m=null;for(d in o)if(o.hasOwnProperty(d)&&(N=o[d],N!=null))switch(d){case"value":m=N;break;case"defaultValue":R=N;break;case"multiple":u=N;default:mt(r,s,d,N,o,null)}s=m,o=R,r.multiple=!!u,s!=null?pi(r,!!u,s,!1):o!=null&&pi(r,!!u,o,!0);return;case"textarea":Qe("invalid",r),m=d=u=null;for(R in o)if(o.hasOwnProperty(R)&&(N=o[R],N!=null))switch(R){case"value":u=N;break;case"defaultValue":d=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:mt(r,s,R,N,o,null)}Js(r,u,d,m),Ya(r);return;case"option":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(r,s,$,u,o,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(u=0;u<nu.length;u++)Qe(nu[u],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in o)if(o.hasOwnProperty(ae)&&(u=o[ae],u!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,ae,u,o,null)}return;default:if(_l(s)){for(de in o)o.hasOwnProperty(de)&&(u=o[de],u!==void 0&&$p(r,s,de,u,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(u=o[N],u!=null&&mt(r,s,N,u,o,null))}function hR(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,R=null,N=null,$=null,ae=null,de=null;for(ue in o){var ve=o[ue];if(o.hasOwnProperty(ue)&&ve!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":$=ve;default:u.hasOwnProperty(ue)||mt(r,s,ue,null,u,ve)}}for(var le in u){var ue=u[le];if(ve=o[le],u.hasOwnProperty(le)&&(ue!=null||ve!=null))switch(le){case"type":m=ue;break;case"name":d=ue;break;case"checked":ae=ue;break;case"defaultChecked":de=ue;break;case"value":R=ue;break;case"defaultValue":N=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:ue!==ve&&mt(r,s,le,ue,u,ve)}}jn(r,R,N,$,ae,de,m,d);return;case"select":ue=R=N=le=null;for(m in o)if($=o[m],o.hasOwnProperty(m)&&$!=null)switch(m){case"value":break;case"multiple":ue=$;default:u.hasOwnProperty(m)||mt(r,s,m,null,u,$)}for(d in u)if(m=u[d],$=o[d],u.hasOwnProperty(d)&&(m!=null||$!=null))switch(d){case"value":le=m;break;case"defaultValue":N=m;break;case"multiple":R=m;default:m!==$&&mt(r,s,d,m,u,$)}s=N,o=R,u=ue,le!=null?pi(r,!!o,le,!1):!!u!=!!o&&(s!=null?pi(r,!!o,s,!0):pi(r,!!o,o?[]:"",!1));return;case"textarea":ue=le=null;for(N in o)if(d=o[N],o.hasOwnProperty(N)&&d!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:mt(r,s,N,null,u,d)}for(R in u)if(d=u[R],m=o[R],u.hasOwnProperty(R)&&(d!=null||m!=null))switch(R){case"value":le=d;break;case"defaultValue":ue=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&mt(r,s,R,d,u,m)}pt(r,le,ue);return;case"option":for(var ze in o)if(le=o[ze],o.hasOwnProperty(ze)&&le!=null&&!u.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:mt(r,s,ze,null,u,le)}for($ in u)if(le=u[$],ue=o[$],u.hasOwnProperty($)&&le!==ue&&(le!=null||ue!=null))switch($){case"selected":r.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:mt(r,s,$,le,u,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)le=o[Pe],o.hasOwnProperty(Pe)&&le!=null&&!u.hasOwnProperty(Pe)&&mt(r,s,Pe,null,u,le);for(ae in u)if(le=u[ae],ue=o[ae],u.hasOwnProperty(ae)&&le!==ue&&(le!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:mt(r,s,ae,le,u,ue)}return;default:if(_l(s)){for(var vt in o)le=o[vt],o.hasOwnProperty(vt)&&le!==void 0&&!u.hasOwnProperty(vt)&&$p(r,s,vt,void 0,u,le);for(de in u)le=u[de],ue=o[de],!u.hasOwnProperty(de)||le===ue||le===void 0&&ue===void 0||$p(r,s,de,le,u,ue);return}}for(var ee in o)le=o[ee],o.hasOwnProperty(ee)&&le!=null&&!u.hasOwnProperty(ee)&&mt(r,s,ee,null,u,le);for(ve in u)le=u[ve],ue=o[ve],!u.hasOwnProperty(ve)||le===ue||le==null&&ue==null||mt(r,s,ve,le,u,ue)}var Kp=null,Wp=null;function vh(r){return r.nodeType===9?r:r.ownerDocument}function vb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Yp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qp=null;function fR(){var r=window.event;return r&&r.type==="popstate"?r===Qp?!1:(Qp=r,!0):(Qp=null,!1)}var _b=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(r){return bb.resolve(null).then(r).catch(gR)}:_b;function gR(r){setTimeout(function(){throw r})}function gs(r){return r==="head"}function Eb(r,s){var o=s,u=0,d=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var R=r.ownerDocument;if(o&1&&iu(R.documentElement),o&2&&iu(R.body),o&4)for(o=R.head,iu(o),R=o.firstChild;R;){var N=R.nextSibling,$=R.nodeName;R[Ws]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&R.rel.toLowerCase()==="stylesheet"||o.removeChild(R),R=N}}if(d===0){r.removeChild(m),fu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);fu(s)}function Xp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xp(o),Qi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function mR(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ws])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Sr(r.nextSibling),r===null)break}return null}function vR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Sr(r.nextSibling),r===null))return null;return r}function Zp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function yR(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Jp=null;function Sb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function wb(r,s,o){switch(s=vh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function iu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Qi(r)}var ur=new Map,Tb=new Set;function yh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Pi=w.d;w.d={f:_R,r:bR,D:ER,C:SR,L:wR,m:TR,X:AR,S:CR,M:RR};function _R(){var r=Pi.f(),s=uh();return r||s}function bR(r){var s=Dr(r);s!==null&&s.tag===5&&s.type==="form"?Fy(s):Pi.r(r)}var xo=typeof document>"u"?null:document;function Cb(r,s,o){var u=xo;if(u&&typeof s=="string"&&s){var d=Ht(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Tb.has(d)||(Tb.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),fn(s,"link",r),Nt(s),u.head.appendChild(s)))}}function ER(r){Pi.D(r),Cb("dns-prefetch",r,null)}function SR(r,s){Pi.C(r,s),Cb("preconnect",r,s)}function wR(r,s,o){Pi.L(r,s,o);var u=xo;if(u&&r&&s){var d='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ht(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ht(o.imageSizes)+'"]')):d+='[href="'+Ht(r)+'"]';var m=d;switch(s){case"style":m=Mo(r);break;case"script":m=Po(r)}ur.has(m)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(m,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(su(m))||s==="script"&&u.querySelector(au(m))||(s=u.createElement("link"),fn(s,"link",r),Nt(s),u.head.appendChild(s)))}}function TR(r,s){Pi.m(r,s);var o=xo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ht(u)+'"][href="'+Ht(r)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Po(r)}if(!ur.has(m)&&(r=v({rel:"modulepreload",href:r},s),ur.set(m,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(au(m)))return}u=o.createElement("link"),fn(u,"link",r),Nt(u),o.head.appendChild(u)}}}function CR(r,s,o){Pi.S(r,s,o);var u=xo;if(u&&r){var d=Tn(u).hoistableStyles,m=Mo(r);s=s||"default";var R=d.get(m);if(!R){var N={loading:0,preload:null};if(R=u.querySelector(su(m)))N.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(m))&&eg(r,o);var $=R=u.createElement("link");Nt($),fn($,"link",r),$._p=new Promise(function(ae,de){$.onload=ae,$.onerror=de}),$.addEventListener("load",function(){N.loading|=1}),$.addEventListener("error",function(){N.loading|=2}),N.loading|=4,_h(R,s,u)}R={type:"stylesheet",instance:R,count:1,state:N},d.set(m,R)}}}function AR(r,s){Pi.X(r,s);var o=xo;if(o&&r){var u=Tn(o).hoistableScripts,d=Po(r),m=u.get(d);m||(m=o.querySelector(au(d)),m||(r=v({src:r,async:!0},s),(s=ur.get(d))&&tg(r,s),m=o.createElement("script"),Nt(m),fn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function RR(r,s){Pi.M(r,s);var o=xo;if(o&&r){var u=Tn(o).hoistableScripts,d=Po(r),m=u.get(d);m||(m=o.querySelector(au(d)),m||(r=v({src:r,async:!0,type:"module"},s),(s=ur.get(d))&&tg(r,s),m=o.createElement("script"),Nt(m),fn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function Ab(r,s,o,u){var d=(d=oe.current)?yh(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Mo(o.href),o=Tn(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Mo(o.href);var m=Tn(d).hoistableStyles,R=m.get(r);if(R||(d=d.ownerDocument||d,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,R),(m=d.querySelector(su(r)))&&!m._p&&(R.instance=m,R.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),m||LR(d,r,o,R.state))),s&&u===null)throw Error(i(528,""));return R}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Po(o),o=Tn(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Mo(r){return'href="'+Ht(r)+'"'}function su(r){return'link[rel="stylesheet"]['+r+"]"}function Rb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function LR(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),fn(s,"link",o),Nt(s),r.head.appendChild(s))}function Po(r){return'[src="'+Ht(r)+'"]'}function au(r){return"script[async]"+r}function Lb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ht(o.href)+'"]');if(u)return s.instance=u,Nt(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Nt(u),fn(u,"style",d),_h(u,o.precedence,r),s.instance=u;case"stylesheet":d=Mo(o.href);var m=r.querySelector(su(d));if(m)return s.state.loading|=4,s.instance=m,Nt(m),m;u=Rb(o),(d=ur.get(d))&&eg(u,d),m=(r.ownerDocument||r).createElement("link"),Nt(m);var R=m;return R._p=new Promise(function(N,$){R.onload=N,R.onerror=$}),fn(m,"link",u),s.state.loading|=4,_h(m,o.precedence,r),s.instance=m;case"script":return m=Po(o.src),(d=r.querySelector(au(m)))?(s.instance=d,Nt(d),d):(u=o,(d=ur.get(m))&&(u=v({},o),tg(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Nt(d),fn(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,_h(u,o.precedence,r));return s.instance}function _h(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,R=0;R<u.length;R++){var N=u[R];if(N.dataset.precedence===s)m=N;else if(m!==d)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function eg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function tg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var bh=null;function Ib(r,s,o){if(bh===null){var u=new Map,d=bh=new Map;d.set(o,u)}else d=bh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var m=o[d];if(!(m[Ws]||m[Ie]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var R=m.getAttribute(s)||"";R=r+R;var N=u.get(R);N?N.push(m):u.set(R,[m])}}return u}function Ob(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function IR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ou=null;function OR(){}function xR(r,s,o){if(ou===null)throw Error(i(475));var u=ou;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Mo(o.href),m=r.querySelector(su(d));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Eh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,Nt(m);return}m=r.ownerDocument||r,o=Rb(o),(d=ur.get(d))&&eg(o,d),m=m.createElement("link"),Nt(m);var R=m;R._p=new Promise(function(N,$){R.onload=N,R.onerror=$}),fn(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Eh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function MR(){if(ou===null)throw Error(i(475));var r=ou;return r.stylesheets&&r.count===0&&ng(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ng(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)ng(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Sh=null;function ng(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Sh=new Map,s.forEach(PR,r),Sh=null,Eh.call(r))}function PR(r,s){if(!(s.state.loading&4)){var o=Sh.get(r);if(o)var u=o.get(null);else{o=new Map,Sh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var R=d[m];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(o.set(R.dataset.precedence,R),u=R)}u&&o.set(null,u)}d=s.instance,R=d.getAttribute("data-precedence"),m=o.get(R)||u,m===u&&o.set(null,d),o.set(R,d),this.count++,u=Eh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var lu={$$typeof:ne,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function kR(r,s,o,u,d,m,R,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Mb(r,s,o,u,d,m,R,N,$,ae,de,ve){return r=new kR(r,s,o,R,N,$,ae,ve),s=1,m===!0&&(s|=24),m=Un(3,null,null,s),r.current=m,m.stateNode=r,s=jd(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},Bd(m),r}function Pb(r){return r?(r=uo,r):uo}function kb(r,s,o,u,d,m){d=Pb(d),u.context===null?u.context=d:u.pendingContext=d,u=ns(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=rs(r,u,s),o!==null&&(Fn(o,r,s),Vl(o,r,s))}function Db(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function rg(r,s){Db(r,s),(r=r.alternate)&&Db(r,s)}function Nb(r){if(r.tag===13){var s=lo(r,67108864);s!==null&&Fn(s,r,67108864),rg(r,67108864)}}var wh=!0;function DR(r,s,o,u){var d=G.T;G.T=null;var m=w.p;try{w.p=2,ig(r,s,o,u)}finally{w.p=m,G.T=d}}function NR(r,s,o,u){var d=G.T;G.T=null;var m=w.p;try{w.p=8,ig(r,s,o,u)}finally{w.p=m,G.T=d}}function ig(r,s,o,u){if(wh){var d=sg(u);if(d===null)Gp(r,s,u,Th,o),Vb(r,u);else if(VR(d,r,s,o,u))u.stopPropagation();else if(Vb(r,u),s&4&&-1<jR.indexOf(r)){for(;d!==null;){var m=Dr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var R=vn(m.pendingLanes);if(R!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;R;){var $=1<<31-Dt(R);N.entanglements[1]|=$,R&=~$}Yr(m),(ft&6)===0&&(oh=xe()+500,tu(0))}}break;case 13:N=lo(m,2),N!==null&&Fn(N,m,2),uh(),rg(m,2)}if(m=sg(u),m===null&&Gp(r,s,u,Th,o),m===d)break;d=m}d!==null&&u.stopPropagation()}else Gp(r,s,u,null,o)}}function sg(r){return r=er(r),ag(r)}var Th=null;function ag(r){if(Th=null,r=hi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Th=r,null}function jb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case ht:return 2;case bt:return 8;case wt:case Ln:return 32;case mn:return 268435456;default:return 32}default:return 32}}var og=!1,ms=null,vs=null,ys=null,uu=new Map,cu=new Map,_s=[],jR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vb(r,s){switch(r){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(s.pointerId)}}function hu(r,s,o,u,d,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Dr(s),s!==null&&Nb(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function VR(r,s,o,u,d){switch(s){case"focusin":return ms=hu(ms,r,s,o,u,d),!0;case"dragenter":return vs=hu(vs,r,s,o,u,d),!0;case"mouseover":return ys=hu(ys,r,s,o,u,d),!0;case"pointerover":var m=d.pointerId;return uu.set(m,hu(uu.get(m)||null,r,s,o,u,d)),!0;case"gotpointercapture":return m=d.pointerId,cu.set(m,hu(cu.get(m)||null,r,s,o,u,d)),!0}return!1}function Ub(r){var s=hi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Fa(r.priority,function(){if(o.tag===13){var u=qn();u=gr(u);var d=lo(o,u);d!==null&&Fn(d,o,u),rg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ch(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=sg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);gi=u,o.target.dispatchEvent(u),gi=null}else return s=Dr(o),s!==null&&Nb(s),r.blockedOn=o,!1;s.shift()}return!0}function zb(r,s,o){Ch(r)&&o.delete(s)}function UR(){og=!1,ms!==null&&Ch(ms)&&(ms=null),vs!==null&&Ch(vs)&&(vs=null),ys!==null&&Ch(ys)&&(ys=null),uu.forEach(zb),cu.forEach(zb)}function Ah(r,s){r.blockedOn===s&&(r.blockedOn=null,og||(og=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UR)))}var Rh=null;function Bb(r){Rh!==r&&(Rh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rh===r&&(Rh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(ag(u||o)===null)continue;break}var m=Dr(o);m!==null&&(r.splice(s,3),s-=3,ap(m,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function fu(r){function s($){return Ah($,r)}ms!==null&&Ah(ms,r),vs!==null&&Ah(vs,r),ys!==null&&Ah(ys,r),uu.forEach(s),cu.forEach(s);for(var o=0;o<_s.length;o++){var u=_s[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<_s.length&&(o=_s[0],o.blockedOn===null);)Ub(o),o.blockedOn===null&&_s.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],m=o[u+1],R=d[Bt]||null;if(typeof m=="function")R||Bb(o);else if(R){var N=null;if(m&&m.hasAttribute("formAction")){if(d=m,R=m[Bt]||null)N=R.formAction;else if(ag(d)!==null)continue}else N=R.action;typeof N=="function"?o[u+1]=N:(o.splice(u,3),u-=3),Bb(o)}}}function lg(r){this._internalRoot=r}Lh.prototype.render=lg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=qn();kb(o,u,r,s,null,null)},Lh.prototype.unmount=lg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;kb(r.current,2,null,r,null,null),uh(),s[Zn]=null}};function Lh(r){this._internalRoot=r}Lh.prototype.unstable_scheduleHydration=function(r){if(r){var s=vr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<_s.length&&s!==0&&s<_s[o].priority;o++);_s.splice(o,0,r),o===0&&Ub(r)}};var Hb=e.version;if(Hb!=="19.1.1")throw Error(i(527,Hb,"19.1.1"));w.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var zR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Et=Ih.inject(zR),qe=Ih}catch{}}return pu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=i_,m=s_,R=a_,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=Mb(r,1,!1,null,null,o,u,d,m,R,N,null),r[Zn]=s.current,Fp(r),new lg(s)},pu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",m=i_,R=s_,N=a_,$=null,ae=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(R=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&($=o.unstable_transitionCallbacks),o.formState!==void 0&&(ae=o.formState)),s=Mb(r,1,!0,s,o??null,u,d,m,R,N,$,ae),s.context=Pb(null),o=s.current,u=qn(),u=gr(u),d=ns(u),d.callback=null,rs(o,d,u),o=u,s.current.lanes=o,Xn(s,o),Yr(s),r[Zn]=s.current,Fp(r),new Lh(s)},pu.version="19.1.1",pu}var Zb;function QR(){if(Zb)return hg.exports;Zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hg.exports=YR(),hg.exports}var XR=QR();const ZR=Tm(XR);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jb="popstate";function JR(n={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return $g("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Nu(a)}return tL(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eL(){return Math.random().toString(36).substring(2,10)}function eE(n,e){return{usr:n.state,key:n.key,idx:e}}function $g(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tl(e):e,state:t,key:e&&e.key||i||eL()}}function Nu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function tL(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function S(){f="POP";let H=v(),K=H==null?null:H-g;g=H,p&&p({action:f,location:B.location,delta:K})}function C(H,K){f="PUSH";let Z=$g(B.location,H,K);g=v()+1;let ne=eE(Z,g),X=B.createHref(Z);try{c.pushState(ne,"",X)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(X)}l&&p&&p({action:f,location:B.location,delta:1})}function j(H,K){f="REPLACE";let Z=$g(B.location,H,K);g=v();let ne=eE(Z,g),X=B.createHref(Z);c.replaceState(ne,"",X),l&&p&&p({action:f,location:B.location,delta:0})}function k(H){return nL(H)}let B={get action(){return f},get location(){return n(a,c)},listen(H){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Jb,S),p=H,()=>{a.removeEventListener(Jb,S),p=null}},createHref(H){return e(a,H)},createURL:k,encodeLocation(H){let K=k(H);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:C,replace:j,go(H){return c.go(H)}};return B}function nL(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),It(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Nu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Sw(n,e,t="/"){return rL(n,e,t,!1)}function rL(n,e,t,i){let a=typeof e=="string"?tl(e):e,l=Ui(a.pathname||"/",t);if(l==null)return null;let c=ww(n);iL(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let g=gL(l);f=dL(c[p],g,i)}return f}function ww(n,e=[],t=[],i="",a=!1){let l=(c,f,p=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;It(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let S=Ni([i,v.relativePath]),C=t.concat(v);c.children&&c.children.length>0&&(It(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),ww(c.children,e,C,S,p)),!(c.path==null&&!c.index)&&e.push({path:S,score:hL(S,c.index),routesMeta:C})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let p of Tw(c.path))l(c,f,!0,p)}),e}function Tw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Tw(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function iL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fL(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var sL=/^:[\w-]+$/,aL=3,oL=2,lL=1,uL=10,cL=-2,tE=n=>n==="*";function hL(n,e){let t=n.split("/"),i=t.length;return t.some(tE)&&(i+=cL),e&&(i+=oL),t.filter(a=>!tE(a)).reduce((a,l)=>a+(sL.test(l)?aL:l===""?lL:uL),i)}function fL(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function dL(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],g=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",S=Zh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),C=p.route;if(!S&&g&&t&&!i[i.length-1].route.index&&(S=Zh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(a,S.params),c.push({params:a,pathname:Ni([l,S.pathname]),pathnameBase:_L(Ni([l,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(l=Ni([l,S.pathnameBase]))}return c}function Zh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=pL(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:S},C)=>{if(v==="*"){let k=f[C]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const j=f[C];return S&&!j?g[v]=void 0:g[v]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function pL(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function gL(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ui(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function mL(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?tl(n):n;return{pathname:t?t.startsWith("/")?t:vL(t,e):e,search:bL(i),hash:EL(a)}}function vL(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function gg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cw(n){let e=yL(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Aw(n,e,t,i=!1){let a;typeof n=="string"?a=tl(n):(a={...n},It(!a.pathname||!a.pathname.includes("?"),gg("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),gg("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),gg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let S=e.length-1;if(!i&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),S-=1;a.pathname=C.join("/")}f=S>=0?e[S]:"/"}let p=mL(a,f),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ni=n=>n.join("/").replace(/\/\/+/g,"/"),_L=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,EL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function SL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Rw=["POST","PUT","PATCH","DELETE"];new Set(Rw);var wL=["GET",...Rw];new Set(wL);var nl=y.createContext(null);nl.displayName="DataRouter";var Nf=y.createContext(null);Nf.displayName="DataRouterState";y.createContext(!1);var Lw=y.createContext({isTransitioning:!1});Lw.displayName="ViewTransition";var TL=y.createContext(new Map);TL.displayName="Fetchers";var CL=y.createContext(null);CL.displayName="Await";var li=y.createContext(null);li.displayName="Navigation";var Wu=y.createContext(null);Wu.displayName="Location";var ui=y.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var Cm=y.createContext(null);Cm.displayName="RouteError";function AL(n,{relative:e}={}){It(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=y.useContext(li),{hash:a,pathname:l,search:c}=Qu(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Ni([t,l])),i.createHref({pathname:f,search:c,hash:a})}function Yu(){return y.useContext(Wu)!=null}function qs(){return It(Yu(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Wu).location}var Iw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ow(n){y.useContext(li).static||y.useLayoutEffect(n)}function jf(){let{isDataRoute:n}=y.useContext(ui);return n?zL():RL()}function RL(){It(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let n=y.useContext(nl),{basename:e,navigator:t}=y.useContext(li),{matches:i}=y.useContext(ui),{pathname:a}=qs(),l=JSON.stringify(Cw(i)),c=y.useRef(!1);return Ow(()=>{c.current=!0}),y.useCallback((p,g={})=>{if(ri(c.current,Iw),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Aw(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ni([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}y.createContext(null);function LL(){let{matches:n}=y.useContext(ui),e=n[n.length-1];return e?e.params:{}}function Qu(n,{relative:e}={}){let{matches:t}=y.useContext(ui),{pathname:i}=qs(),a=JSON.stringify(Cw(t));return y.useMemo(()=>Aw(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function IL(n,e){return xw(n,e)}function xw(n,e,t,i){It(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(li),{matches:l}=y.useContext(ui),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let K=v&&v.path||"";Mw(p,!v||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let S=qs(),C;if(e){let K=typeof e=="string"?tl(e):e;It(g==="/"||K.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${K.pathname}" was given in the \`location\` prop.`),C=K}else C=S;let j=C.pathname||"/",k=j;if(g!=="/"){let K=g.replace(/^\//,"").split("/");k="/"+j.replace(/^\//,"").split("/").slice(K.length).join("/")}let B=Sw(n,{pathname:k});ri(v||B!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ri(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=kL(B&&B.map(K=>Object.assign({},K,{params:Object.assign({},f,K.params),pathname:Ni([g,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:Ni([g,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),l,t,i);return e&&H?y.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function OL(){let n=UL(),e=SL(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:l},"ErrorBoundary")," or"," ",y.createElement("code",{style:l},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:a},t):null,c)}var xL=y.createElement(OL,null),ML=class extends y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?y.createElement(ui.Provider,{value:this.props.routeContext},y.createElement(Cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PL({routeContext:n,match:e,children:t}){let i=y.useContext(nl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(ui.Provider,{value:n},t)}function kL(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);It(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:S}=t,C=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||C){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let S,C=!1,j=null,k=null;t&&(S=l&&g.route.id?l[g.route.id]:void 0,j=g.route.errorElement||xL,c&&(f<0&&v===0?(Mw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):f===v&&(C=!0,k=g.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,v+1)),H=()=>{let K;return S?K=j:C?K=k:g.route.Component?K=y.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,y.createElement(PL,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?y.createElement(ML,{location:t.location,revalidation:t.revalidation,component:j,error:S,children:H(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):H()},null)}function Am(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DL(n){let e=y.useContext(nl);return It(e,Am(n)),e}function NL(n){let e=y.useContext(Nf);return It(e,Am(n)),e}function jL(n){let e=y.useContext(ui);return It(e,Am(n)),e}function Rm(n){let e=jL(n),t=e.matches[e.matches.length-1];return It(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function VL(){return Rm("useRouteId")}function UL(){let n=y.useContext(Cm),e=NL("useRouteError"),t=Rm("useRouteError");return n!==void 0?n:e.errors?.[t]}function zL(){let{router:n}=DL("useNavigate"),e=Rm("useNavigate"),t=y.useRef(!1);return Ow(()=>{t.current=!0}),y.useCallback(async(a,l={})=>{ri(t.current,Iw),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var nE={};function Mw(n,e,t){!e&&!nE[n]&&(nE[n]=!0,ri(!1,t))}y.memo(BL);function BL({routes:n,future:e,state:t}){return xw(n,void 0,t,e)}function Ca(n){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HL({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){It(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=y.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=tl(t));let{pathname:p="/",search:g="",hash:v="",state:S=null,key:C="default"}=t,j=y.useMemo(()=>{let k=Ui(p,c);return k==null?null:{location:{pathname:k,search:g,hash:v,state:S,key:C},navigationType:i}},[c,p,g,v,S,C,i]);return ri(j!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:y.createElement(li.Provider,{value:f},y.createElement(Wu.Provider,{children:e,value:j}))}function qL({children:n,location:e}){return IL(Kg(n),e)}function Kg(n,e=[]){let t=[];return y.Children.forEach(n,(i,a)=>{if(!y.isValidElement(i))return;let l=[...e,a];if(i.type===y.Fragment){t.push.apply(t,Kg(i.props.children,l));return}It(i.type===Ca,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Kg(i.props.children,l)),t.push(c)}),t}var zh="get",Bh="application/x-www-form-urlencoded";function Vf(n){return n!=null&&typeof n.tagName=="string"}function FL(n){return Vf(n)&&n.tagName.toLowerCase()==="button"}function GL(n){return Vf(n)&&n.tagName.toLowerCase()==="form"}function $L(n){return Vf(n)&&n.tagName.toLowerCase()==="input"}function KL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WL(n,e){return n.button===0&&(!e||e==="_self")&&!KL(n)}var xh=null;function YL(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var QL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(n){return n!=null&&!QL.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):n}function XL(n,e){let t,i,a,l,c;if(GL(n)){let f=n.getAttribute("action");i=f?Ui(f,e):null,t=n.getAttribute("method")||zh,a=mg(n.getAttribute("enctype"))||Bh,l=new FormData(n)}else if(FL(n)||$L(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Ui(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||zh,a=mg(n.getAttribute("formenctype"))||mg(f.getAttribute("enctype"))||Bh,l=new FormData(f,n),!YL()){let{name:g,type:v,value:S}=n;if(v==="image"){let C=g?`${g}.`:"";l.append(`${C}x`,"0"),l.append(`${C}y`,"0")}else g&&l.append(g,S)}}else{if(Vf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zh,i=null,a=Bh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZL(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ui(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function JL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await JL(l,t);return c.links?c.links():[]}return[]}));return sI(i.flat(1).filter(eI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function rE(n,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function nI(n,e,{includeHydrateFallback:t}={}){return rI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function rI(n){return[...new Set(n)]}function iI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function sI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(iI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function Pw(){let n=y.useContext(nl);return Lm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aI(){let n=y.useContext(Nf);return Lm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Im=y.createContext(void 0);Im.displayName="FrameworkContext";function kw(){let n=y.useContext(Im);return Lm(n,"You must render this element inside a <HydratedRouter> element"),n}function oI(n,e){let t=y.useContext(Im),[i,a]=y.useState(!1),[l,c]=y.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=e,C=y.useRef(null);y.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let B=K=>{K.forEach(Z=>{c(Z.isIntersecting)})},H=new IntersectionObserver(B,{threshold:.5});return C.current&&H.observe(C.current),()=>{H.disconnect()}}},[n]),y.useEffect(()=>{if(i){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[i]);let j=()=>{a(!0)},k=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,C,{}]:[l,C,{onFocus:gu(f,j),onBlur:gu(p,k),onMouseEnter:gu(g,j),onMouseLeave:gu(v,k),onTouchStart:gu(S,j)}]:[!1,C,{}]}function gu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lI({page:n,...e}){let{router:t}=Pw(),i=y.useMemo(()=>Sw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?y.createElement(cI,{page:n,matches:i,...e}):null}function uI(n){let{manifest:e,routeModules:t}=kw(),[i,a]=y.useState([]);return y.useEffect(()=>{let l=!1;return tI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function cI({page:n,matches:e,...t}){let i=qs(),{manifest:a,routeModules:l}=kw(),{basename:c}=Pw(),{loaderData:f,matches:p}=aI(),g=y.useMemo(()=>rE(n,e,p,a,i,"data"),[n,e,p,a,i]),v=y.useMemo(()=>rE(n,e,p,a,i,"assets"),[n,e,p,a,i]),S=y.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,B=!1;if(e.forEach(K=>{let Z=a.routes[K.route.id];!Z||!Z.hasLoader||(!g.some(ne=>ne.route.id===K.route.id)&&K.route.id in f&&l[K.route.id]?.shouldRevalidate||Z.hasClientLoader?B=!0:k.add(K.route.id))}),k.size===0)return[];let H=ZL(n,c,"data");return B&&k.size>0&&H.searchParams.set("_routes",e.filter(K=>k.has(K.route.id)).map(K=>K.route.id).join(",")),[H.pathname+H.search]},[c,f,i,a,g,e,n,l]),C=y.useMemo(()=>nI(v,a),[v,a]),j=uI(v);return y.createElement(y.Fragment,null,S.map(k=>y.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),C.map(k=>y.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),j.map(({key:k,link:B})=>y.createElement("link",{key:k,nonce:t.nonce,...B})))}function hI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.8.1")}catch{}function fI({basename:n,children:e,window:t}){let i=y.useRef();i.current==null&&(i.current=JR({window:t,v5Compat:!0}));let a=i.current,[l,c]=y.useState({action:a.action,location:a.location}),f=y.useCallback(p=>{y.startTransition(()=>c(p))},[c]);return y.useLayoutEffect(()=>a.listen(f),[a,f]),y.createElement(HL,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ts=y.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:p,to:g,preventScrollReset:v,viewTransition:S,...C},j){let{basename:k}=y.useContext(li),B=typeof g=="string"&&Nw.test(g),H,K=!1;if(typeof g=="string"&&B&&(H=g,Dw))try{let E=new URL(window.location.href),T=g.startsWith("//")?new URL(E.protocol+g):new URL(g),P=Ui(T.pathname,k);T.origin===E.origin&&P!=null?g=P+T.search+T.hash:K=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=AL(g,{relative:a}),[ne,X,M]=oI(i,C),z=mI(g,{replace:c,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:S});function O(E){e&&e(E),E.defaultPrevented||z(E)}let L=y.createElement("a",{...C,...M,href:H||Z,onClick:K||l?e:O,ref:hI(j,X),target:p,"data-discover":!B&&t==="render"?"true":void 0});return ne&&!B?y.createElement(y.Fragment,null,L,y.createElement(lI,{page:Z})):L});Ts.displayName="Link";var dI=y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:p,...g},v){let S=Qu(c,{relative:g.relative}),C=qs(),j=y.useContext(Nf),{navigator:k,basename:B}=y.useContext(li),H=j!=null&&EI(S)&&f===!0,K=k.encodeLocation?k.encodeLocation(S).pathname:S.pathname,Z=C.pathname,ne=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),ne=ne?ne.toLowerCase():null,K=K.toLowerCase()),ne&&B&&(ne=Ui(ne,B)||ne);const X=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let M=Z===K||!a&&Z.startsWith(K)&&Z.charAt(X)==="/",z=ne!=null&&(ne===K||!a&&ne.startsWith(K)&&ne.charAt(K.length)==="/"),O={isActive:M,isPending:z,isTransitioning:H},L=M?e:void 0,E;typeof i=="function"?E=i(O):E=[i,M?"active":null,z?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(O):l;return y.createElement(Ts,{...g,"aria-current":L,className:E,ref:v,style:T,to:c,viewTransition:f},typeof p=="function"?p(O):p)});dI.displayName="NavLink";var pI=y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=zh,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:S,...C},j)=>{let k=_I(),B=bI(f,{relative:g}),H=c.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&Nw.test(f),Z=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let X=ne.nativeEvent.submitter,M=X?.getAttribute("formmethod")||c;k(X||ne.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:S})};return y.createElement("form",{ref:j,method:H,action:B,onSubmit:i?p:Z,...C,"data-discover":!K&&n==="render"?"true":void 0})});pI.displayName="Form";function gI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(n){let e=y.useContext(nl);return It(e,gI(n)),e}function mI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=jf(),p=qs(),g=Qu(n,{relative:l});return y.useCallback(v=>{if(WL(v,e)){v.preventDefault();let S=t!==void 0?t:Nu(p)===Nu(g);f(n,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,g,t,i,e,n,a,l,c])}var vI=0,yI=()=>`__${String(++vI)}__`;function _I(){let{router:n}=jw("useSubmit"),{basename:e}=y.useContext(li),t=VL();return y.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:p,body:g}=XL(i,e);if(a.navigate===!1){let v=a.fetcherKey||yI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function bI(n,{relative:e}={}){let{basename:t}=y.useContext(li),i=y.useContext(ui);It(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Qu(n||".",{relative:e})},c=qs();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(S=>S).forEach(S=>f.append("index",S));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ni([t,l.pathname])),Nu(l)}function EI(n,{relative:e}={}){let t=y.useContext(Lw);It(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=jw("useViewTransitionState"),a=Qu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Ui(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ui(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Zh(a.pathname,c)!=null||Zh(a.pathname,l)!=null}var rl=Ew(),Vw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iE=xs.createContext&&xs.createContext(Vw),SI=["attr","size","title"];function wI(n,e){if(n==null)return{};var t=TI(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function TI(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Jh(){return Jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jh.apply(this,arguments)}function sE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function ef(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(t),!0).forEach(function(i){CI(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CI(n,e,t){return e=AI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AI(n){var e=RI(n,"string");return typeof e=="symbol"?e:e+""}function RI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Uw(n){return n&&n.map((e,t)=>xs.createElement(e.tag,ef({key:t},e.attr),Uw(e.child)))}function en(n){return e=>xs.createElement(LI,Jh({attr:ef({},n.attr)},e),Uw(n.child))}function LI(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=wI(n,SI),f=a||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),xs.createElement("svg",Jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:ef(ef({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&xs.createElement("title",null,l),n.children)};return iE!==void 0?xs.createElement(iE.Consumer,null,t=>e(t)):e(Vw)}function II(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(n)}function OI(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(n)}function xI(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function zw(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(n)}function MI(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function PI(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(n)}function kI(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(n)}function DI(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function Om(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}const Bw=y.createContext(),Uf=()=>y.useContext(Bw),NI=({children:n})=>{const[e,t]=y.useState([]),c={cartItems:e,addToCart:(f,p=1)=>{t(g=>g.find(S=>S.id===f.id)?g.map(S=>S.id===f.id?{...S,quantityInCart:S.quantityInCart+p}:S):[...g,{...f,quantityInCart:p}])},removeFromCart:f=>{t(p=>p.find(v=>v.id===f)?.quantityInCart===1?p.filter(v=>v.id!==f):p.map(v=>v.id===f?{...v,quantityInCart:v.quantityInCart-1}:v))},setCartItemQuantity:(f,p)=>{const g=Math.max(1,p);t(v=>v.map(S=>S.id===f?{...S,quantityInCart:g}:S))}};return I.jsx(Bw.Provider,{value:c,children:n})},jI=({onLocationClick:n,onLoginClick:e,address:t,isLoggedIn:i,onCartClick:a,onProfileClick:l})=>{const{cartItems:c}=Uf(),f=c.reduce((p,g)=>p+g.quantityInCart,0);return I.jsxs("header",{className:"header",children:[I.jsx("div",{className:"header-left",children:I.jsx(Ts,{to:"/",className:"logo-link",children:I.jsx("h1",{className:"logo",children:"Namma Party"})})}),I.jsxs("nav",{className:"header-nav",children:[I.jsx(Ts,{to:"/",className:"nav-link",children:"Home"}),I.jsx(Ts,{to:"/about",className:"nav-link",children:"About Us"}),I.jsx(Ts,{to:"/contact",className:"nav-link",children:"Contact Us"}),I.jsx(Ts,{to:"/shop",className:"nav-link",children:"Shop"})]}),I.jsxs("div",{className:"header-right",children:[I.jsxs("button",{onClick:n,className:"nav-button location-button",children:[I.jsx(zw,{size:16}),I.jsx("span",{children:t||"Select Location"})]}),i?I.jsx("button",{onClick:l,className:"nav-button",children:"Profile"}):I.jsx("button",{onClick:e,className:"nav-button",children:"Login"}),I.jsxs("button",{onClick:a,className:"nav-button cart-button",children:[I.jsx(PI,{size:20}),f>0&&I.jsx("div",{className:"cart-count",children:f})]})]})]})},VI=(n,e)=>{const[t,i]=y.useState(null);return y.useCallback((...l)=>{t&&clearTimeout(t);const c=setTimeout(()=>{n(...l)},e);i(c)},[n,e,t])},UI=({isOpen:n,onClose:e,onLocationSet:t})=>{const[i,a]=y.useState(""),[l,c]=y.useState([]),[f,p]=y.useState(!1),v=VI(async k=>{if(!k||k.trim().length<3){c([]);return}p(!0);try{const H=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(k)}&format=json&addressdetails=1&limit=5`)).json();c(H)}catch(B){console.error("Failed to fetch search results:",B),c([])}finally{p(!1)}},500),S=k=>{const B=k.target.value;a(B),v(B)},C=k=>{t(k.display_name),e()},j=async()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async k=>{const{latitude:B,longitude:H}=k.coords;try{const ne=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${B}&lon=${H}`)).json()).address,X=`${ne.road||""}, ${ne.suburb||ne.city_district||""}`;t(X),e()}catch(K){console.error("Error fetching address:",K),alert("Could not fetch address details.")}},k=>{alert("Geolocation permission denied or failed.")}):alert("Geolocation is not supported by this browser.")};return n?I.jsx("div",{className:"modal-overlay",onClick:e,children:I.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[I.jsxs("div",{className:"modal-header",children:[I.jsx("h2",{children:"Your Location"}),I.jsx("button",{className:"close-button",onClick:e,children:I.jsx(Om,{size:24})})]}),I.jsxs("div",{className:"search-container",children:[I.jsx(MI,{className:"search-icon"}),I.jsx("input",{type:"text",placeholder:"Search for area, street name...",className:"search-input",value:i,onChange:S})]}),I.jsxs("div",{className:"search-results-container",children:[f&&I.jsx("p",{className:"loading-text",children:"Searching..."}),!f&&l.map(k=>I.jsxs("div",{className:"search-result-item",onClick:()=>C(k),children:[I.jsx(zw,{className:"result-icon"}),I.jsxs("div",{className:"result-text",children:[I.jsx("h4",{children:k.address.road||k.address.suburb||k.name}),I.jsx("p",{children:k.display_name})]})]},k.place_id))]}),I.jsxs("div",{className:"current-location-container",onClick:j,children:[I.jsx("div",{className:"current-location-icon",children:I.jsx(kI,{size:24,color:"#e94e77"})}),I.jsxs("div",{className:"current-location-text",children:[I.jsx("h3",{children:"Use My Current Location"}),I.jsx("p",{children:"Enable your current location for better services"})]}),I.jsx("button",{className:"enable-button",children:"Enable"})]})]})}):null},zI=()=>{};var aE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},BI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,S=(l&3)<<4|f>>4;let C=(f&15)<<2|g>>6,j=g&63;p||(j=64,c||(C=64)),i.push(t[v],t[S],t[C],t[j])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Hw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const S=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||S==null)throw new HI;const C=l<<2|f>>4;if(i.push(C),g!==64){const j=f<<4&240|g>>2;if(i.push(j),S!==64){const k=g<<6&192|S;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qI=function(n){const e=Hw(n);return qw.encodeByteArray(e,!0)},tf=function(n){return qI(n).replace(/\./g,"")},Fw=function(n){try{return qw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=()=>FI().__FIREBASE_DEFAULTS__,$I=()=>{if(typeof process>"u"||typeof aE>"u")return;const n=aE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fw(n[1]);return e&&JSON.parse(e)},zf=()=>{try{return zI()||GI()||$I()||KI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Gw=n=>zf()?.emulatorHosts?.[n],WI=n=>{const e=Gw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},$w=()=>zf()?.config,Kw=n=>zf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ww(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[tf(JSON.stringify(t)),tf(JSON.stringify(c)),""].join(".")}const Lu={};function XI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?n.emulator.push(e):n.prod.push(e);return n}function ZI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let oE=!1;function Yw(n,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Lu[n]===e||Lu[n]||oE)return;Lu[n]=e;function t(C){return`__firebase__banner__${C}`}const i="__firebase__banner",l=XI().prod.length>0;function c(){const C=document.getElementById(i);C&&C.remove()}function f(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function g(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{oE=!0,c()},C}function v(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=ZI(i),j=t("text"),k=document.getElementById(j)||document.createElement("span"),B=t("learnmore"),H=document.getElementById(B)||document.createElement("a"),K=t("preprendIcon"),Z=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ne=C.element;f(ne),v(H,B);const X=g();p(Z,K),ne.append(Z,k,H,X),document.body.appendChild(ne)}l?(k.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function eO(){const n=zf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rO(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iO(){return!eO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xw(){try{return typeof indexedDB=="object"}catch{return!1}}function Zw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function sO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="FirebaseError";class Ir extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=aO,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ja.prototype.create)}}class ja{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?oO(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ir(a,f,i)}}function oO(n,e){return n.replace(lO,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const lO=/\{\$([^}]+)}/g;function uO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ns(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(lE(l)&&lE(c)){if(!Ns(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function lE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Su(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function cO(n,e){const t=new hO(n,e);return t.subscribe.bind(t)}class hO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");fO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=vg),a.error===void 0&&(a.error=vg),a.complete===void 0&&(a.complete=vg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=1e3,pO=2,gO=14400*1e3,mO=.5;function uE(n,e=dO,t=pO){const i=e*Math.pow(t,n),a=Math.round(mO*i*(Math.random()-.5)*2);return Math.min(gO,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n){return n&&n._delegate?n._delegate:n}class Cr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new YI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_O(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yO(n){return n===Aa?void 0:n}function _O(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const EO={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},SO=Ze.INFO,wO={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},TO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=wO[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bf{constructor(e){this.name=e,this._logLevel=SO,this._logHandler=TO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const CO=(n,e)=>e.some(t=>n instanceof t);let cE,hE;function AO(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RO(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jw=new WeakMap,Wg=new WeakMap,eT=new WeakMap,yg=new WeakMap,xm=new WeakMap;function LO(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ms(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Jw.set(t,n)}).catch(()=>{}),xm.set(e,n),e}function IO(n){if(Wg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Wg.set(n,e)}let Yg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OO(n){Yg=n(Yg)}function xO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_g(this),e,...t);return eT.set(i,e.sort?e.sort():[e]),Ms(i)}:RO().includes(n)?function(...e){return n.apply(_g(this),e),Ms(Jw.get(this))}:function(...e){return Ms(n.apply(_g(this),e))}}function MO(n){return typeof n=="function"?xO(n):(n instanceof IDBTransaction&&IO(n),CO(n,AO())?new Proxy(n,Yg):n)}function Ms(n){if(n instanceof IDBRequest)return LO(n);if(yg.has(n))return yg.get(n);const e=MO(n);return e!==n&&(yg.set(n,e),xm.set(e,n)),e}const _g=n=>xm.get(n);function tT(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Ms(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ms(c.result),p.oldVersion,p.newVersion,Ms(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const PO=["get","getKey","getAll","getAllKeys","count"],kO=["put","add","delete","clear"],bg=new Map;function fE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=kO.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||PO.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&p.done]))[0]};return bg.set(e,l),l}OO(n=>({...n,get:(e,t,i)=>fE(e,t)||n.get(e,t,i),has:(e,t)=>!!fE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NO(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function NO(n){return n.getComponent()?.type==="VERSION"}const Qg="@firebase/app",dE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Bf("@firebase/app"),jO="@firebase/app-compat",VO="@firebase/analytics-compat",UO="@firebase/analytics",zO="@firebase/app-check-compat",BO="@firebase/app-check",HO="@firebase/auth",qO="@firebase/auth-compat",FO="@firebase/database",GO="@firebase/data-connect",$O="@firebase/database-compat",KO="@firebase/functions",WO="@firebase/functions-compat",YO="@firebase/installations",QO="@firebase/installations-compat",XO="@firebase/messaging",ZO="@firebase/messaging-compat",JO="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",r2="@firebase/storage",i2="@firebase/storage-compat",s2="@firebase/firestore",a2="@firebase/ai",o2="@firebase/firestore-compat",l2="firebase",u2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="[DEFAULT]",c2={[Qg]:"fire-core",[jO]:"fire-core-compat",[UO]:"fire-analytics",[VO]:"fire-analytics-compat",[BO]:"fire-app-check",[zO]:"fire-app-check-compat",[HO]:"fire-auth",[qO]:"fire-auth-compat",[FO]:"fire-rtdb",[GO]:"fire-data-connect",[$O]:"fire-rtdb-compat",[KO]:"fire-fn",[WO]:"fire-fn-compat",[YO]:"fire-iid",[QO]:"fire-iid-compat",[XO]:"fire-fcm",[ZO]:"fire-fcm-compat",[JO]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[r2]:"fire-gcs",[i2]:"fire-gcs-compat",[s2]:"fire-fst",[o2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Map,h2=new Map,Zg=new Map;function pE(n,e){try{n.container.addComponent(e)}catch(t){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ii(n){const e=n.name;if(Zg.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;Zg.set(e,n);for(const t of nf.values())pE(t,n);for(const t of h2.values())pE(t,n);return!0}function Va(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new ja("app","Firebase",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=u2;function nT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Xg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ps.create("bad-app-name",{appName:String(a)});if(t||(t=$w()),!t)throw Ps.create("no-options");const l=nf.get(a);if(l){if(Ns(t,l.options)&&Ns(i,l.config))return l;throw Ps.create("duplicate-app",{appName:a})}const c=new bO(a);for(const p of Zg.values())c.addComponent(p);const f=new d2(t,i,c);return nf.set(a,f),f}function Mm(n=Xg){const e=nf.get(n);if(!e&&n===Xg&&$w())return nT();if(!e)throw Ps.create("no-app",{appName:n});return e}function dr(n,e,t){let i=c2[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(c.join(" "));return}ii(new Cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firebase-heartbeat-database",g2=1,ju="firebase-heartbeat-store";let Eg=null;function rT(){return Eg||(Eg=tT(p2,g2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ps.create("idb-open",{originalErrorMessage:n.message})})),Eg}async function m2(n){try{const t=(await rT()).transaction(ju),i=await t.objectStore(ju).get(iT(n));return await t.done,i}catch(e){if(e instanceof Ir)zi.warn(e.message);else{const t=Ps.create("idb-get",{originalErrorMessage:e?.message});zi.warn(t.message)}}}async function gE(n,e){try{const i=(await rT()).transaction(ju,"readwrite");await i.objectStore(ju).put(e,iT(n)),await i.done}catch(t){if(t instanceof Ir)zi.warn(t.message);else{const i=Ps.create("idb-set",{originalErrorMessage:t?.message});zi.warn(i.message)}}}function iT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1024,y2=30;class _2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new E2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>y2){const a=S2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mE(),{heartbeatsToSend:t,unsentEntries:i}=b2(this._heartbeatsCache.heartbeats),a=tf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return zi.warn(e),""}}}function mE(){return new Date().toISOString().substring(0,10)}function b2(n,e=v2){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),vE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),vE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class E2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xw()?Zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await m2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vE(n){return tf(JSON.stringify({version:2,heartbeats:n})).length}function S2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){ii(new Cr("platform-logger",e=>new DO(e),"PRIVATE")),ii(new Cr("heartbeat",e=>new _2(e),"PRIVATE")),dr(Qg,dE,n),dr(Qg,dE,"esm2020"),dr("fire-js","")}w2("");var T2="firebase",C2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(T2,C2,"app");function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A2=sT,aT=new ja("auth","Firebase",sT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Bf("@firebase/auth");function R2(n,...e){rf.logLevel<=Ze.WARN&&rf.warn(`Auth (${sl}): ${n}`,...e)}function Hh(n,...e){rf.logLevel<=Ze.ERROR&&rf.error(`Auth (${sl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,...e){throw Pm(n,...e)}function Xr(n,...e){return Pm(n,...e)}function oT(n,e,t){const i={...A2(),[e]:t};return new ja("auth","Firebase",i).create(e,{appName:n.name})}function ji(n){return oT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return aT.create(n,...e)}function Ve(n,e,...t){if(!n)throw Pm(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hh(e),new Error(e)}function Bi(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(){return typeof self<"u"&&self.location?.href||""}function L2(){return yE()==="http:"||yE()==="https:"}function yE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||Qw()||"connection"in navigator)?navigator.onLine:!0}function O2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bi(t>e,"Short delay should be less than long delay!"),this.isMobile=JI()||nO()}get(){return I2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n,e){Bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P2=new Zu(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Gi(n,e,t,i,a={}){return uT(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Xu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return tO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&il(n.emulatorConfig.host)&&(g.credentials="include"),lT.fetch()(await cT(n,n.config.apiHost,t,f),g)})}async function uT(n,e,t){n._canInitEmulator=!1;const i={...x2,...e};try{const a=new D2(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Mh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Mh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Mh(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw oT(n,v,g);Ar(n,v)}}catch(a){if(a instanceof Ir)throw a;Ar(n,"network-request-failed",{message:String(a)})}}async function Ju(n,e,t,i,a={}){const l=await Gi(n,e,t,i,a);return"mfaPendingCredential"in l&&Ar(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function cT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?km(n.config,a):`${n.config.apiScheme}://${a}`;return M2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function k2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Xr(this.auth,"network-request-failed")),P2.get())})}}function Mh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Xr(n,e,i);return a.customData._tokenResponse=t,a}function _E(n){return n!==void 0&&n.enterprise!==void 0}class N2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return k2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j2(n,e){return Gi(n,"GET","/v2/recaptchaConfig",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(n,e){return Gi(n,"POST","/v1/accounts:delete",e)}async function sf(n,e){return Gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U2(n,e=!1){const t=kt(n),i=await t.getIdToken(e),a=Dm(i);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Iu(Sg(a.auth_time)),issuedAtTime:Iu(Sg(a.iat)),expirationTime:Iu(Sg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Sg(n){return Number(n)*1e3}function Dm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Fw(t);return a?JSON.parse(a):(Hh("Failed to decode base64 JWT payload"),null)}catch(a){return Hh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function bE(n){const e=Dm(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ir&&z2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function z2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(n){const e=n.auth,t=await n.getIdToken(),i=await $o(n,sf(e,{idToken:t}));Ve(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?hT(a.providerUserInfo):[],c=q2(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,g=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new em(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function H2(n){const e=kt(n);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q2(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function hT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(n,e){const t=await uT(n,{},async()=>{const i=Xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await cT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&il(n.emulatorConfig.host)&&(p.credentials="include"),lT.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function G2(n,e){return Gi(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=bE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await F2(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new zo;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new B2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new em(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await $o(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return U2(this,e)}reload(){return H2(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await af(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await $o(this,V2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:j,providerData:k,stsTokenManager:B}=t;Ve(S&&B,e,"internal-error");const H=zo.fromJSON(this.name,B);Ve(typeof S=="string",e,"internal-error"),Es(i,e.name),Es(a,e.name),Ve(typeof C=="boolean",e,"internal-error"),Ve(typeof j=="boolean",e,"internal-error"),Es(l,e.name),Es(c,e.name),Es(f,e.name),Es(p,e.name),Es(g,e.name),Es(v,e.name);const K=new wr({uid:S,auth:e,email:a,emailVerified:C,displayName:i,isAnonymous:j,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:H,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(K.providerData=k.map(Z=>({...Z}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,t,i=!1){const a=new zo;a.updateFromServerResponse(t);const l=new wr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await af(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?hT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new zo;f.updateFromIdToken(i);const p=new wr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new em(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function Di(n){Bi(n instanceof Function,"Expected a class definition");let e=EE.get(n);return e?(Bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,EE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fT.type="NONE";const SE=fT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,e,t){return`firebase:${n}:${e}:${t}`}class Bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=qh(this.userKey,a.apiKey,l),this.fullPersistenceKey=qh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sf(this.auth,{idToken:e}).catch(()=>{});return t?wr._fromGetAccountInfoResponse(this.auth,t,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Bo(Di(SE),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Di(SE);const c=qh(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const v=await g._get(c);if(v){let S;if(typeof v=="string"){const C=await sf(e,{idToken:v}).catch(()=>{});if(!C)break;S=await wr._fromGetAccountInfoResponse(e,C,v)}else S=wr._fromJSON(e,v);g!==l&&(f=S),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Bo(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Bo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(_T(e))return"Webos";if(pT(e))return"Safari";if((e.includes("chrome/")||gT(e))&&!e.includes("edge/"))return"Chrome";if(vT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function dT(n=wn()){return/firefox\//i.test(n)}function pT(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gT(n=wn()){return/crios\//i.test(n)}function mT(n=wn()){return/iemobile/i.test(n)}function vT(n=wn()){return/android/i.test(n)}function yT(n=wn()){return/blackberry/i.test(n)}function _T(n=wn()){return/webos/i.test(n)}function Nm(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $2(n=wn()){return Nm(n)&&!!window.navigator?.standalone}function K2(){return rO()&&document.documentMode===10}function bT(n=wn()){return Nm(n)||vT(n)||_T(n)||yT(n)||/windows phone/i.test(n)||mT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(n,e=[]){let t;switch(n){case"Browser":t=wE(wn());break;case"Worker":t=`${wE(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(n,e={}){return Gi(n,"GET","/v2/passwordPolicy",Fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=6;class X2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Q2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new W2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sf(this,{idToken:e}),i=await wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(ji(this));const t=e?kt(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y2(this),t=new X2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ja("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await G2(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&R2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ua(n){return kt(n)}class TE{constructor(e){this.auth=e,this.observer=null,this.addObserver=cO(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J2(n){Hf=n}function ST(n){return Hf.loadJS(n)}function ex(){return Hf.recaptchaEnterpriseScript}function tx(){return Hf.gapiScript}function nx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rx{constructor(){this.enterprise=new ix}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ix{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sx="recaptcha-enterprise",wT="NO_RECAPTCHA";class ax{constructor(e){this.type=sx,this.auth=Ua(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{j2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new N2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{f(p)})})}function a(l,c,f){const p=window.grecaptcha;_E(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(wT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rx().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&_E(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ex();p.length!==0&&(p+=f),ST(p).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function CE(n,e,t,i=!1,a=!1){const l=new ax(n);let c;if(a)c=wT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function tm(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await CE(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await CE(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n,e){const t=Va(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ns(l,e??{}))return a;Ar(a,"already-initialized")}return t.initialize({options:e})}function lx(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function ux(n,e,t){const i=Ua(n);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=TT(e),{host:c,port:f}=cx(e),p=f===null?"":`:${f}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(Ns(g,i.config.emulator)&&Ns(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,il(c)?(Ww(`${l}//${c}${p}`),Yw("Auth",!0)):hx()}function TT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cx(n){const e=TT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:AE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:AE(c)}}}function AE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hx(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function fx(n,e){return Gi(n,"POST","/v1/accounts:update",e)}async function dx(n,e){return Gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(n,e){return Ju(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(n,e){return Ju(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function mx(n,e){return Ju(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends jm{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Vu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Vu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,t,"signInWithPassword",px);case"emailLink":return gx(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,i,"signUpPassword",dx);case"emailLink":return mx(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n,e){return Ju(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="http://localhost";class xa extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new xa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:vx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _x(n){const e=Su(wu(n)).link,t=e?Su(wu(e)).deep_link_id:null,i=Su(wu(n)).deep_link_id;return(i?Su(wu(i)).link:null)||i||t||e||n}class Vm{constructor(e){const t=Su(wu(e)),i=t.apiKey??null,a=t.oobCode??null,l=yx(t.mode??null);Ve(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=_x(e);try{return new Vm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.providerId=za.PROVIDER_ID}static credential(e,t){return Vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Vm.parseLink(t);return Ve(i,"argument-error"),Vu._fromEmailAndCode(e,i.code,i.tenantId)}}za.PROVIDER_ID="password";za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends ec{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return As.credential(t,i)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends ec{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends ec{constructor(){super("twitter.com")}static credential(e,t){return xa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ls.credential(t,i)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(n,e){return Ju(n,"POST","/v1/accounts:signUp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await wr._fromIdTokenResponse(e,i,a),c=RE(i);return new Ma({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=RE(i);return new Ma({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function RE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends Ir{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,of.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new of(e,t,i,a)}}function AT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(n,l,e,i):l})}async function Ex(n,e,t=!1){const i=await $o(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ma._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(n,e,t=!1){const{auth:i}=n;if(hr(i.app))return Promise.reject(ji(i));const a="reauthenticate";try{const l=await $o(n,AT(i,a,e,n),t);Ve(l.idToken,i,"internal-error");const c=Dm(l.idToken);Ve(c,i,"internal-error");const{sub:f}=c;return Ve(n.uid===f,i,"user-mismatch"),Ma._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ar(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(n,e,t=!1){if(hr(n.app))return Promise.reject(ji(n));const i="signIn",a=await AT(n,i,e),l=await Ma._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function Sx(n,e){return LT(Ua(n),e)}async function wx(n,e){return RT(kt(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(n){const e=Ua(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tx(n,e,t){if(hr(n.app))return Promise.reject(ji(n));const i=Ua(n),c=await tm(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&IT(n),p}),f=await Ma._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function Cx(n,e,t){return hr(n.app)?Promise.reject(ji(n)):Sx(kt(n),za.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&IT(n),i})}function Ax(n,e){return Rx(kt(n),null,e)}async function Rx(n,e,t){const{auth:i}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(l.password=t);const c=await $o(n,fx(i,l));await n._updateTokensIfNecessary(c,!0)}function Lx(n,e,t,i){return kt(n).onIdTokenChanged(e,t,i)}function Ix(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function OT(n,e,t,i){return kt(n).onAuthStateChanged(e,t,i)}function Ox(n){return kt(n).signOut()}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=1e3,Mx=10;class MT extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);K2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Mx):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},xx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MT.type="LOCAL";const Px=MT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PT.type="SESSION";const kT=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new qf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(t.origin,l)),p=await kx(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const g=Um("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(S){const C=S;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(C.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function Nx(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function jx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vx(){return navigator?.serviceWorker?.controller||null}function Ux(){return DT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebaseLocalStorageDb",zx=1,uf="firebaseLocalStorage",jT="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ff(n,e){return n.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function Bx(){const n=indexedDB.deleteDatabase(NT);return new tc(n).toPromise()}function nm(){const n=indexedDB.open(NT,zx);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(uf,{keyPath:jT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(uf)?e(i):(i.close(),await Bx(),e(await nm()))})})}async function LE(n,e,t){const i=Ff(n,!0).put({[jT]:e,value:t});return new tc(i).toPromise()}async function Hx(n,e){const t=Ff(n,!1).get(e),i=await new tc(t).toPromise();return i===void 0?null:i.value}function IE(n,e){const t=Ff(n,!0).delete(e);return new tc(t).toPromise()}const qx=800,Fx=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Fx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(Ux()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jx(),!this.activeServiceWorker)return;this.sender=new Dx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Vx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await LE(e,lf,"1"),await IE(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>LE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Hx(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>IE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ff(a,!1).getAll();return new tc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const Gx=VT;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n,e){return e?Di(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Kx(n){return LT(n.auth,new zm(n),n.bypassAuthState)}function Wx(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),RT(t,new zm(n),n.bypassAuthState)}async function Yx(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),Ex(t,new zm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kx;case"linkViaPopup":case"linkViaRedirect":return Yx;case"reauthViaPopup":case"reauthViaRedirect":return Wx;default:Ar(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Zu(2e3,1e4);class Vo extends UT{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qx.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="pendingRedirect",Fh=new Map;class Zx extends UT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const i=await Jx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jx(n,e){const t=nM(e),i=tM(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function eM(n,e){Fh.set(n._key(),e)}function tM(n){return Di(n._redirectPersistence)}function nM(n){return qh(Xx,n.config.apiKey,n.name)}async function rM(n,e,t=!1){if(hr(n.app))return Promise.reject(ji(n));const i=Ua(n),a=$x(i,e),c=await new Zx(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=600*1e3;class sM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!zT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iM&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function aM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(n,e={}){return Gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uM=/^https?/;async function cM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oM(n);for(const t of e)try{if(hM(t))return}catch{}Ar(n,"unauthorized-domain")}function hM(n){const e=Jg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!uM.test(t))return!1;if(lM.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new Zu(3e4,6e4);function xE(){const n=Zr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function dM(n){return new Promise((e,t)=>{function i(){xE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xE(),t(Xr(n,"network-request-failed"))},timeout:fM.get()})}if(Zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zr().gapi?.load)i();else{const a=nx("iframefcb");return Zr()[a]=()=>{gapi.load?i():t(Xr(n,"network-request-failed"))},ST(`${tx()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function pM(n){return Gh=Gh||dM(n),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new Zu(5e3,15e3),mM="__/auth/iframe",vM="emulator/auth/iframe",yM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_M=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bM(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?km(e,vM):`https://${n.config.authDomain}/${mM}`,i={apiKey:e.apiKey,appName:n.name,v:sl},a=_M.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Xu(i).slice(1)}`}async function EM(n){const e=await pM(n),t=Zr().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:bM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Xr(n,"network-request-failed"),f=Zr().setTimeout(()=>{l(c)},gM.get());function p(){Zr().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wM=500,TM=600,CM="_blank",AM="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RM(n,e,t,i=wM,a=TM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...SM,width:i.toString(),height:a.toString(),top:l,left:c},g=wn().toLowerCase();t&&(f=gT(g)?CM:t),dT(g)&&(e=e||AM,p.scrollbars="yes");const v=Object.entries(p).reduce((C,[j,k])=>`${C}${j}=${k},`,"");if($2(g)&&f!=="_self")return LM(e||"",f),new ME(null);const S=window.open(e||"",f,v);Ve(S,n,"popup-blocked");try{S.focus()}catch{}return new ME(S)}function LM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="__/auth/handler",OM="emulator/auth/handler",xM=encodeURIComponent("fac");async function PE(n,e,t,i,a,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:sl,eventId:a};if(e instanceof CT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",uO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))c[v]=S}if(e instanceof ec){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await n._getAppCheckToken(),g=p?`#${xM}=${encodeURIComponent(p)}`:"";return`${MM(n)}?${Xu(f).slice(1)}${g}`}function MM({config:n}){return n.emulator?km(n,OM):`https://${n.authDomain}/${IM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="webStorageSupport";class PM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=rM,this._overrideRedirectResult=eM}async _openPopup(e,t,i,a){Bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await PE(e,t,i,Jg(),a);return RM(e,l,Um())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await PE(e,t,i,Jg(),a);return Nx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await EM(e),i=new sM(e);return t.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wg,{type:wg},a=>{const l=a?.[0]?.[wg];l!==void 0&&t(!!l),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bT()||pT()||Nm()}}const kM=PM;var kE="@firebase/auth",DE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jM(n){ii(new Cr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(n)},g=new Z2(i,a,l,p);return lx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ii(new Cr("auth-internal",e=>{const t=Ua(e.getProvider("auth").getImmediate());return(i=>new DM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(kE,DE,NM(n)),dr(kE,DE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=300,UM=Kw("authIdTokenMaxAge")||VM;let NE=null;const zM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>UM)return;const a=t?.token;NE!==a&&(NE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BM(n=Mm()){const e=Va(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ox(n,{popupRedirectResolver:kM,persistence:[Gx,Px,kT]}),i=Kw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=zM(l.toString());Ix(t,c,()=>c(t.currentUser)),Lx(t,f=>c(f))}}const a=Gw("auth");return a&&ux(t,`http://${a}`),t}function HM(){return document.getElementsByTagName("head")?.[0]??document}J2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Xr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",HM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jM("Browser");const BT="@firebase/installations",Bm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1e4,qT=`w:${Bm}`,FT="FIS_v2",qM="https://firebaseinstallations.googleapis.com/v1",FM=3600*1e3,GM="installations",$M="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new ja(GM,$M,KM);function GT(n){return n instanceof Ir&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T({projectId:n}){return`${qM}/projects/${n}/installations`}function KT(n){return{token:n.token,requestStatus:2,expiresIn:YM(n.expiresIn),creationTime:Date.now()}}async function WT(n,e){const i=(await e.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function YT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function WM(n,{refreshToken:e}){const t=YT(n);return t.append("Authorization",QM(e)),t}async function QT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function YM(n){return Number(n.replace("s","000"))}function QM(n){return`${FT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=$T(n),a=YT(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:t,authVersion:FT,appId:n.appId,sdkVersion:qT},f={method:"POST",headers:a,body:JSON.stringify(c)},p=await QT(()=>fetch(i,f));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:KT(g.authToken)}}else throw await WT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=/^[cdef][\w-]{21}$/,rm="";function eP(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=tP(n);return JM.test(t)?t:rm}catch{return rm}}function tP(n){return ZM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Map;function JT(n,e){const t=Gf(n);e1(t,e),nP(t,e)}function e1(n,e){const t=ZT.get(n);if(t)for(const i of t)i(e)}function nP(n,e){const t=rP();t&&t.postMessage({key:n,fid:e}),iP()}let La=null;function rP(){return!La&&"BroadcastChannel"in self&&(La=new BroadcastChannel("[Firebase] FID Change"),La.onmessage=n=>{e1(n.data.key,n.data.fid)}),La}function iP(){ZT.size===0&&La&&(La.close(),La=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="firebase-installations-database",aP=1,ka="firebase-installations-store";let Tg=null;function Hm(){return Tg||(Tg=tT(sP,aP,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ka)}}})),Tg}async function cf(n,e){const t=Gf(n),a=(await Hm()).transaction(ka,"readwrite"),l=a.objectStore(ka),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&JT(n,e.fid),e}async function t1(n){const e=Gf(n),i=(await Hm()).transaction(ka,"readwrite");await i.objectStore(ka).delete(e),await i.done}async function $f(n,e){const t=Gf(n),a=(await Hm()).transaction(ka,"readwrite"),l=a.objectStore(ka),c=await l.get(t),f=e(c);return f===void 0?await l.delete(t):await l.put(f,t),await a.done,f&&(!c||c.fid!==f.fid)&&JT(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(n){let e;const t=await $f(n.appConfig,i=>{const a=oP(i),l=lP(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===rm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function oP(n){const e=n||{fid:eP(),registrationStatus:0};return n1(e)}function lP(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Pa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=uP(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cP(n)}:{installationEntry:e}}async function uP(n,e){try{const t=await XM(n,e);return cf(n.appConfig,t)}catch(t){throw GT(t)&&t.customData.serverCode===409?await t1(n.appConfig):await cf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function cP(n){let e=await jE(n.appConfig);for(;e.registrationStatus===1;)await XT(100),e=await jE(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await qm(n);return i||t}return e}function jE(n){return $f(n,e=>{if(!e)throw Pa.create("installation-not-found");return n1(e)})}function n1(n){return hP(n)?{fid:n.fid,registrationStatus:0}:n}function hP(n){return n.registrationStatus===1&&n.registrationTime+HT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP({appConfig:n,heartbeatServiceProvider:e},t){const i=dP(n,t),a=WM(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:qT,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(c)},p=await QT(()=>fetch(i,f));if(p.ok){const g=await p.json();return KT(g)}else throw await WT("Generate Auth Token",p)}function dP(n,{fid:e}){return`${$T(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(n,e=!1){let t;const i=await $f(n.appConfig,l=>{if(!r1(l))throw Pa.create("not-registered");const c=l.authToken;if(!e&&mP(c))return l;if(c.requestStatus===1)return t=pP(n,e),l;{if(!navigator.onLine)throw Pa.create("app-offline");const f=yP(l);return t=gP(n,f),f}});return t?await t:i.authToken}async function pP(n,e){let t=await VE(n.appConfig);for(;t.authToken.requestStatus===1;)await XT(100),t=await VE(n.appConfig);const i=t.authToken;return i.requestStatus===0?Fm(n,e):i}function VE(n){return $f(n,e=>{if(!r1(e))throw Pa.create("not-registered");const t=e.authToken;return _P(t)?{...e,authToken:{requestStatus:0}}:e})}async function gP(n,e){try{const t=await fP(n,e),i={...e,authToken:t};return await cf(n.appConfig,i),t}catch(t){if(GT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await t1(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await cf(n.appConfig,i)}throw t}}function r1(n){return n!==void 0&&n.registrationStatus===2}function mP(n){return n.requestStatus===2&&!vP(n)}function vP(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+FM}function yP(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function _P(n){return n.requestStatus===1&&n.requestTime+HT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n){const e=n,{installationEntry:t,registrationPromise:i}=await qm(e);return i?i.catch(console.error):Fm(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e=!1){const t=n;return await SP(t),(await Fm(t,e)).token}async function SP(n){const{registrationPromise:e}=await qm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n){if(!n||!n.options)throw Cg("App Configuration");if(!n.name)throw Cg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Cg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Cg(n){return Pa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="installations",TP="installations-internal",CP=n=>{const e=n.getProvider("app").getImmediate(),t=wP(e),i=Va(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},AP=n=>{const e=n.getProvider("app").getImmediate(),t=Va(e,i1).getImmediate();return{getId:()=>bP(t),getToken:a=>EP(t,a)}};function RP(){ii(new Cr(i1,CP,"PUBLIC")),ii(new Cr(TP,AP,"PRIVATE"))}RP();dr(BT,Bm);dr(BT,Bm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="analytics",LP="firebase_id",IP="origin",OP=60*1e3,xP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new Bf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kn=new ja("analytics","Analytics",MP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(n){if(!n.startsWith(Gm)){const e=Kn.create("invalid-gtag-resource",{gtagURL:n});return kn.warn(e.message),""}return n}function s1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function kP(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function DP(n,e){const t=kP("firebase-js-sdk-policy",{createScriptURL:PP}),i=document.createElement("script"),a=`${Gm}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function NP(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function jP(n,e,t,i,a,l){const c=i[a];try{if(c)await e[c];else{const p=(await s1(t)).find(g=>g.measurementId===a);p&&await e[p.appId]}}catch(f){kn.error(f)}n("config",a,l)}async function VP(n,e,t,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const f=await s1(t);for(const p of c){const g=f.find(S=>S.measurementId===p),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,a||{})}catch(l){kn.error(l)}}function UP(n,e,t,i){async function a(l,...c){try{if(l==="event"){const[f,p]=c;await VP(n,e,t,f,p)}else if(l==="config"){const[f,p]=c;await jP(n,e,t,i,f,p)}else if(l==="consent"){const[f,p]=c;n("consent",f,p)}else if(l==="get"){const[f,p,g]=c;n("get",f,p,g)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){kn.error(f)}}return a}function zP(n,e,t,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=UP(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function BP(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=30,qP=1e3;class FP{constructor(e={},t=qP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const a1=new FP;function GP(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function $P(n){const{appId:e,apiKey:t}=n,i={method:"GET",headers:GP(t)},a=xP.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();f.error?.message&&(c=f.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function KP(n,e=a1,t){const{appId:i,apiKey:a,measurementId:l}=n.options;if(!i)throw Kn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw Kn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new QP;return setTimeout(async()=>{f.abort()},OP),o1({appId:i,apiKey:a,measurementId:l},c,f,e)}async function o1(n,{throttleEndTimeMillis:e,backoffCount:t},i,a=a1){const{appId:l,measurementId:c}=n;try{await WP(i,e)}catch(f){if(c)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw f}try{const f=await $P(n);return a.deleteThrottleMetadata(l),f}catch(f){const p=f;if(!YP(p)){if(a.deleteThrottleMetadata(l),c)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw f}const g=Number(p?.customData?.httpStatus)===503?uE(t,a.intervalMillis,HP):uE(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return a.setThrottleMetadata(l,v),kn.debug(`Calling attemptFetch again in ${g} millis`),o1(n,v,i,a)}}function WP(n,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),i(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YP(n){if(!(n instanceof Ir)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class QP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function XP(n,e,t,i,a){if(a&&a.global){n("event",t,i);return}else{const l=await e,c={...i,send_to:l};n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(){if(Xw())try{await Zw()}catch(n){return kn.warn(Kn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return kn.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function JP(n,e,t,i,a,l,c){const f=KP(n);f.then(C=>{t[C.measurementId]=C.appId,n.options.measurementId&&C.measurementId!==n.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>kn.error(C)),e.push(f);const p=ZP().then(C=>{if(C)return i.getId()}),[g,v]=await Promise.all([f,p]);BP(l)||DP(l,g.measurementId),a("js",new Date);const S=c?.config??{};return S[IP]="firebase",S.update=!0,v!=null&&(S[LP]=v),a("config",g.measurementId,S),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.app=e}_delete(){return delete Ou[this.app.options.appId],Promise.resolve()}}let Ou={},UE=[];const zE={};let Ag="dataLayer",tk="gtag",BE,l1,HE=!1;function nk(){const n=[];if(Qw()&&n.push("This is a browser extension environment."),sO()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=Kn.create("invalid-analytics-context",{errorInfo:e});kn.warn(t.message)}}function rk(n,e,t){nk();const i=n.options.appId;if(!i)throw Kn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kn.create("no-api-key");if(Ou[i]!=null)throw Kn.create("already-exists",{id:i});if(!HE){NP(Ag);const{wrappedGtag:l,gtagCore:c}=zP(Ou,UE,zE,Ag,tk);l1=l,BE=c,HE=!0}return Ou[i]=JP(n,UE,zE,e,BE,Ag,t),new ek(n)}function ik(n=Mm()){n=kt(n);const e=Va(n,hf);return e.isInitialized()?e.getImmediate():sk(n)}function sk(n,e={}){const t=Va(n,hf);if(t.isInitialized()){const a=t.getImmediate();if(Ns(e,t.getOptions()))return a;throw Kn.create("already-initialized")}return t.initialize({options:e})}function ak(n,e,t,i){n=kt(n),XP(l1,Ou[n.app.options.appId],e,t,i).catch(a=>kn.error(a))}const qE="@firebase/analytics",FE="0.10.18";function ok(){ii(new Cr(hf,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return rk(i,a,t)},"PUBLIC")),ii(new Cr("analytics-internal",n,"PRIVATE")),dr(qE,FE),dr(qE,FE,"esm2020");function n(e){try{const t=e.getProvider(hf).getImmediate();return{logEvent:(i,a,l)=>ak(t,i,a,l)}}catch(t){throw Kn.create("interop-component-reg-failed",{reason:t})}}}ok();var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,u1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,L){function E(){}E.prototype=L.prototype,O.D=L.prototype,O.prototype=new E,O.prototype.constructor=O,O.C=function(T,P,U){for(var x=Array(arguments.length-2),te=2;te<arguments.length;te++)x[te-2]=arguments[te];return L.prototype[P].apply(T,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,L,E){E||(E=0);var T=Array(16);if(typeof L=="string")for(var P=0;16>P;++P)T[P]=L.charCodeAt(E++)|L.charCodeAt(E++)<<8|L.charCodeAt(E++)<<16|L.charCodeAt(E++)<<24;else for(P=0;16>P;++P)T[P]=L[E++]|L[E++]<<8|L[E++]<<16|L[E++]<<24;L=O.g[0],E=O.g[1],P=O.g[2];var U=O.g[3],x=L+(U^E&(P^U))+T[0]+3614090360&4294967295;L=E+(x<<7&4294967295|x>>>25),x=U+(P^L&(E^P))+T[1]+3905402710&4294967295,U=L+(x<<12&4294967295|x>>>20),x=P+(E^U&(L^E))+T[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=E+(L^P&(U^L))+T[3]+3250441966&4294967295,E=P+(x<<22&4294967295|x>>>10),x=L+(U^E&(P^U))+T[4]+4118548399&4294967295,L=E+(x<<7&4294967295|x>>>25),x=U+(P^L&(E^P))+T[5]+1200080426&4294967295,U=L+(x<<12&4294967295|x>>>20),x=P+(E^U&(L^E))+T[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=E+(L^P&(U^L))+T[7]+4249261313&4294967295,E=P+(x<<22&4294967295|x>>>10),x=L+(U^E&(P^U))+T[8]+1770035416&4294967295,L=E+(x<<7&4294967295|x>>>25),x=U+(P^L&(E^P))+T[9]+2336552879&4294967295,U=L+(x<<12&4294967295|x>>>20),x=P+(E^U&(L^E))+T[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=E+(L^P&(U^L))+T[11]+2304563134&4294967295,E=P+(x<<22&4294967295|x>>>10),x=L+(U^E&(P^U))+T[12]+1804603682&4294967295,L=E+(x<<7&4294967295|x>>>25),x=U+(P^L&(E^P))+T[13]+4254626195&4294967295,U=L+(x<<12&4294967295|x>>>20),x=P+(E^U&(L^E))+T[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=E+(L^P&(U^L))+T[15]+1236535329&4294967295,E=P+(x<<22&4294967295|x>>>10),x=L+(P^U&(E^P))+T[1]+4129170786&4294967295,L=E+(x<<5&4294967295|x>>>27),x=U+(E^P&(L^E))+T[6]+3225465664&4294967295,U=L+(x<<9&4294967295|x>>>23),x=P+(L^E&(U^L))+T[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=E+(U^L&(P^U))+T[0]+3921069994&4294967295,E=P+(x<<20&4294967295|x>>>12),x=L+(P^U&(E^P))+T[5]+3593408605&4294967295,L=E+(x<<5&4294967295|x>>>27),x=U+(E^P&(L^E))+T[10]+38016083&4294967295,U=L+(x<<9&4294967295|x>>>23),x=P+(L^E&(U^L))+T[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=E+(U^L&(P^U))+T[4]+3889429448&4294967295,E=P+(x<<20&4294967295|x>>>12),x=L+(P^U&(E^P))+T[9]+568446438&4294967295,L=E+(x<<5&4294967295|x>>>27),x=U+(E^P&(L^E))+T[14]+3275163606&4294967295,U=L+(x<<9&4294967295|x>>>23),x=P+(L^E&(U^L))+T[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=E+(U^L&(P^U))+T[8]+1163531501&4294967295,E=P+(x<<20&4294967295|x>>>12),x=L+(P^U&(E^P))+T[13]+2850285829&4294967295,L=E+(x<<5&4294967295|x>>>27),x=U+(E^P&(L^E))+T[2]+4243563512&4294967295,U=L+(x<<9&4294967295|x>>>23),x=P+(L^E&(U^L))+T[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=E+(U^L&(P^U))+T[12]+2368359562&4294967295,E=P+(x<<20&4294967295|x>>>12),x=L+(E^P^U)+T[5]+4294588738&4294967295,L=E+(x<<4&4294967295|x>>>28),x=U+(L^E^P)+T[8]+2272392833&4294967295,U=L+(x<<11&4294967295|x>>>21),x=P+(U^L^E)+T[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=E+(P^U^L)+T[14]+4259657740&4294967295,E=P+(x<<23&4294967295|x>>>9),x=L+(E^P^U)+T[1]+2763975236&4294967295,L=E+(x<<4&4294967295|x>>>28),x=U+(L^E^P)+T[4]+1272893353&4294967295,U=L+(x<<11&4294967295|x>>>21),x=P+(U^L^E)+T[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=E+(P^U^L)+T[10]+3200236656&4294967295,E=P+(x<<23&4294967295|x>>>9),x=L+(E^P^U)+T[13]+681279174&4294967295,L=E+(x<<4&4294967295|x>>>28),x=U+(L^E^P)+T[0]+3936430074&4294967295,U=L+(x<<11&4294967295|x>>>21),x=P+(U^L^E)+T[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=E+(P^U^L)+T[6]+76029189&4294967295,E=P+(x<<23&4294967295|x>>>9),x=L+(E^P^U)+T[9]+3654602809&4294967295,L=E+(x<<4&4294967295|x>>>28),x=U+(L^E^P)+T[12]+3873151461&4294967295,U=L+(x<<11&4294967295|x>>>21),x=P+(U^L^E)+T[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=E+(P^U^L)+T[2]+3299628645&4294967295,E=P+(x<<23&4294967295|x>>>9),x=L+(P^(E|~U))+T[0]+4096336452&4294967295,L=E+(x<<6&4294967295|x>>>26),x=U+(E^(L|~P))+T[7]+1126891415&4294967295,U=L+(x<<10&4294967295|x>>>22),x=P+(L^(U|~E))+T[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=E+(U^(P|~L))+T[5]+4237533241&4294967295,E=P+(x<<21&4294967295|x>>>11),x=L+(P^(E|~U))+T[12]+1700485571&4294967295,L=E+(x<<6&4294967295|x>>>26),x=U+(E^(L|~P))+T[3]+2399980690&4294967295,U=L+(x<<10&4294967295|x>>>22),x=P+(L^(U|~E))+T[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=E+(U^(P|~L))+T[1]+2240044497&4294967295,E=P+(x<<21&4294967295|x>>>11),x=L+(P^(E|~U))+T[8]+1873313359&4294967295,L=E+(x<<6&4294967295|x>>>26),x=U+(E^(L|~P))+T[15]+4264355552&4294967295,U=L+(x<<10&4294967295|x>>>22),x=P+(L^(U|~E))+T[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=E+(U^(P|~L))+T[13]+1309151649&4294967295,E=P+(x<<21&4294967295|x>>>11),x=L+(P^(E|~U))+T[4]+4149444226&4294967295,L=E+(x<<6&4294967295|x>>>26),x=U+(E^(L|~P))+T[11]+3174756917&4294967295,U=L+(x<<10&4294967295|x>>>22),x=P+(L^(U|~E))+T[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=E+(U^(P|~L))+T[9]+3951481745&4294967295,O.g[0]=O.g[0]+L&4294967295,O.g[1]=O.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+U&4294967295}i.prototype.u=function(O,L){L===void 0&&(L=O.length);for(var E=L-this.blockSize,T=this.B,P=this.h,U=0;U<L;){if(P==0)for(;U<=E;)a(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<L;)if(T[P++]=O.charCodeAt(U++),P==this.blockSize){a(this,T),P=0;break}}else for(;U<L;)if(T[P++]=O[U++],P==this.blockSize){a(this,T),P=0;break}}this.h=P,this.o+=L},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var L=1;L<O.length-8;++L)O[L]=0;var E=8*this.o;for(L=O.length-8;L<O.length;++L)O[L]=E&255,E/=256;for(this.u(O),O=Array(16),L=E=0;4>L;++L)for(var T=0;32>T;T+=8)O[E++]=this.g[L]>>>T&255;return O};function l(O,L){var E=f;return Object.prototype.hasOwnProperty.call(E,O)?E[O]:E[O]=L(O)}function c(O,L){this.h=L;for(var E=[],T=!0,P=O.length-1;0<=P;P--){var U=O[P]|0;T&&U==L||(E[P]=U,T=!1)}this.g=E}var f={};function p(O){return-128<=O&&128>O?l(O,function(L){return new c([L|0],0>L?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return H(g(-O));for(var L=[],E=1,T=0;O>=E;T++)L[T]=O/E|0,E*=4294967296;return new c(L,0)}function v(O,L){if(O.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(O.charAt(0)=="-")return H(v(O.substring(1),L));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=g(Math.pow(L,8)),T=S,P=0;P<O.length;P+=8){var U=Math.min(8,O.length-P),x=parseInt(O.substring(P,P+U),L);8>U?(U=g(Math.pow(L,U)),T=T.j(U).add(g(x))):(T=T.j(E),T=T.add(g(x)))}return T}var S=p(0),C=p(1),j=p(16777216);n=c.prototype,n.m=function(){if(B(this))return-H(this).m();for(var O=0,L=1,E=0;E<this.g.length;E++){var T=this.i(E);O+=(0<=T?T:4294967296+T)*L,L*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(B(this))return"-"+H(this).toString(O);for(var L=g(Math.pow(O,6)),E=this,T="";;){var P=X(E,L).g;E=K(E,P.j(L));var U=((0<E.g.length?E.g[0]:E.h)>>>0).toString(O);if(E=P,k(E))return U+T;for(;6>U.length;)U="0"+U;T=U+T}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var L=0;L<O.g.length;L++)if(O.g[L]!=0)return!1;return!0}function B(O){return O.h==-1}n.l=function(O){return O=K(this,O),B(O)?-1:k(O)?0:1};function H(O){for(var L=O.g.length,E=[],T=0;T<L;T++)E[T]=~O.g[T];return new c(E,~O.h).add(C)}n.abs=function(){return B(this)?H(this):this},n.add=function(O){for(var L=Math.max(this.g.length,O.g.length),E=[],T=0,P=0;P<=L;P++){var U=T+(this.i(P)&65535)+(O.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);T=x>>>16,U&=65535,x&=65535,E[P]=x<<16|U}return new c(E,E[E.length-1]&-2147483648?-1:0)};function K(O,L){return O.add(H(L))}n.j=function(O){if(k(this)||k(O))return S;if(B(this))return B(O)?H(this).j(H(O)):H(H(this).j(O));if(B(O))return H(this.j(H(O)));if(0>this.l(j)&&0>O.l(j))return g(this.m()*O.m());for(var L=this.g.length+O.g.length,E=[],T=0;T<2*L;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var P=0;P<O.g.length;P++){var U=this.i(T)>>>16,x=this.i(T)&65535,te=O.i(P)>>>16,se=O.i(P)&65535;E[2*T+2*P]+=x*se,Z(E,2*T+2*P),E[2*T+2*P+1]+=U*se,Z(E,2*T+2*P+1),E[2*T+2*P+1]+=x*te,Z(E,2*T+2*P+1),E[2*T+2*P+2]+=U*te,Z(E,2*T+2*P+2)}for(T=0;T<L;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=L;T<2*L;T++)E[T]=0;return new c(E,0)};function Z(O,L){for(;(O[L]&65535)!=O[L];)O[L+1]+=O[L]>>>16,O[L]&=65535,L++}function ne(O,L){this.g=O,this.h=L}function X(O,L){if(k(L))throw Error("division by zero");if(k(O))return new ne(S,S);if(B(O))return L=X(H(O),L),new ne(H(L.g),H(L.h));if(B(L))return L=X(O,H(L)),new ne(H(L.g),L.h);if(30<O.g.length){if(B(O)||B(L))throw Error("slowDivide_ only works with positive integers.");for(var E=C,T=L;0>=T.l(O);)E=M(E),T=M(T);var P=z(E,1),U=z(T,1);for(T=z(T,2),E=z(E,2);!k(T);){var x=U.add(T);0>=x.l(O)&&(P=P.add(E),U=x),T=z(T,1),E=z(E,1)}return L=K(O,P.j(L)),new ne(P,L)}for(P=S;0<=O.l(L);){for(E=Math.max(1,Math.floor(O.m()/L.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),U=g(E),x=U.j(L);B(x)||0<x.l(O);)E-=T,U=g(E),x=U.j(L);k(U)&&(U=C),P=P.add(U),O=K(O,x)}return new ne(P,O)}n.A=function(O){return X(this,O).h},n.and=function(O){for(var L=Math.max(this.g.length,O.g.length),E=[],T=0;T<L;T++)E[T]=this.i(T)&O.i(T);return new c(E,this.h&O.h)},n.or=function(O){for(var L=Math.max(this.g.length,O.g.length),E=[],T=0;T<L;T++)E[T]=this.i(T)|O.i(T);return new c(E,this.h|O.h)},n.xor=function(O){for(var L=Math.max(this.g.length,O.g.length),E=[],T=0;T<L;T++)E[T]=this.i(T)^O.i(T);return new c(E,this.h^O.h)};function M(O){for(var L=O.g.length+1,E=[],T=0;T<L;T++)E[T]=O.i(T)<<1|O.i(T-1)>>>31;return new c(E,O.h)}function z(O,L){var E=L>>5;L%=32;for(var T=O.g.length-E,P=[],U=0;U<T;U++)P[U]=0<L?O.i(U+E)>>>L|O.i(U+E+1)<<32-L:O.i(U+E);return new c(P,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,u1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,ks=c}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c1,Tu,h1,$h,im,f1,d1,p1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,A){return h==Array.prototype||h==Object.prototype||(h[b]=A.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var b=0;b<h.length;++b){var A=h[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=t(this);function a(h,b){if(b)e:{var A=i;h=h.split(".");for(var V=0;V<h.length-1;V++){var re=h[V];if(!(re in A))break e;A=A[re]}h=h[h.length-1],V=A[h],b=b(V),b!=V&&b!=null&&e(A,h,{configurable:!0,writable:!0,value:b})}}function l(h,b){h instanceof String&&(h+="");var A=0,V=!1,re={next:function(){if(!V&&A<h.length){var ce=A++;return{value:b(ce,h[ce]),done:!1}}return V=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}a("Array.prototype.values",function(h){return h||function(){return l(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function g(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function v(h,b,A){return h.call.apply(h.bind,arguments)}function S(h,b,A){if(!h)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,V),h.apply(b,re)}}return function(){return h.apply(b,arguments)}}function C(h,b,A){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,C.apply(null,arguments)}function j(h,b){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),h.apply(this,V)}}function k(h,b){function A(){}A.prototype=b.prototype,h.aa=b.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(V,re,ce){for(var Ee=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)Ee[tt-2]=arguments[tt];return b.prototype[re].apply(V,Ee)}}function B(h){const b=h.length;if(0<b){const A=Array(b);for(let V=0;V<b;V++)A[V]=h[V];return A}return[]}function H(h,b){for(let A=1;A<arguments.length;A++){const V=arguments[A];if(p(V)){const re=h.length||0,ce=V.length||0;h.length=re+ce;for(let Ee=0;Ee<ce;Ee++)h[re+Ee]=V[Ee]}else h.push(V)}}class K{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function Z(h){return/^[\s\xa0]*$/.test(h)}function ne(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function X(h){return X[" "](h),h}X[" "]=function(){};var M=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function z(h,b,A){for(const V in h)b.call(A,h[V],V,h)}function O(h,b){for(const A in h)b.call(void 0,h[A],A,h)}function L(h){const b={};for(const A in h)b[A]=h[A];return b}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(h,b){let A,V;for(let re=1;re<arguments.length;re++){V=arguments[re];for(A in V)h[A]=V[A];for(let ce=0;ce<E.length;ce++)A=E[ce],Object.prototype.hasOwnProperty.call(V,A)&&(h[A]=V[A])}}function P(h){var b=1;h=h.split(":");const A=[];for(;0<b&&h.length;)A.push(h.shift()),b--;return h.length&&A.push(h.join(":")),A}function U(h){f.setTimeout(()=>{throw h},0)}function x(){var h=F;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class te{constructor(){this.h=this.g=null}add(b,A){const V=se.get();V.set(b,A),this.h?this.h.next=V:this.g=V,this.h=V}}var se=new K(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let w,fe=!1,F=new te,_=()=>{const h=f.Promise.resolve(void 0);w=()=>{h.then(D)}};var D=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(A){U(A)}var b=se;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}fe=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};f.addEventListener("test",A,b),f.removeEventListener("test",A,b)}catch{}return h})();function W(h,b){if(Y.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,V=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(M){e:{try{X(b.nodeName);var re=!0;break e}catch{}re=!1}re||(b=null)}}else A=="mouseover"?b=h.fromElement:A=="mouseout"&&(b=h.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&W.aa.h.call(this)}}k(W,Y);var oe={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Ae(h,b,A,V,re){this.listener=h,this.proxy=null,this.src=b,this.type=A,this.capture=!!V,this.ha=re,this.key=++_e,this.da=this.fa=!1}function be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function we(h){this.src=h,this.g={},this.h=0}we.prototype.add=function(h,b,A,V,re){var ce=h.toString();h=this.g[ce],h||(h=this.g[ce]=[],this.h++);var Ee=ke(h,b,V,re);return-1<Ee?(b=h[Ee],A||(b.fa=!1)):(b=new Ae(b,this.src,ce,!!V,re),b.fa=A,h.push(b)),b};function je(h,b){var A=b.type;if(A in h.g){var V=h.g[A],re=Array.prototype.indexOf.call(V,b,void 0),ce;(ce=0<=re)&&Array.prototype.splice.call(V,re,1),ce&&(be(b),h.g[A].length==0&&(delete h.g[A],h.h--))}}function ke(h,b,A,V){for(var re=0;re<h.length;++re){var ce=h[re];if(!ce.da&&ce.listener==b&&ce.capture==!!A&&ce.ha==V)return re}return-1}var De="closure_lm_"+(1e6*Math.random()|0),Re={};function yt(h,b,A,V,re){if(Array.isArray(b)){for(var ce=0;ce<b.length;ce++)yt(h,b[ce],A,V,re);return null}return A=Dn(A),h&&h[pe]?h.K(b,A,g(V)?!!V.capture:!1,re):xe(h,b,A,!1,V,re)}function xe(h,b,A,V,re,ce){if(!b)throw Error("Invalid event type");var Ee=g(re)?!!re.capture:!!re,tt=mn(h);if(tt||(h[De]=tt=new we(h)),A=tt.add(b,A,V,Ee,ce),A.proxy)return A;if(V=_t(),A.proxy=V,V.src=h,V.listener=A,h.addEventListener)J||(re=Ee),re===void 0&&(re=!1),h.addEventListener(b.toString(),V,re);else if(h.attachEvent)h.attachEvent(wt(b.toString()),V);else if(h.addListener&&h.removeListener)h.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function _t(){function h(A){return b.call(h.src,h.listener,A)}const b=Ln;return h}function ht(h,b,A,V,re){if(Array.isArray(b))for(var ce=0;ce<b.length;ce++)ht(h,b[ce],A,V,re);else V=g(V)?!!V.capture:!!V,A=Dn(A),h&&h[pe]?(h=h.i,b=String(b).toString(),b in h.g&&(ce=h.g[b],A=ke(ce,A,V,re),-1<A&&(be(ce[A]),Array.prototype.splice.call(ce,A,1),ce.length==0&&(delete h.g[b],h.h--)))):h&&(h=mn(h))&&(b=h.g[b.toString()],h=-1,b&&(h=ke(b,A,V,re)),(A=-1<h?b[h]:null)&&bt(A))}function bt(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[pe])je(b.i,h);else{var A=h.type,V=h.proxy;b.removeEventListener?b.removeEventListener(A,V,h.capture):b.detachEvent?b.detachEvent(wt(A),V):b.addListener&&b.removeListener&&b.removeListener(V),(A=mn(b))?(je(A,h),A.h==0&&(A.src=null,b[De]=null)):be(h)}}}function wt(h){return h in Re?Re[h]:Re[h]="on"+h}function Ln(h,b){if(h.da)h=!0;else{b=new W(b,this);var A=h.listener,V=h.ha||h.src;h.fa&&bt(h),h=A.call(V,b)}return h}function mn(h){return h=h[De],h instanceof we?h:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(h){return typeof h=="function"?h:(h[pr]||(h[pr]=function(b){return h.handleEvent(b)}),h[pr])}function Et(){q.call(this),this.i=new we(this),this.M=this,this.F=null}k(Et,q),Et.prototype[pe]=!0,Et.prototype.removeEventListener=function(h,b,A,V){ht(this,h,b,A,V)};function qe(h,b){var A,V=h.F;if(V)for(A=[];V;V=V.F)A.push(V);if(h=h.M,V=b.type||b,typeof b=="string")b=new Y(b,h);else if(b instanceof Y)b.target=b.target||h;else{var re=b;b=new Y(V,h),T(b,re)}if(re=!0,A)for(var ce=A.length-1;0<=ce;ce--){var Ee=b.g=A[ce];re=xt(Ee,V,!0,b)&&re}if(Ee=b.g=h,re=xt(Ee,V,!0,b)&&re,re=xt(Ee,V,!1,b)&&re,A)for(ce=0;ce<A.length;ce++)Ee=b.g=A[ce],re=xt(Ee,V,!1,b)&&re}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var A=h.g[b],V=0;V<A.length;V++)be(A[V]);delete h.g[b],h.h--}}this.F=null},Et.prototype.K=function(h,b,A,V){return this.i.add(String(h),b,!1,A,V)},Et.prototype.L=function(h,b,A,V){return this.i.add(String(h),b,!0,A,V)};function xt(h,b,A,V){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var re=!0,ce=0;ce<b.length;++ce){var Ee=b[ce];if(Ee&&!Ee.da&&Ee.capture==A){var tt=Ee.listener,Wt=Ee.ha||Ee.src;Ee.fa&&je(h.i,Ee),re=tt.call(Wt,V)!==!1&&re}}return re&&!V.defaultPrevented}function Dt(h,b,A){if(typeof h=="function")A&&(h=C(h,A));else if(h&&typeof h.handleEvent=="function")h=C(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:f.setTimeout(h,b||0)}function Ks(h){h.g=Dt(()=>{h.g=null,h.i&&(h.i=!1,Ks(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class $i extends q{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(h){q.call(this),this.h=h,this.g={}}k(Or,q);var Wn=[];function xr(h){z(h.g,function(b,A){this.g.hasOwnProperty(A)&&bt(b)},h),h.g={}}Or.prototype.N=function(){Or.aa.N.call(this),xr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,ci=f.JSON.parse,Yn=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Ki(){}Ki.prototype.h=null;function Mr(h){return h.h||(h.h=h.i())}function Wi(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){Y.call(this,"d")}k(Xn,Y);function Pr(){Y.call(this,"c")}k(Pr,Y);var Nn={},kr=null;function gr(){return kr=kr||new Et}Nn.La="serverreachability";function mr(h){Y.call(this,Nn.La,h)}k(mr,Y);function vr(h){const b=gr();qe(b,new mr(b))}Nn.STAT_EVENT="statevent";function Fa(h,b){Y.call(this,Nn.STAT_EVENT,h),this.stat=b}k(Fa,Y);function lt(h){const b=gr();qe(b,new Fa(b,h))}Nn.Ma="timingevent";function Ie(h,b){Y.call(this,Nn.Ma,h),this.size=b}k(Ie,Y);function Bt(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},b)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function dl(h,b,A,V,re,ce){h.info(function(){if(h.g)if(ce)for(var Ee="",tt=ce.split("&"),Wt=0;Wt<tt.length;Wt++){var nt=tt[Wt].split("=");if(1<nt.length){var nn=nt[0];nt=nt[1];var Yt=nn.split("_");Ee=2<=Yt.length&&Yt[1]=="type"?Ee+(nn+"="+nt+"&"):Ee+(nn+"=redacted&")}}else Ee=null;else Ee=ce;return"XMLHTTP REQ ("+V+") [attempt "+re+"]: "+b+`
`+A+`
`+Ee})}function fd(h,b,A,V,re,ce,Ee){h.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+re+"]: "+b+`
`+A+`
`+ce+" "+Ee})}function Yi(h,b,A,V){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ws(h,A)+(V?" "+V:"")})}function cc(h,b){h.info(function(){return"TIMEOUT: "+b})}Zn.prototype.info=function(){};function Ws(h,b){if(!h.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var V=A[h];if(!(2>V.length)){var re=V[1];if(Array.isArray(re)&&!(1>re.length)){var ce=re[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ee=1;Ee<re.length;Ee++)re[Ee]=""}}}}return vn(A)}catch{return b}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function Nr(){}k(Nr,Ki),Nr.prototype.g=function(){return new XMLHttpRequest},Nr.prototype.i=function(){return{}},Dr=new Nr;function Tn(h,b,A,V){this.j=h,this.i=b,this.l=A,this.R=V||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}var pl={},Ga={};function yr(h,b,A){h.L=1,h.v=Js(jn(b)),h.m=A,h.P=!0,fi(h,null)}function fi(h,b){h.F=Date.now(),Ys(h),h.A=jn(h.v);var A=h.A,V=h.R;Array.isArray(V)||(V=[String(V)]),bl(A.i,"t",V),h.C=0,A=h.j.J,h.h=new Nt,h.g=Ac(h.j,A?b:null,!h.m),0<h.O&&(h.M=new $i(C(h.Y,h,h.g),h.O)),b=h.U,A=h.g,V=h.ca;var re="readystatechange";Array.isArray(re)||(re&&(Wn[0]=re.toString()),re=Wn);for(var ce=0;ce<re.length;ce++){var Ee=yt(A,re[ce],V||b.handleEvent,!1,b.h||b);if(!Ee)break;b.g[Ee.key]=Ee}b=h.H?L(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),vr(),dl(h.i,h.u,h.A,h.l,h.R,h.m)}Tn.prototype.ca=function(h){h=h.target;const b=this.M;b&&nr(h)==3?b.j():this.Y(h)},Tn.prototype.Y=function(h){try{if(h==this.g)e:{const Yt=nr(this.g);var b=this.g.Ba();const bi=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||yc(this.g)))){this.J||Yt!=4||b==7||(b==8||0>=bi?vr(3):vr(2)),Xi(this);var A=this.g.Z();this.X=A;t:if(hc(this)){var V=yc(this.g);h="";var re=V.length,ce=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),jr(this);var Ee="";break t}this.h.i=new f.TextDecoder}for(b=0;b<re;b++)this.h.h=!0,h+=this.h.i.decode(V[b],{stream:!(ce&&b==re-1)});V.length=0,this.h.g+=h,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=A==200,fd(this.i,this.u,this.A,this.l,this.R,Yt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Wt=this.g;if((tt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(tt)){var nt=tt;break t}}nt=null}if(A=nt)Yi(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,A);else{this.o=!1,this.s=3,lt(12),ln(this),jr(this);break e}}if(this.P){A=!0;let un;for(;!this.J&&this.C<Ee.length;)if(un=fc(this,Ee),un==Ga){Yt==4&&(this.s=4,lt(14),A=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(un==pl){this.s=4,lt(15),Yi(this.i,this.l,Ee,"[Invalid Chunk]"),A=!1;break}else Yi(this.i,this.l,un,null),Qs(this,un);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||Ee.length!=0||this.h.h||(this.s=1,lt(16),A=!1),this.o=this.o&&A,!A)Yi(this.i,this.l,Ee,"[Invalid Chunked Response]"),ln(this),jr(this);else if(0<Ee.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),oa(nn),nn.M=!0,lt(11))}}else Yi(this.i,this.l,Ee,null),Qs(this,Ee);Yt==4&&ln(this),this.o&&!this.J&&(Yt==4?wc(this.j,this):(this.o=!1,Ys(this)))}else vd(this.g),A==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),ln(this),jr(this)}}}catch{}finally{}};function hc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function fc(h,b){var A=h.C,V=b.indexOf(`
`,A);return V==-1?Ga:(A=Number(b.substring(A,V)),isNaN(A)?pl:(V+=1,V+A>b.length?Ga:(b=b.slice(V,V+A),h.C=V+A,b)))}Tn.prototype.cancel=function(){this.J=!0,ln(this)};function Ys(h){h.S=Date.now()+h.I,dc(h,h.I)}function dc(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Bt(C(h.ba,h),b)}function Xi(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Tn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(cc(this.i,this.A),this.L!=2&&(vr(),lt(17)),ln(this),this.s=2,jr(this)):dc(this,this.S-h)};function jr(h){h.j.G==0||h.J||wc(h.j,h)}function ln(h){Xi(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,xr(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function Qs(h,b){try{var A=h.j;if(A.G!=0&&(A.g==h||gl(A.h,h))){if(!h.K&&gl(A.h,h)&&A.G==3){try{var V=A.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var re=V;if(re[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)ro(A),to(A);else break e;Cl(A),lt(18)}}else A.za=re[1],0<A.za-A.T&&37500>re[2]&&A.F&&A.v==0&&!A.C&&(A.C=Bt(C(A.Za,A),6e3));if(1>=Ka(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else _i(A,11)}else if((h.K||A.g==h)&&ro(A),!Z(b))for(re=A.Da.g.parse(b),b=0;b<re.length;b++){let nt=re[b];if(A.T=nt[0],nt=nt[1],A.G==2)if(nt[0]=="c"){A.K=nt[1],A.ia=nt[2];const nn=nt[3];nn!=null&&(A.la=nn,A.j.info("VER="+A.la));const Yt=nt[4];Yt!=null&&(A.Aa=Yt,A.j.info("SVER="+A.Aa));const bi=nt[5];bi!=null&&typeof bi=="number"&&0<bi&&(V=1.5*bi,A.L=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const un=h.g;if(un){const Fr=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var ce=V.h;ce.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Wa(ce,ce.h),ce.h=null))}if(V.D){const Rl=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(V.ya=Rl,pt(V.I,V.D,Rl))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),V=A;var Ee=h;if(V.qa=Cc(V,V.J?V.ia:null,V.W),Ee.K){Cn(V.h,Ee);var tt=Ee,Wt=V.L;Wt&&(tt.I=Wt),tt.B&&(Xi(tt),Ys(tt)),V.g=Ee}else Ec(V);0<A.i.length&&no(A)}else nt[0]!="stop"&&nt[0]!="close"||_i(A,7);else A.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?_i(A,7):wl(A):nt[0]!="noop"&&A.l&&A.l.ta(nt),A.v=0)}}vr(4)}catch{}}var pc=class{constructor(h,b){this.g=h,this.map=b}};function di(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $a(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ka(h){return h.h?1:h.g?h.g.size:0}function gl(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Wa(h,b){h.g?h.g.add(b):h.h=b}function Cn(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}di.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ml(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const A of h.g.values())b=b.concat(A.D);return b}return B(h.i)}function dd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var b=[],A=h.length,V=0;V<A;V++)b.push(h[V]);return b}b=[],A=0;for(V in h)b[A++]=h[V];return b}function Ya(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var b=[];h=h.length;for(var A=0;A<h;A++)b.push(A);return b}b=[],A=0;for(const V in h)b[A++]=V;return b}}}function vl(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var A=Ya(h),V=dd(h),re=V.length,ce=0;ce<re;ce++)b.call(void 0,V[ce],A&&A[ce],h)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pd(h,b){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var V=h[A].indexOf("="),re=null;if(0<=V){var ce=h[A].substring(0,V);re=h[A].substring(V+1)}else ce=h[A];b(ce,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Ht(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ht){this.h=h.h,Zs(this,h.j),this.o=h.o,this.g=h.g,Zi(this,h.s),this.l=h.l;var b=h.i,A=new gi;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),pi(this,A),this.m=h.m}else h&&(b=String(h).match(Xs))?(this.h=!1,Zs(this,b[1]||"",!0),this.o=Jn(b[2]||""),this.g=Jn(b[3]||"",!0),Zi(this,b[4]),this.l=Jn(b[5]||"",!0),pi(this,b[6]||"",!0),this.m=Jn(b[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Ht.prototype.toString=function(){var h=[],b=this.j;b&&h.push(ea(b,yl,!0),":");var A=this.g;return(A||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ea(b,yl,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(ea(A,A.charAt(0)=="/"?gd:_l,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",ea(A,Qa)),h.join("")};function jn(h){return new Ht(h)}function Zs(h,b,A){h.j=A?Jn(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Zi(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function pi(h,b,A){b instanceof gi?(h.i=b,mc(h.i,h.h)):(A||(b=ea(b,md)),h.i=new gi(b,h.h))}function pt(h,b,A){h.i.set(b,A)}function Js(h){return pt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Jn(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ea(h,b,A){return typeof h=="string"?(h=encodeURI(h).replace(b,gc),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yl=/[#\/\?@]/g,_l=/[#\?:]/g,gd=/[#\?]/g,md=/[#\?@]/g,Qa=/#/g;function gi(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function er(h){h.g||(h.g=new Map,h.h=0,h.i&&pd(h.i,function(b,A){h.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}n=gi.prototype,n.add=function(h,b){er(this),this.i=null,h=Vr(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(b),this.h+=1,this};function mi(h,b){er(h),b=Vr(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function vi(h,b){return er(h),b=Vr(h,b),h.g.has(b)}n.forEach=function(h,b){er(this),this.g.forEach(function(A,V){A.forEach(function(re){h.call(b,re,V,this)},this)},this)},n.na=function(){er(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let V=0;V<b.length;V++){const re=h[V];for(let ce=0;ce<re.length;ce++)A.push(b[V])}return A},n.V=function(h){er(this);let b=[];if(typeof h=="string")vi(this,h)&&(b=b.concat(this.g.get(Vr(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)b=b.concat(h[A])}return b},n.set=function(h,b){return er(this),this.i=null,h=Vr(this,h),vi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},n.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function bl(h,b,A){mi(h,b),0<A.length&&(h.i=null,h.g.set(Vr(h,b),B(A)),h.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var V=b[A];const ce=encodeURIComponent(String(V)),Ee=this.V(V);for(V=0;V<Ee.length;V++){var re=ce;Ee[V]!==""&&(re+="="+encodeURIComponent(String(Ee[V]))),h.push(re)}}return this.i=h.join("&")};function Vr(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function mc(h,b){b&&!h.j&&(er(h),h.i=null,h.g.forEach(function(A,V){var re=V.toLowerCase();V!=re&&(mi(this,V),bl(this,re,A))},h)),h.j=b}function ta(h,b){const A=new Zn;if(f.Image){const V=new Image;V.onload=j(tr,A,"TestLoadImage: loaded",!0,b,V),V.onerror=j(tr,A,"TestLoadImage: error",!1,b,V),V.onabort=j(tr,A,"TestLoadImage: abort",!1,b,V),V.ontimeout=j(tr,A,"TestLoadImage: timeout",!1,b,V),f.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=h}else b(!1)}function _r(h,b){const A=new Zn,V=new AbortController,re=setTimeout(()=>{V.abort(),tr(A,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:V.signal}).then(ce=>{clearTimeout(re),ce.ok?tr(A,"TestPingServer: ok",!0,b):tr(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(re),tr(A,"TestPingServer: error",!1,b)})}function tr(h,b,A,V,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),V(A)}catch{}}function na(){this.g=new Yn}function Ur(h,b,A){const V=A||"";try{vl(h,function(re,ce){let Ee=re;g(re)&&(Ee=vn(re)),b.push(V+ce+"="+encodeURIComponent(Ee))})}catch(re){throw b.push(V+"type="+encodeURIComponent("_badmap")),re}}function Ji(h){this.l=h.Ub||null,this.j=h.eb||!1}k(Ji,Ki),Ji.prototype.g=function(){return new yi(this.l,this.j)},Ji.prototype.i=(function(h){return function(){return h}})({});function yi(h,b){Et.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(yi,Et),n=yi.prototype,n.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,Br(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||f).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?zr(this):Br(this),this.readyState==3&&El(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,zr(this))},n.Qa=function(h){this.g&&(this.response=h,zr(this))},n.ga=function(){this.g&&zr(this)};function zr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Br(h)}n.setRequestHeader=function(h,b){this.u.append(h,b)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=b.next();return h.join(`\r
`)};function Br(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Sl(h){let b="";return z(h,function(A,V){b+=V,b+=":",b+=A,b+=`\r
`}),b}function tn(h,b,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=Sl(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):pt(h,b,A))}function ut(h){Et.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ut,Et);var Xa=/^https?$/i,ra=["POST","PUT"];n=ut.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,b,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?Mr(this.o):Mr(Dr),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(ce){vc(this,ce);return}if(h=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var re in V)A.set(re,V[re]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ce of V.keys())A.set(ce,V.get(ce));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(ce=>ce.toLowerCase()=="content-type"),re=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ra,b,void 0))||V||re||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ee]of A)this.g.setRequestHeader(ce,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(h),this.u=!1}catch(ce){vc(this,ce)}};function vc(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,Za(h),Hr(h)}function Za(h){h.A||(h.A=!0,qe(h,"complete"),qe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,qe(this,"complete"),qe(this,"abort"),Hr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},n.bb=function(){Ja(this)};function Ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||nr(h)!=4||h.Z()!=2)){if(h.u&&nr(h)==4)Dt(h.Ea,0,h);else if(qe(h,"readystatechange"),nr(h)==4){h.h=!1;try{const Ee=h.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var V;if(V=Ee===0){var re=String(h.D).match(Xs)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),V=!Xa.test(re?re.toLowerCase():"")}A=V}if(A)qe(h,"complete"),qe(h,"success");else{h.m=6;try{var ce=2<nr(h)?h.g.statusText:""}catch{ce=""}h.l=ce+" ["+h.Z()+"]",Za(h)}}finally{Hr(h)}}}}function Hr(h,b){if(h.g){ia(h);const A=h.g,V=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||qe(h,"ready");try{A.onreadystatechange=V}catch{}}}function ia(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function nr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),ci(b)}};function yc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function vd(h){const b={};h=(h.g&&2<=nr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<h.length;V++){if(Z(h[V]))continue;var A=P(h[V]);const re=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ce=b[re]||[];b[re]=ce,ce.push(A)}O(b,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(h,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||b}function eo(h){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,h),this.cb=sa("retryDelaySeedMs",1e4,h),this.Wa=sa("forwardChannelMaxRetries",2,h),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new di(h&&h.concurrentRequestLimit),this.Da=new na,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=eo.prototype,n.la=8,n.G=1,n.connect=function(h,b,A,V){lt(0),this.W=h,this.H=b||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.I=Cc(this,null,this.W),no(this)};function wl(h){if(_c(h),h.G==3){var b=h.U++,A=jn(h.I);if(pt(A,"SID",h.K),pt(A,"RID",b),pt(A,"TYPE","terminate"),aa(h,A),b=new Tn(h,h.j,b),b.L=2,b.v=Js(jn(A)),A=!1,f.navigator&&f.navigator.sendBeacon)try{A=f.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&f.Image&&(new Image().src=b.v,A=!0),A||(b.g=Ac(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ys(b)}Tc(h)}function to(h){h.g&&(oa(h),h.g.cancel(),h.g=null)}function _c(h){to(h),h.u&&(f.clearTimeout(h.u),h.u=null),ro(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function no(h){if(!$a(h.h)&&!h.s){h.s=!0;var b=h.Ga;w||_(),fe||(w(),fe=!0),F.add(b,h),h.B=0}}function yd(h,b){return Ka(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Bt(C(h.Ga,h,b),Al(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const re=new Tn(this,this.j,h);let ce=this.o;if(this.S&&(ce?(ce=L(ce),T(ce,this.S)):ce=this.S),this.m!==null||this.O||(re.H=ce,ce=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=bc(this,re,b),A=jn(this.I),pt(A,"RID",h),pt(A,"CVER",22),this.D&&pt(A,"X-HTTP-Session-Id",this.D),aa(this,A),ce&&(this.O?b="headers="+encodeURIComponent(String(Sl(ce)))+"&"+b:this.m&&tn(A,this.m,ce)),Wa(this.h,re),this.Ua&&pt(A,"TYPE","init"),this.P?(pt(A,"$req",b),pt(A,"SID","null"),re.T=!0,yr(re,A,null)):yr(re,A,b),this.G=2}}else this.G==3&&(h?Tl(this,h):this.i.length==0||$a(this.h)||Tl(this))};function Tl(h,b){var A;b?A=b.l:A=h.U++;const V=jn(h.I);pt(V,"SID",h.K),pt(V,"RID",A),pt(V,"AID",h.T),aa(h,V),h.m&&h.o&&tn(V,h.m,h.o),A=new Tn(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),b&&(h.i=b.D.concat(h.i)),b=bc(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Wa(h.h,A),yr(A,V,b)}function aa(h,b){h.H&&z(h.H,function(A,V){pt(b,V,A)}),h.l&&vl({},function(A,V){pt(b,V,A)})}function bc(h,b,A){A=Math.min(h.i.length,A);var V=h.l?C(h.l.Na,h.l,h):null;e:{var re=h.i;let ce=-1;for(;;){const Ee=["count="+A];ce==-1?0<A?(ce=re[0].g,Ee.push("ofs="+ce)):ce=0:Ee.push("ofs="+ce);let tt=!0;for(let Wt=0;Wt<A;Wt++){let nt=re[Wt].g;const nn=re[Wt].map;if(nt-=ce,0>nt)ce=Math.max(0,re[Wt].g-100),tt=!1;else try{Ur(nn,Ee,"req"+nt+"_")}catch{V&&V(nn)}}if(tt){V=Ee.join("&");break e}}}return h=h.i.splice(0,A),b.D=h,V}function Ec(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;w||_(),fe||(w(),fe=!0),F.add(b,h),h.v=0}}function Cl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Bt(C(h.Fa,h),Al(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Bt(C(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),to(this),Sc(this))};function oa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Sc(h){h.g=new Tn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=jn(h.qa);pt(b,"RID","rpc"),pt(b,"SID",h.K),pt(b,"AID",h.T),pt(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&pt(b,"TO",h.ja),pt(b,"TYPE","xmlhttp"),aa(h,b),h.m&&h.o&&tn(b,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=Js(jn(b)),A.m=null,A.P=!0,fi(A,h)}n.Za=function(){this.C!=null&&(this.C=null,to(this),Cl(this),lt(19))};function ro(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function wc(h,b){var A=null;if(h.g==b){ro(h),oa(h),h.g=null;var V=2}else if(gl(h.h,b))A=b.D,Cn(h.h,b),V=1;else return;if(h.G!=0){if(b.o)if(V==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var re=h.B;V=gr(),qe(V,new Ie(V,A)),no(h)}else Ec(h);else if(re=b.s,re==3||re==0&&0<b.X||!(V==1&&yd(h,b)||V==2&&Cl(h)))switch(A&&0<A.length&&(b=h.h,b.i=b.i.concat(A)),re){case 1:_i(h,5);break;case 4:_i(h,10);break;case 3:_i(h,6);break;default:_i(h,2)}}}function Al(h,b){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*b}function _i(h,b){if(h.j.info("Error code "+b),b==2){var A=C(h.fb,h),V=h.Xa;const re=!V;V=new Ht(V||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Zs(V,"https"),Js(V),re?ta(V.toString(),A):_r(V.toString(),A)}else lt(2);h.G=0,h.l&&h.l.sa(b),Tc(h),_c(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Tc(h){if(h.G=0,h.ka=[],h.l){const b=ml(h.h);(b.length!=0||h.i.length!=0)&&(H(h.ka,b),H(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Cc(h,b,A){var V=A instanceof Ht?jn(A):new Ht(A);if(V.g!="")b&&(V.g=b+"."+V.g),Zi(V,V.s);else{var re=f.location;V=re.protocol,b=b?b+"."+re.hostname:re.hostname,re=+re.port;var ce=new Ht(null);V&&Zs(ce,V),b&&(ce.g=b),re&&Zi(ce,re),A&&(ce.l=A),V=ce}return A=h.D,b=h.ya,A&&b&&pt(V,A,b),pt(V,"VER",h.la),aa(h,V),V}function Ac(h,b,A){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new ut(new Ji({eb:A})):new ut(h.pa),b.Ha(h.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}n=Rc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function io(){}io.prototype.g=function(h,b){return new An(h,b)};function An(h,b){Et.call(this),this.g=new eo(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!Z(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!Z(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new qr(this)}k(An,Et),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){wl(this.g)},An.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=vn(h),h=A);b.i.push(new pc(b.Ya++,h)),b.G==3&&no(b)},An.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,An.aa.N.call(this)};function Lc(h){Xn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const A in b){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}k(Lc,Xn);function Ic(){Pr.call(this),this.status=1}k(Ic,Pr);function qr(h){this.g=h}k(qr,Rc),qr.prototype.ua=function(){qe(this.g,"a")},qr.prototype.ta=function(h){qe(this.g,new Lc(h))},qr.prototype.sa=function(h){qe(this.g,new Ic)},qr.prototype.ra=function(){qe(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,p1=function(){return new io},d1=function(){return gr()},f1=Nn,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,$h=Qi,hi.COMPLETE="complete",h1=hi,Wi.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Tu=Wi,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,c1=ut}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const $E="@firebase/firestore",KE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Bf("@firebase/firestore");function ko(){return Da.logLevel}function Ce(n,...e){if(Da.logLevel<=Ze.DEBUG){const t=e.map($m);Da.debug(`Firestore (${al}): ${n}`,...t)}}function Hi(n,...e){if(Da.logLevel<=Ze.ERROR){const t=e.map($m);Da.error(`Firestore (${al}): ${n}`,...t)}}function Ko(n,...e){if(Da.logLevel<=Ze.WARN){const t=e.map($m);Da.warn(`Firestore (${al}): ${n}`,...t)}}function $m(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,g1(n,i,t)}function g1(n,e,t){let i=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Hi(i),new Error(i)}function ct(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||g1(e,a,i)}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(En.UNAUTHENTICATED)))}shutdown(){}}class uk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ck{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new m1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class hk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new hk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const i=l=>{l.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new WE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new WE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=pk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Je(n,e){return n<e?-1:n>e?1:0}function sm(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return Rg(a)===Rg(l)?Je(a,l):Rg(a)?1:-1}return Je(n.length,e.length)}const gk=55296,mk=57343;function Rg(n){const e=n.charCodeAt(0);return e>=gk&&e<=mk}function Wo(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="__name__";class Qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ue(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Je(e.length,t.length)}static compareSegments(e,t){const i=Qr.isNumericId(e),a=Qr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):sm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Ct extends Qr{construct(e,t,i){return new Ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Ct(t)}static emptyPath(){return new Ct([])}}const vk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Qr{construct(e,t,i){return new pn(e,t,i)}static isValidIdentifier(e){return vk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YE}static keyField(){return new pn([YE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Te(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Te(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new Te(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(t)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Ct.fromString(e))}static fromName(e){return new Me(Ct.fromString(e).popFirst(5))}static empty(){return new Me(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n,e,t){if(!t)throw new Te(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yk(n,e,t,i){if(e===!0&&i===!0)throw new Te(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function QE(n){if(!Me.isDocumentKey(n))throw new Te(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XE(n){if(Me.isDocumentKey(n))throw new Te(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function y1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function si(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kf(n);throw new Te(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n,e){const t={typeString:n};return e&&(t.value=e),t}function nc(n,e){if(!y1(n))throw new Te(me.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new Te(me.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=-62135596800,JE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*JE);return new At(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZE)throw new Te(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nc(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Kt("string",At._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new At(0,0))}static max(){return new Be(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function _k(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(i===1e9?new At(t+1,0):new At(t,i));return new js(a,Me.empty(),e)}function bk(n){return new js(n.readTime,n.key,Uu)}class js{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new js(Be.min(),Me.empty(),Uu)}static max(){return new js(Be.max(),Me.empty(),Uu)}}function Ek(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==Sk)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,i)=>{t(e)}))}static reject(e){return new ye(((t,i)=>{i(e)}))}static waitFor(e){return new ye(((t,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(p=>i(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ye.resolve(!1);for(const i of e)t=t.next((a=>a?ye.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new ye(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++f,f===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ye(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function Tk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ll(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function Yf(n){return n==null}function ff(n){return n===0&&1/n==-1/0}function Ck(n){return typeof n=="number"&&Number.isInteger(n)&&!ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="";function Ak(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=e0(e)),e=Rk(n.get(t),e);return e0(e)}function Rk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case _1:t+="";break;default:t+=l}}return t}function e0(n){return n+_1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function b1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??dn.RED,this.left=a??dn.EMPTY,this.right=l??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new dn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return dn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new n0(this.data.getIterator())}getIteratorFrom(e){return new n0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class n0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Zt(pn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new E1("Invalid base64 string: "+l):l}})(e);return new gn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const Lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=Lk.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ut(n.seconds),nanos:Ut(n.nanos)}}function Ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Us(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="server_timestamp",w1="__type__",T1="__previous_value__",C1="__local_write_time__";function Ym(n){return(n?.mapValue?.fields||{})[w1]?.stringValue===S1}function Qf(n){const e=n.mapValue.fields[T1];return Ym(e)?Qf(e):e}function zu(n){const e=Vs(n.mapValue.fields[C1].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t,i,a,l,c,f,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const df="(default)";class Bu{constructor(e,t){this.projectId=e,this.database=t||df}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===df}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__type__",Ok="__max__",Dh={mapValue:{}},R1="__vector__",pf="value";function zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ym(n)?4:Mk(n)?9007199254740991:xk(n)?10:11:Ue(28295,{value:n})}function ai(n,e){if(n===e)return!0;const t=zs(n);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zu(n).isEqual(zu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vs(a.timestampValue),f=Vs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Us(a.bytesValue).isEqual(Us(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ut(a.geoPointValue.latitude)===Ut(l.geoPointValue.latitude)&&Ut(a.geoPointValue.longitude)===Ut(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ut(a.integerValue)===Ut(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ut(a.doubleValue),f=Ut(l.doubleValue);return c===f?ff(c)===ff(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(t0(c)!==t0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ai(c[p],f[p])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function Hu(n,e){return(n.values||[]).find((t=>ai(t,e)))!==void 0}function Yo(n,e){if(n===e)return 0;const t=zs(n),i=zs(e);if(t!==i)return Je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Ut(l.integerValue||l.doubleValue),p=Ut(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return r0(n.timestampValue,e.timestampValue);case 4:return r0(zu(n),zu(e));case 5:return sm(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Us(l),p=Us(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=Je(f[g],p[g]);if(v!==0)return v}return Je(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Je(Ut(l.latitude),Ut(c.latitude));return f!==0?f:Je(Ut(l.longitude),Ut(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return i0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},p=c.fields||{},g=f[pf]?.arrayValue,v=p[pf]?.arrayValue,S=Je(g?.values?.length||0,v?.values?.length||0);return S!==0?S:i0(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Dh.mapValue&&c===Dh.mapValue)return 0;if(l===Dh.mapValue)return 1;if(c===Dh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const C=sm(p[S],v[S]);if(C!==0)return C;const j=Yo(f[p[S]],g[v[S]]);if(j!==0)return j}return Je(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function r0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Vs(n),i=Vs(e),a=Je(t.seconds,i.seconds);return a!==0?a:Je(t.nanos,i.nanos)}function i0(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Yo(t[a],i[a]);if(l)return l}return Je(t.length,i.length)}function Qo(n){return am(n)}function am(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Vs(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Us(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=am(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${am(t.fields[c])}`;return a+"}"})(n.mapValue):Ue(61005,{value:n})}function Kh(n){switch(zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qf(n);return e?16+Kh(e):16;case 5:return 2*n.stringValue.length;case 6:return Us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Kh(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Gs(i.fields,((l,c)=>{a+=l.length+Kh(c)})),a})(n.mapValue);default:throw Ue(13486,{value:n})}}function s0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function om(n){return!!n&&"integerValue"in n}function Qm(n){return!!n&&"arrayValue"in n}function a0(n){return!!n&&"nullValue"in n}function o0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wh(n){return!!n&&"mapValue"in n}function xk(n){return(n?.mapValue?.fields||{})[A1]?.stringValue===R1}function xu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Gs(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=xu(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xu(n.arrayValue.values[t]);return e}return{...n}}function Mk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ok}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(t)}setAll(e){let t=pn.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=xu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Wh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Gs(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Pn(xu(this.value))}}function L1(n){const e=[];return Gs(n.fields,((t,i)=>{const a=new pn([t]);if(Wh(i)){const l=L1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Sn(e,0,Be.min(),Be.min(),Be.min(),Pn.empty(),0)}static newFoundDocument(e,t,i,a){return new Sn(e,1,t,Be.min(),i,a,0)}static newNoDocument(e,t){return new Sn(e,2,t,Be.min(),Be.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,Be.min(),Be.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.position=e,this.inclusive=t}}function l0(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(c.referenceValue),t.key):i=Yo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function u0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{}class $t extends I1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Dk(e,t,i):t==="array-contains"?new Vk(e,i):t==="in"?new Uk(e,i):t==="not-in"?new zk(e,i):t==="array-contains-any"?new Bk(e,i):new $t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Nk(e,i):new jk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yo(t,this.value)):t!==null&&zs(this.value)===zs(t)&&this.matchesComparison(Yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends I1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Rr(e,t)}matches(e){return O1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function O1(n){return n.op==="and"}function x1(n){return kk(n)&&O1(n)}function kk(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function lm(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(x1(n))return n.filters.map((e=>lm(e))).join(",");{const e=n.filters.map((t=>lm(t))).join(",");return`${n.op}(${e})`}}function M1(n,e){return n instanceof $t?(function(i,a){return a instanceof $t&&i.op===a.op&&i.field.isEqual(a.field)&&ai(i.value,a.value)})(n,e):n instanceof Rr?(function(i,a){return a instanceof Rr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&M1(c,a.filters[f])),!0):!1})(n,e):void Ue(19439)}function P1(n){return n instanceof $t?(function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`})(n):n instanceof Rr?(function(t){return t.op.toString()+" {"+t.getFilters().map(P1).join(" ,")+"}"})(n):"Filter"}class Dk extends $t{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nk extends $t{constructor(e,t){super(e,"in",t),this.keys=k1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jk extends $t{constructor(e,t){super(e,"not-in",t),this.keys=k1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function k1(n,e){return(e.arrayValue?.values||[]).map((t=>Me.fromName(t.referenceValue)))}class Vk extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qm(t)&&Hu(t.arrayValue,this.value)}}class Uk extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hu(this.value.arrayValue,t)}}class zk extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hu(this.value.arrayValue,t)}}class Bk extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Hu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function c0(n,e=null,t=[],i=[],a=null,l=null,c=null){return new Hk(n,e,t,i,a,l,c)}function Xm(n){const e=He(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>lm(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Qo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Qo(i))).join(",")),e.Te=t}return e.Te}function Zm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Pk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!M1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!u0(n.startAt,e.startAt)&&u0(n.endAt,e.endAt)}function um(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qk(n,e,t,i,a,l,c,f){return new rc(n,e,t,i,a,l,c,f)}function Jm(n){return new rc(n)}function h0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function D1(n){return n.collectionGroup!==null}function Mu(n){const e=He(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Zt(pn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new mf(l,i))})),t.has(pn.keyField().canonicalString())||e.Ie.push(new mf(pn.keyField(),i))}return e.Ie}function Jr(n){const e=He(n);return e.Ee||(e.Ee=Fk(e,Mu(n))),e.Ee}function Fk(n,e){if(n.limitType==="F")return c0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new mf(a.field,l)}));const t=n.endAt?new gf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new gf(n.startAt.position,n.startAt.inclusive):null;return c0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function cm(n,e){const t=n.filters.concat([e]);return new rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vf(n,e,t){return new rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xf(n,e){return Zm(Jr(n),Jr(e))&&n.limitType===e.limitType}function N1(n){return`${Xm(Jr(n))}|lt:${n.limitType}`}function Do(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>P1(a))).join(", ")}]`),Yf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Qo(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Qo(a))).join(",")),`Target(${i})`})(Jr(n))}; limitType=${n.limitType})`}function Zf(n,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,a){for(const l of Mu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,p){const g=l0(c,f,p);return c.inclusive?g<=0:g<0})(i.startAt,Mu(i),a)||i.endAt&&!(function(c,f,p){const g=l0(c,f,p);return c.inclusive?g>=0:g>0})(i.endAt,Mu(i),a))})(n,e)}function Gk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function j1(n){return(e,t)=>{let i=!1;for(const a of Mu(n)){const l=$k(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function $k(n,e,t){const i=n.field.isKeyField()?Me.comparator(e.key,t.key):(function(l,c,f){const p=c.data.field(l),g=f.data.field(l);return p!==null&&g!==null?Yo(p,g):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ue(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return b1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new Ot(Me.comparator);function qi(){return Kk}const V1=new Ot(Me.comparator);function Cu(...n){let e=V1;for(const t of n)e=e.insert(t.key,t);return e}function U1(n){let e=V1;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ia(){return Pu()}function z1(){return Pu()}function Pu(){return new Ba((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Wk=new Ot(Me.comparator),Yk=new Zt(Me.comparator);function et(...n){let e=Yk;for(const t of n)e=e.add(t);return e}const Qk=new Zt(Je);function Xk(){return Qk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function B1(n){return{integerValue:""+n}}function Zk(n,e){return Ck(e)?B1(e):ev(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function Jk(n,e,t){return n instanceof qu?(function(a,l){const c={fields:{[w1]:{stringValue:S1},[C1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ym(l)&&(l=Qf(l)),l&&(c.fields[T1]=l),{mapValue:c}})(t,e):n instanceof Fu?q1(n,e):n instanceof Gu?F1(n,e):(function(a,l){const c=H1(a,l),f=f0(c)+f0(a.Ae);return om(c)&&om(a.Ae)?B1(f):ev(a.serializer,f)})(n,e)}function eD(n,e,t){return n instanceof Fu?q1(n,e):n instanceof Gu?F1(n,e):t}function H1(n,e){return n instanceof yf?(function(i){return om(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class qu extends Jf{}class Fu extends Jf{constructor(e){super(),this.elements=e}}function q1(n,e){const t=G1(e);for(const i of n.elements)t.some((a=>ai(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Gu extends Jf{constructor(e){super(),this.elements=e}}function F1(n,e){let t=G1(e);for(const i of n.elements)t=t.filter((a=>!ai(a,i)));return{arrayValue:{values:t}}}class yf extends Jf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function f0(n){return Ut(n.integerValue||n.doubleValue)}function G1(n){return Qm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t){this.field=e,this.transform=t}}function nD(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof Fu&&a instanceof Fu||i instanceof Gu&&a instanceof Gu?Wo(i.elements,a.elements,ai):i instanceof yf&&a instanceof yf?ai(i.Ae,a.Ae):i instanceof qu&&a instanceof qu})(n.transform,e.transform)}class rD{constructor(e,t){this.version=e,this.transformResults=t}}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ed{}function $1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new W1(n.key,Tr.none()):new ic(n.key,n.data,Tr.none());{const t=n.data,i=Pn.empty();let a=new Zt(pn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new $s(n.key,i,new $n(a.toArray()),Tr.none())}}function iD(n,e,t){n instanceof ic?(function(a,l,c){const f=a.value.clone(),p=p0(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof $s?(function(a,l,c){if(!Yh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=p0(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(K1(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ku(n,e,t,i){return n instanceof ic?(function(l,c,f,p){if(!Yh(l.precondition,c))return f;const g=l.value.clone(),v=g0(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof $s?(function(l,c,f,p){if(!Yh(l.precondition,c))return f;const g=g0(l.fieldTransforms,p,c),v=c.data;return v.setAll(K1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((S=>S.field)))})(n,e,t,i):(function(l,c,f){return Yh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function sD(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=H1(i.transform,a||null);l!=null&&(t===null&&(t=Pn.empty()),t.set(i.field,l))}return t||null}function d0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Wo(i,a,((l,c)=>nD(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ic extends ed{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $s extends ed{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function K1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function p0(n,e,t){const i=new Map;ct(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,eD(c,f,t[a]))}return i}function g0(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,Jk(l,c,e))}return i}class W1 extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aD extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&iD(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ku(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ku(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=z1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const p=$1(c,f);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Be.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((t,i)=>d0(t,i)))&&Wo(this.baseMutations,e.baseMutations,((t,i)=>d0(t,i)))}}class tv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return Wk})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new tv(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,it;function cD(n){switch(n){case me.OK:return Ue(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function Y1(n){if(n===void 0)return Hi("GRPC error has no .code"),me.UNKNOWN;switch(n){case Gt.OK:return me.OK;case Gt.CANCELLED:return me.CANCELLED;case Gt.UNKNOWN:return me.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return me.INTERNAL;case Gt.UNAVAILABLE:return me.UNAVAILABLE;case Gt.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Gt.NOT_FOUND:return me.NOT_FOUND;case Gt.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Gt.ABORTED:return me.ABORTED;case Gt.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Gt.DATA_LOSS:return me.DATA_LOSS;default:return Ue(39323,{code:n})}}(it=Gt||(Gt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new ks([4294967295,4294967295],0);function m0(n){const e=hD().encode(n),t=new u1;return t.update(e),new Uint8Array(t.digest())}function v0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([t,i],0),new ks([a,l],0)]}class nv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Au(`Invalid padding: ${t}`);if(i<0)throw new Au(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ks.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(ks.fromNumber(i)));return a.compare(fD)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=m0(e),[i,a]=v0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new nv(l,a,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=m0(e),[i,a]=v0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,sc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new td(Be.min(),a,new Ot(Je),qi(),et())}}class sc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new sc(i,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class Q1{constructor(e,t){this.targetId=e,this.Ce=t}}class X1{constructor(e,t,i=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class y0{constructor(){this.ve=0,this.Fe=_0(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),i=et();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ue(38017,{changeType:l})}})),new sc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=_0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dD{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.Je=Nh(),this.He=Nh(),this.Ye=new Ot(Je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(um(l))if(i===0){const c=new Me(l.path);this.et(t,c,Sn.newNoDocument(c,Be.min()))}else ct(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Us(i).toUint8Array()}catch(p){if(p instanceof E1)return Ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new nv(c,a,l)}catch(p){return Ko(p instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&um(f.target)){const p=new Me(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Sn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=et();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new td(e,t,this.Ye,this.je,i);return this.je=qi(),this.Je=Nh(),this.He=Nh(),this.Ye=new Ot(Je),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new y0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Zt(Je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Zt(Je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Nh(){return new Ot(Me.comparator)}function _0(){return new Ot(Me.comparator)}const pD={asc:"ASCENDING",desc:"DESCENDING"},gD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class vD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hm(n,e){return n.useProto3Json||Yf(e)?e:{value:e}}function _f(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yD(n,e){return _f(n,e.toTimestamp())}function ei(n){return ct(!!n,49232),Be.fromTimestamp((function(t){const i=Vs(t);return new At(i.seconds,i.nanos)})(n))}function rv(n,e){return fm(n,e).canonicalString()}function fm(n,e){const t=(function(a){return new Ct(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function J1(n){const e=Ct.fromString(n);return ct(iC(e),10190,{key:e.toString()}),e}function dm(n,e){return rv(n.databaseId,e.path)}function Lg(n,e){const t=J1(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(tC(t))}function eC(n,e){return rv(n.databaseId,e)}function _D(n){const e=J1(n);return e.length===4?Ct.emptyPath():tC(e)}function pm(n){return new Ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tC(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function b0(n,e,t){return{name:dm(n,e),fields:t.value.mapValue.fields}}function bD(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(ct(v===void 0||typeof v=="string",58123),gn.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),gn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const v=g.code===void 0?me.UNKNOWN:Y1(g.code);return new Te(v,g.message||"")})(c);t=new X1(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Lg(n,i.document.name),l=ei(i.document.updateTime),c=i.document.createTime?ei(i.document.createTime):Be.min(),f=new Pn({mapValue:{fields:i.document.fields}}),p=Sn.newFoundDocument(a,l,c,f),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Qh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Lg(n,i.document),l=i.readTime?ei(i.readTime):Be.min(),c=Sn.newNoDocument(a,l),f=i.removedTargetIds||[];t=new Qh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Lg(n,i.document),l=i.removedTargetIds||[];t=new Qh([],l,a,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new uD(a,l),f=i.targetId;t=new Q1(f,c)}}return t}function ED(n,e){let t;if(e instanceof ic)t={update:b0(n,e.key,e.value)};else if(e instanceof W1)t={delete:dm(n,e.key)};else if(e instanceof $s)t={update:b0(n,e.key,e.data),updateMask:OD(e.fieldMask)};else{if(!(e instanceof aD))return Ue(16599,{Vt:e.type});t={verify:dm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof qu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Fu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof yf)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ue(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:yD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)})(n,e.precondition)),t}function SD(n,e){return n&&n.length>0?(ct(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?ei(a.updateTime):ei(l);return c.isEqual(Be.min())&&(c=ei(l)),new rD(c,a.transformResults||[])})(t,e)))):[]}function wD(n,e){return{documents:[eC(n,e.path)]}}function TD(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=eC(n,a);const l=(function(g){if(g.length!==0)return rC(Rr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(C){return{field:No(C.field),direction:RD(C.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=hm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function CD(n){let e=_D(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ct(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(S){const C=nC(S);return C instanceof Rr&&x1(C)?C.getFilters():[C]})(t.where));let c=[];t.orderBy&&(c=(function(S){return S.map((C=>(function(k){return new mf(jo(k.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(C)))})(t.orderBy));let f=null;t.limit&&(f=(function(S){let C;return C=typeof S=="object"?S.value:S,Yf(C)?null:C})(t.limit));let p=null;t.startAt&&(p=(function(S){const C=!!S.before,j=S.values||[];return new gf(j,C)})(t.startAt));let g=null;return t.endAt&&(g=(function(S){const C=!S.before,j=S.values||[];return new gf(j,C)})(t.endAt)),qk(e,a,c,l,f,"F",p,g)}function AD(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=jo(t.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=jo(t.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=jo(t.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jo(t.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $t.create(jo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Rr.create(t.compositeFilter.filters.map((i=>nC(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function RD(n){return pD[n]}function LD(n){return gD[n]}function ID(n){return mD[n]}function No(n){return{fieldPath:n.canonicalString()}}function jo(n){return pn.fromServerFormat(n.fieldPath)}function rC(n){return n instanceof $t?(function(t){if(t.op==="=="){if(o0(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NAN"}};if(a0(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(o0(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NAN"}};if(a0(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(t.field),op:LD(t.op),value:t.value}}})(n):n instanceof Rr?(function(t){const i=t.getFilters().map((a=>rC(a)));return i.length===1?i[0]:{compositeFilter:{op:ID(t.op),filters:i}}})(n):Ue(54877,{filter:n})}function OD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function iC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,i,a,l=Be.min(),c=Be.min(),f=gn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.yt=e}}function MD(n){const e=CD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Cn=new kD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(js.min())}updateCollectionGroup(e,t,i){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class kD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Zt(Ct.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Zt(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sC=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(sC,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="LruGarbageCollector",DD=1048576;function w0([n,e],[t,i]){const a=Je(n,t);return a===0?Je(e,i):a}class ND{constructor(e){this.Ir=e,this.buffer=new Zt(w0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();w0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(S0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ll(t)?Ce(S0,"Ignoring IndexedDB error during garbage collection: ",t):await ol(t)}await this.Vr(3e5)}))}}class VD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(Wf.ce);const i=new ND(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(E0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,c=Date.now(),this.nthSequenceNumber(e,a)))).next((S=>(i=S,f=Date.now(),this.removeTargets(e,i,t)))).next((S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((S=>(g=Date.now(),ko()<=Ze.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:S}))))}}function UD(n,e){return new VD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.changes=new Ba((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ye.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&ku(i.mutation,a,$n.empty(),At.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,et()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=et()){const a=Ia();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Cu();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Ia();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,et())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,a){let l=qi();const c=Pu(),f=(function(){return Pu()})();return t.forEach(((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof $s)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ku(v.mutation,g,v.mutation.getFieldMask(),At.now())):c.set(g.key,$n.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>f.set(g,new BD(v,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Pu();let a=new Ot(((c,f)=>c-f)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||$n.empty();v=f.applyToLocalView(g,v),i.set(p,v);const S=(a.get(f.batchId)||et()).add(p);a=a.insert(f.batchId,S)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,S=z1();v.forEach((C=>{if(!l.has(C)){const j=$1(t.get(C),i.get(C));j!==null&&S.set(C,j),l=l.add(C)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ye.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):D1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ye.resolve(Ia());let f=Uu,p=l;return c.next((g=>ye.forEach(g,((v,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(v)?ye.resolve():this.remoteDocumentCache.getEntry(e,v).next((C=>{p=p.insert(v,C)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,et()))).next((v=>({batchId:f,changes:U1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((i=>{let a=Cu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,l).next((f=>ye.forEach(f,(p=>{const g=(function(S,C){return new rc(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((S,C)=>{c=c.insert(S,C)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Sn.newInvalidDocument(v)))}));let f=Cu();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&ku(v.mutation,g,$n.empty(),At.now()),Zf(t,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ye.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ei(a.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:MD(a.bundledQuery),readTime:ei(a.readTime)}})(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.overlays=new Ot(Me.comparator),this.qr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ia();return ye.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),ye.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ye.resolve()}getOverlaysForCollection(e,t,i){const a=Ia(),l=t.length+1,c=new Me(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ye.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Ot(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ia(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Ia(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return ye.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new lD(t,i));let l=this.qr.get(t);l===void 0&&(l=et(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.Qr=new Zt(on.$r),this.Ur=new Zt(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new on(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new on(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Me(new Ct([])),i=new on(t,e),a=new on(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Me(new Ct([])),i=new on(t,e),a=new on(t,e+1);let l=et();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new on(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Me.comparator(e.key,t.key)||Je(e.Yr,t.Yr)}static Kr(e,t){return Je(e.Yr,t.Yr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(on.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new oD(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new on(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,t){return ye.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return ye.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new on(t,0),a=new on(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ye.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zt(Je);return t.forEach((a=>{const l=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),ye.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const c=new on(new Me(l),0);let f=new Zt(Je);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(p.Yr)),!0)}),c),ye.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ct(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ye.forEach(t.mutations,(a=>{const l=new on(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new on(t,0),a=this.Zr.firstAfterOrEqual(i);return ye.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ye.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let i=qi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Sn.newInvalidDocument(a))})),ye.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=qi();const c=t.path,f=new Me(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Ek(bk(v),i)<=0||(a.has(v.key)||Zf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ye.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ue(9500)}ii(e,t){return ye.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new WD(this)}getSize(e){return ye.resolve(this.size)}}class WD extends zD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ye.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.persistence=e,this.si=new Ba((t=>Xm(t)),Zm),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new iv,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ye.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.Pr(t),ye.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ye.waitFor(l).next((()=>a))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ye.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ye.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ye.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ye.resolve(i)}containsKey(e,t){return ye.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wf(0),this.li=!1,this.li=!0,this.hi=new GD,this.referenceDelegate=e(this),this.Pi=new YD(this),this.indexManager=new PD,this.remoteDocumentCache=(function(a){return new KD(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new xD(t),this.Ii=new qD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new $D(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Ce("MemoryPersistence","Starting transaction:",e);const a=new QD(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ye.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class QD extends wk{constructor(e){super(),this.currentSequenceNumber=e}}class sv{constructor(e){this.persistence=e,this.Ri=new iv,this.Vi=null}static mi(e){return new sv(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ye.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(i=>{const a=Me.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bf{constructor(e,t){this.persistence=e,this.pi=new Ba((i=>Ak(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=UD(this,t)}static mi(e,t){return new bf(e,t)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ye.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ye.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Be.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ye.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kh(e.data.value)),t}br(e,t,i){return ye.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ye.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=et(),a=et();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new av(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iO()?8:Tk(wn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new XD;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(ko()<=Ze.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(ko()<=Ze.DEBUG&&Ce("QueryEngine","Query:",Do(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(ko()<=Ze.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):ye.resolve())}ys(e,t){if(h0(t))return ye.resolve(null);let i=Jr(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=vf(t,null,"F"),i=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=et(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.Ds(t,f);return this.Cs(t,g,c,p.readTime)?this.ys(e,vf(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,i,a){return h0(t)||a.isEqual(Be.min())?ye.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?ye.resolve(null):(ko()<=Ze.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Do(t)),this.vs(e,c,t,_k(a,Uu)).next((f=>f)))}))}Ds(e,t){let i=new Zt(j1(e));return t.forEach(((a,l)=>{Zf(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return ko()<=Ze.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Do(t)),this.ps.getDocumentsMatchingQuery(e,t,js.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LocalStore",JD=3e8;class eN{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Ot(Je),this.xs=new Ba((l=>Xm(l)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function tN(n,e,t,i){return new eN(n,e,t,i)}async function oC(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let p=et();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function nN(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,v){const S=g.batch,C=S.keys();let j=ye.resolve();return C.forEach((k=>{j=j.next((()=>v.getEntry(p,k))).next((B=>{const H=g.docVersions.get(k);ct(H!==null,48541),B.version.compareTo(H)<0&&(S.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))}))})),j.next((()=>f.mutationQueue.removeMutationBatch(p,S)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=et();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function lC(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function rN(n,e){const t=He(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((v,S)=>{const C=a.get(S);if(!C)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,S).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,S))));let j=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(gn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(v.resumeToken,i)),a=a.insert(S,j),(function(B,H,K){return B.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=JD?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(C,j,v)&&f.push(t.Pi.updateTargetData(l,j))}));let p=qi(),g=et();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(iN(l,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!i.isEqual(Be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((S=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return ye.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function iN(n,e,t){let i=et(),a=et();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=qi();return t.forEach(((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Ce(ov,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function sN(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Wm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function aN(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,ye.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new Is(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function gm(n,e,t){const i=He(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ll(c))throw c;Ce(ov,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function T0(n,e,t){const i=He(n);let a=Be.min(),l=et();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const S=He(p),C=S.xs.get(v);return C!==void 0?ye.resolve(S.Ms.get(C)):S.Pi.getTargetData(g,v)})(i,c,Jr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:Be.min(),t?l:et()))).next((f=>(oN(i,Gk(e),f),{documents:f,Qs:l})))))}function oN(n,e,t){let i=n.Os.get(e)||Be.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class C0{constructor(){this.activeTargetIds=Xk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lN{constructor(){this.Mo=new C0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="ConnectivityMonitor";class R0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(A0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(A0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function mm(){return jh===null?jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="RestConnection",cN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===df?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=mm(),f=this.zo(e,t.toUriEncodedString());Ce(Ig,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(f),v=il(g);return this.Jo(e,f,p,i,v).then((S=>(Ce(Ig,`Received RPC '${e}' ${c}: `,S),S)),(S=>{throw Ko(Ig,`RPC '${e}' ${c} failed with error: `,S,"url: ",f,"request:",i),S}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=cN[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class dN extends hN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=mm();return new Promise(((f,p)=>{const g=new c1;g.setWithCredentials(!0),g.listenOnce(h1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case $h.NO_ERROR:const S=g.getResponseJson();Ce(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),f(S);break;case $h.TIMEOUT:Ce(bn,`RPC '${e}' ${c} timed out`),p(new Te(me.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const C=g.getStatus();if(Ce(bn,`RPC '${e}' ${c} failed with status:`,C,"response text:",g.getResponseText()),C>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const k=j?.error;if(k&&k.status&&k.message){const B=(function(K){const Z=K.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(Z)>=0?Z:me.UNKNOWN})(k.status);p(new Te(B,k.message))}else p(new Te(me.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Te(me.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ce(bn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);Ce(bn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=mm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=p1(),f=d1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");Ce(bn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const S=c.createWebChannel(v,p);this.I_(S);let C=!1,j=!1;const k=new fN({Yo:H=>{j?Ce(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(C||(Ce(bn,`Opening RPC '${e}' stream ${a} transport.`),S.open(),C=!0),Ce(bn,`RPC '${e}' stream ${a} sending:`,H),S.send(H))},Zo:()=>S.close()}),B=(H,K,Z)=>{H.listen(K,(ne=>{try{Z(ne)}catch(X){setTimeout((()=>{throw X}),0)}}))};return B(S,Tu.EventType.OPEN,(()=>{j||(Ce(bn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),B(S,Tu.EventType.CLOSE,(()=>{j||(j=!0,Ce(bn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(S))})),B(S,Tu.EventType.ERROR,(H=>{j||(j=!0,Ko(bn,`RPC '${e}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),k.a_(new Te(me.UNAVAILABLE,"The operation could not be completed")))})),B(S,Tu.EventType.MESSAGE,(H=>{if(!j){const K=H.data[0];ct(!!K,16349);const Z=K,ne=Z?.error||Z[0]?.error;if(ne){Ce(bn,`RPC '${e}' stream ${a} received error:`,ne);const X=ne.status;let M=(function(L){const E=Gt[L];if(E!==void 0)return Y1(E)})(X),z=ne.message;M===void 0&&(M=me.INTERNAL,z="Unknown error status: "+X+" with message "+ne.message),j=!0,k.a_(new Te(M,z)),S.close()}else Ce(bn,`RPC '${e}' stream ${a} received:`,K),k.u_(K)}})),B(f,f1.STAT_EVENT,(H=>{H.stat===im.PROXY?Ce(bn,`RPC '${e}' stream ${a} detected buffering proxy`):H.stat===im.NOPROXY&&Ce(bn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n){return new vD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&Ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="PersistentStream";class cC{constructor(e,t,i,a,l,c,f,p){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Hi(t.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new Te(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ce(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pN extends cC{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=bD(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?ei(c.readTime):Be.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=pm(this.serializer),t.addTarget=(function(l,c){let f;const p=c.target;if(f=um(p)?{documents:wD(l,p)}:{query:TD(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Z1(l,c.resumeToken);const g=hm(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Be.min())>0){f.readTime=_f(l,c.snapshotVersion.toTimestamp());const g=hm(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=AD(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=pm(this.serializer),t.removeTarget=e,this.q_(t)}}class gN extends cC{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=SD(e.writeResults,e.commitTime),i=ei(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=pm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>ED(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{}class vN extends mN{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Te(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,fm(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(me.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,fm(t,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(me.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(t),this.aa=!1):Ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class _N{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ha(this)&&(Ce(Na,"Restarting streams for network reachability change."),await(async function(p){const g=He(p);g.Ea.add(4),await ac(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rd(g)})(this))}))})),this.Ra=new yN(i,a)}}async function rd(n){if(Ha(n))for(const e of n.da)await e(!0)}async function ac(n){for(const e of n.da)await e(!1)}function hC(n,e){const t=He(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),hv(t)?cv(t):ul(t).O_()&&uv(t,e))}function lv(n,e){const t=He(n),i=ul(t);t.Ia.delete(e),i.O_()&&fC(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ha(t)&&t.Ra.set("Unknown"))}function uv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(n).Y_(e)}function fC(n,e){n.Va.Ue(e),ul(n).Z_(e)}function cv(n){n.Va=new dD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ul(n).start(),n.Ra.ua()}function hv(n){return Ha(n)&&!ul(n).x_()&&n.Ia.size>0}function Ha(n){return He(n).Ea.size===0}function dC(n){n.Va=void 0}async function bN(n){n.Ra.set("Online")}async function EN(n){n.Ia.forEach(((e,t)=>{uv(n,e)}))}async function SN(n,e){dC(n),hv(n)?(n.Ra.ha(e),cv(n)):n.Ra.set("Unknown")}async function wN(n,e,t){if(n.Ra.set("Online"),e instanceof X1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(i){Ce(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ef(n,i)}else if(e instanceof Qh?n.Va.Ze(e):e instanceof Q1?n.Va.st(e):n.Va.tt(e),!t.isEqual(Be.min()))try{const i=await lC(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),fC(l,p);const S=new Is(v.target,p,g,v.sequenceNumber);uv(l,S)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){Ce(Na,"Failed to raise snapshot:",i),await Ef(n,i)}}async function Ef(n,e,t){if(!ll(e))throw e;n.Ea.add(1),await ac(n),n.Ra.set("Offline"),t||(t=()=>lC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ce(Na,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rd(n)}))}function pC(n,e){return e().catch((t=>Ef(n,t,e)))}async function id(n){const e=He(n),t=Bs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;TN(e);)try{const a=await sN(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,CN(e,a)}catch(a){await Ef(e,a)}gC(e)&&mC(e)}function TN(n){return Ha(n)&&n.Ta.length<10}function CN(n,e){n.Ta.push(e);const t=Bs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function gC(n){return Ha(n)&&!Bs(n).x_()&&n.Ta.length>0}function mC(n){Bs(n).start()}async function AN(n){Bs(n).ra()}async function RN(n){const e=Bs(n);for(const t of n.Ta)e.ea(t.mutations)}async function LN(n,e,t){const i=n.Ta.shift(),a=tv.from(i,e,t);await pC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await id(n)}async function IN(n,e){e&&Bs(n).X_&&await(async function(i,a){if((function(c){return cD(c)&&c!==me.ABORTED})(a.code)){const l=i.Ta.shift();Bs(i).B_(),await pC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await id(i)}})(n,e),gC(n)&&mC(n)}async function I0(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),Ce(Na,"RemoteStore received new credentials");const i=Ha(t);t.Ea.add(3),await ac(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rd(t)}async function ON(n,e){const t=He(n);e?(t.Ea.delete(2),await rd(t)):e||(t.Ea.add(2),await ac(t),t.Ra.set("Unknown"))}function ul(n){return n.ma||(n.ma=(function(t,i,a){const l=He(t);return l.sa(),new pN(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:bN.bind(null,n),t_:EN.bind(null,n),r_:SN.bind(null,n),H_:wN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),hv(n)?cv(n):n.Ra.set("Unknown")):(await n.ma.stop(),dC(n))}))),n.ma}function Bs(n){return n.fa||(n.fa=(function(t,i,a){const l=He(t);return l.sa(),new gN(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:AN.bind(null,n),r_:IN.bind(null,n),ta:RN.bind(null,n),na:LN.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await id(n)):(await n.fa.stop(),n.Ta.length>0&&(Ce(Na,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new fv(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dv(n,e){if(Hi("AsyncQueue",`${e}: ${n}`),ll(n))return new Te(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=Cu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.ga=new Ot(Me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Zo{constructor(e,t,i,a,l,c,f,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Zo(e,t,qo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MN{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=He(t),l=a.queries;a.queries=x0(),l.forEach(((c,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new Te(me.ABORTED,"Firestore shutting down"))}}function x0(){return new Ba((n=>N1(n)),Xf)}async function vC(n,e){const t=He(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new xN,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=dv(c,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&pv(t)}async function yC(n,e){const t=He(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function PN(n,e){const t=He(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&pv(t)}function kN(n,e,t){const i=He(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function pv(n){n.Ca.forEach((e=>{e.next()}))}var vm,M0;(M0=vm||(vm={})).Ma="default",M0.Cache="cache";class _C{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.key=e}}class EC{constructor(e){this.key=e}}class DN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=j1(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new O0,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,S)=>{const C=a.get(v),j=Zf(this.query,S)?S:null,k=!!C&&this.mutatedKeys.has(C.key),B=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;C&&j?C.data.isEqual(j.data)?k!==B&&(i.track({type:3,doc:j}),H=!0):this.su(C,j)||(i.track({type:2,doc:j}),H=!0,(p&&this.eu(j,p)>0||g&&this.eu(j,g)<0)&&(f=!0)):!C&&j?(i.track({type:0,doc:j}),H=!0):C&&!j&&(i.track({type:1,doc:C}),H=!0,(p||g)&&(f=!0)),H&&(j?(c=c.add(j),l=B?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,S)=>(function(j,k){const B=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:H})}};return B(j)-B(k)})(v.type,S.type)||this.eu(v.doc,S.doc))),this.ou(i),a=a??!1;const f=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Zo(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new EC(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new bC(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gv="SyncEngine";class NN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class jN{constructor(e){this.key=e,this.hu=!1}}class VN{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((f=>N1(f)),Xf),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Me.comparator),this.Au=new Map,this.Ru=new iv,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UN(n,e,t=!0){const i=RC(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await SC(i,e,t,!0),a}async function zN(n,e){const t=RC(n);await SC(t,e,!0,!1)}async function SC(n,e,t,i){const a=await aN(n.localStore,Jr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await BN(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&hC(n.remoteStore,a),f}async function BN(n,e,t,i,a){n.pu=(S,C,j)=>(async function(B,H,K,Z){let ne=H.view.ru(K);ne.Cs&&(ne=await T0(B.localStore,H.query,!1).then((({documents:O})=>H.view.ru(O,ne))));const X=Z&&Z.targetChanges.get(H.targetId),M=Z&&Z.targetMismatches.get(H.targetId)!=null,z=H.view.applyChanges(ne,B.isPrimaryClient,X,M);return k0(B,H.targetId,z.au),z.snapshot})(n,S,C,j);const l=await T0(n.localStore,e,!0),c=new DN(e,l.Qs),f=c.ru(l.documents),p=sc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(f,n.isPrimaryClient,p);k0(n,t,g.au);const v=new NN(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function HN(n,e,t){const i=He(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Xf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await gm(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&lv(i.remoteStore,a.targetId),ym(i,a.targetId)})).catch(ol)):(ym(i,a.targetId),await gm(i.localStore,a.targetId,!0))}async function qN(n,e){const t=He(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),lv(t.remoteStore,i.targetId))}async function FN(n,e,t){const i=XN(n);try{const a=await(function(c,f){const p=He(c),g=At.now(),v=f.reduce(((j,k)=>j.add(k.key)),et());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let k=qi(),B=et();return p.Ns.getEntries(j,v).next((H=>{k=H,k.forEach(((K,Z)=>{Z.isValidDocument()||(B=B.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,k))).next((H=>{S=H;const K=[];for(const Z of f){const ne=sD(Z,S.get(Z.key).overlayedDocument);ne!=null&&K.push(new $s(Z.key,ne,L1(ne.value.mapValue),Tr.exists(!0)))}return p.mutationQueue.addMutationBatch(j,g,K,f)})).next((H=>{C=H;const K=H.applyToLocalDocumentSet(S,B);return p.documentOverlayCache.saveOverlays(j,H.batchId,K)}))})).then((()=>({batchId:C.batchId,changes:U1(S)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new Ot(Je)),g=g.insert(f,p),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await oc(i,a.changes),await id(i.remoteStore)}catch(a){const l=dv(a,"Failed to persist write");t.reject(l)}}async function wC(n,e){const t=He(n);try{const i=await rN(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ct(c.hu,14607):a.removedDocuments.size>0&&(ct(c.hu,42227),c.hu=!1))})),await oc(t,i,e)}catch(i){await ol(i)}}function P0(n,e,t){const i=He(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const p=He(c);p.onlineState=f;let g=!1;p.queries.forEach(((v,S)=>{for(const C of S.Sa)C.va(f)&&(g=!0)})),g&&pv(p)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function GN(n,e,t){const i=He(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Ot(Me.comparator);c=c.insert(l,Sn.newNoDocument(l,Be.min()));const f=et().add(l),p=new td(Be.min(),new Map,new Ot(Je),c,f);await wC(i,p),i.du=i.du.remove(l),i.Au.delete(e),mv(i)}else await gm(i.localStore,e,!1).then((()=>ym(i,e,t))).catch(ol)}async function $N(n,e){const t=He(n),i=e.batch.batchId;try{const a=await nN(t.localStore,e);CC(t,i,null),TC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await oc(t,a)}catch(a){await ol(a)}}async function KN(n,e,t){const i=He(n);try{const a=await(function(c,f){const p=He(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next((S=>(ct(S!==null,37113),v=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);CC(i,e,t),TC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await oc(i,a)}catch(a){await ol(a)}}function TC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function CC(n,e,t){const i=He(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||AC(n,i)}))}function AC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(lv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),mv(n))}function k0(n,e,t){for(const i of t)i instanceof bC?(n.Ru.addReference(i.key,e),WN(n,i)):i instanceof EC?(Ce(gv,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||AC(n,i.key)):Ue(19791,{wu:i})}function WN(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Ce(gv,"New document in limbo: "+t),n.Eu.add(i),mv(n))}function mv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Me(Ct.fromString(e)),i=n.fu.next();n.Au.set(i,new jN(t)),n.du=n.du.insert(t,i),hC(n.remoteStore,new Is(Jr(Jm(t.path)),i,"TargetPurposeLimboResolution",Wf.ce))}}async function oc(n,e,t){const i=He(n),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{c.push(i.pu(p,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=av.As(p.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(p,g){const v=He(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ye.forEach(g,(C=>ye.forEach(C.Es,(j=>v.persistence.referenceDelegate.addReference(S,C.targetId,j))).next((()=>ye.forEach(C.ds,(j=>v.persistence.referenceDelegate.removeReference(S,C.targetId,j)))))))))}catch(S){if(!ll(S))throw S;Ce(ov,"Failed to update sequence numbers: "+S)}for(const S of g){const C=S.targetId;if(!S.fromCache){const j=v.Ms.get(C),k=j.snapshotVersion,B=j.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(C,B)}}})(i.localStore,l))}async function YN(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Ce(gv,"User change. New user:",e.toKey());const i=await oC(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new Te(me.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await oc(t,i.Ls)}}function QN(n,e){const t=He(n),i=t.Au.get(e);if(i&&i.hu)return et().add(i.key);{let a=et();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function RC(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GN.bind(null,e),e.Pu.H_=PN.bind(null,e.eventManager),e.Pu.yu=kN.bind(null,e.eventManager),e}function XN(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KN.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return tN(this.persistence,new ZD,e.initialUser,this.serializer)}Cu(e){return new aC(sv.mi,this.serializer)}Du(e){return new lN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class ZN extends Sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ct(this.persistence.referenceDelegate instanceof bf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new jD(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new aC((i=>bf.mi(i,t)),this.serializer)}}class _m{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>P0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YN.bind(null,this.syncEngine),await ON(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MN})()}createDatastore(e){const t=nd(e.databaseInfo.databaseId),i=(function(l){return new dN(l)})(e.databaseInfo);return(function(l,c,f,p){return new vN(l,c,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,f){return new _N(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>P0(this.syncEngine,t,0)),(function(){return R0.v()?new R0:new uN})())}createSyncEngine(e,t){return(function(a,l,c,f,p,g,v){const S=new VN(a,l,c,f,p,g);return v&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=He(t);Ce(Na,"RemoteStore shutting down."),i.Ea.add(5),await ac(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class JN{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Ce(Hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ce(Hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=dv(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function xg(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(Hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await oC(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function D0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await e4(n);Ce(Hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>I0(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>I0(e.remoteStore,a))),n._onlineComponents=e}async function e4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(Hs,"Using user provided OfflineComponentProvider");try{await xg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await xg(n,new Sf)}}else Ce(Hs,"Using default OfflineComponentProvider"),await xg(n,new ZN(void 0));return n._offlineComponents}async function IC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(Hs,"Using user provided OnlineComponentProvider"),await D0(n,n._uninitializedComponentsProvider._online)):(Ce(Hs,"Using default OnlineComponentProvider"),await D0(n,new _m))),n._onlineComponents}function t4(n){return IC(n).then((e=>e.syncEngine))}async function OC(n){const e=await IC(n),t=e.eventManager;return t.onListen=UN.bind(null,e.syncEngine),t.onUnlisten=HN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qN.bind(null,e.syncEngine),t}function n4(n,e,t={}){const i=new Vi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,g){const v=new LC({next:C=>{v.Nu(),c.enqueueAndForget((()=>yC(l,S)));const j=C.docs.has(f);!j&&C.fromCache?g.reject(new Te(me.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&p&&p.source==="server"?g.reject(new Te(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(C)},error:C=>g.reject(C)}),S=new _C(Jm(f.path),v,{includeMetadataChanges:!0,qa:!0});return vC(l,S)})(await OC(n),n.asyncQueue,e,t,i))),i.promise}function r4(n,e,t={}){const i=new Vi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,g){const v=new LC({next:C=>{v.Nu(),c.enqueueAndForget((()=>yC(l,S))),C.fromCache&&p.source==="server"?g.reject(new Te(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),S=new _C(f,v,{includeMetadataChanges:!0,qa:!0});return vC(l,S)})(await OC(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firestore.googleapis.com",j0=!0;class V0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MC,this.ssl=j0}else this.host=e.host,this.ssl=e.ssl??j0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DD)throw new Te(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new lk;switch(i.type){case"firstParty":return new fk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=N0.get(t);i&&(Ce("ComponentProvider","Removing Datastore"),N0.delete(t),i.terminate())})(this),Promise.resolve()}}function i4(n,e,t,i={}){n=si(n,sd);const a=il(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(Ww(`https://${f}`),Yw("Firestore",!0)),l.host!==MC&&l.host!==f&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:i};if(!Ns(p,c)&&(n._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=En.MOCK_USER;else{g=QI(i.mockUserToken,n._app?.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new Te(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(S)}n._authCredentials=new uk(new m1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class zt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(nc(t,zt._jsonSchema))return new zt(e,i||null,new Me(Ct.fromString(t.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Kt("string",zt._jsonSchemaVersion),referencePath:Kt("string")};class Ds extends qa{constructor(e,t,i){super(e,t,Jm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Me(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Jo(n,e,...t){if(n=kt(n),v1("collection","path",e),n instanceof sd){const i=Ct.fromString(e,...t);return XE(i),new Ds(n,null,i)}{if(!(n instanceof zt||n instanceof Ds))throw new Te(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ct.fromString(e,...t));return XE(i),new Ds(n.firestore,null,i)}}function cl(n,e,...t){if(n=kt(n),arguments.length===1&&(e=Km.newId()),v1("doc","path",e),n instanceof sd){const i=Ct.fromString(e,...t);return QE(i),new zt(n,null,new Me(i))}{if(!(n instanceof zt||n instanceof Ds))throw new Te(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ct.fromString(e,...t));return QE(i),new zt(n.firestore,n instanceof Ds?n.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uC(this,"async_queue_retry"),this._c=()=>{const i=Og();i&&Ce(U0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Og();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Og();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;Ce(U0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",B0(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=fv.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ue(47125,{Pc:B0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function B0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class hl extends sd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new z0,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function s4(n,e){const t=typeof n=="object"?n:Mm(),i=typeof n=="string"?n:df,a=Va(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=WI("firestore");l&&i4(a,...l)}return a}function vv(n){if(n._terminated)throw new Te(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||a4(n),n._firestoreClient}function a4(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new Ik(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,xC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new JN(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fr(gn.fromBase64String(e))}catch(t){throw new Te(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fr(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nc(e,fr._jsonSchema))return fr.fromBase64String(e.bytes)}}fr._jsonSchemaVersion="firestore/bytes/1.0",fr._jsonSchema={type:Kt("string",fr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(nc(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:Kt("string",ti._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nc(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ni(e.vectorValues);throw new Te(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Kt("string",ni._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^__.*__$/;class l4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new ic(e,this.data,t,this.fieldTransforms)}}class PC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:n})}}class yv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kC(this.Ac)&&o4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||nd(e)}Cc(e,t,i,a=!1){return new yv({Ac:e,methodName:t,Dc:i,path:pn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ld(n){const e=n._freezeSettings(),t=nd(n._databaseId);return new u4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DC(n,e,t,i,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);bv("Data must be an object, but it was:",c,i);const f=NC(i,c);let p,g;if(l.merge)p=new $n(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const S of l.mergeFields){const C=bm(e,S,t);if(!c.contains(C))throw new Te(me.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);VC(v,C)||v.push(C)}p=new $n(v),g=c.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=c.fieldTransforms;return new l4(new Pn(f),p,g)}class ud extends od{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ud}}class _v extends od{_toFieldTransform(e){return new tD(e.path,new qu)}isEqual(e){return e instanceof _v}}function c4(n,e,t,i){const a=n.Cc(1,e,t);bv("Data must be an object, but it was:",a,i);const l=[],c=Pn.empty();Gs(i,((p,g)=>{const v=Ev(e,p,t);g=kt(g);const S=a.yc(v);if(g instanceof ud)l.push(v);else{const C=lc(g,S);C!=null&&(l.push(v),c.set(v,C))}}));const f=new $n(l);return new PC(c,f,a.fieldTransforms)}function h4(n,e,t,i,a,l){const c=n.Cc(1,e,t),f=[bm(e,i,t)],p=[a];if(l.length%2!=0)throw new Te(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<l.length;C+=2)f.push(bm(e,l[C])),p.push(l[C+1]);const g=[],v=Pn.empty();for(let C=f.length-1;C>=0;--C)if(!VC(g,f[C])){const j=f[C];let k=p[C];k=kt(k);const B=c.yc(j);if(k instanceof ud)g.push(j);else{const H=lc(k,B);H!=null&&(g.push(j),v.set(j,H))}}const S=new $n(g);return new PC(v,S,c.fieldTransforms)}function f4(n,e,t,i=!1){return lc(t,n.Cc(i?4:3,e))}function lc(n,e){if(jC(n=kt(n)))return bv("Unsupported field value:",e,n),NC(n,e);if(n instanceof od)return(function(i,a){if(!kC(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let p=lc(f,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,a){if((i=kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Zk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=At.fromDate(i);return{timestampValue:_f(a.serializer,l)}}if(i instanceof At){const l=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_f(a.serializer,l)}}if(i instanceof ti)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fr)return{bytesValue:Z1(a.serializer,i._byteString)};if(i instanceof zt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ni)return(function(c,f){return{mapValue:{fields:{[A1]:{stringValue:R1},[pf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return ev(f.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Kf(i)}`)})(n,e)}function NC(n,e){const t={};return b1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(n,((i,a)=>{const l=lc(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function jC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof ti||n instanceof fr||n instanceof zt||n instanceof od||n instanceof ni)}function bv(n,e,t){if(!jC(t)||!y1(t)){const i=Kf(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function bm(n,e,t){if((e=kt(e))instanceof ad)return e._internalPath;if(typeof e=="string")return Ev(n,e);throw wf("Field path arguments must be of type string or ",n,!1,void 0,t)}const d4=new RegExp("[~\\*/\\[\\]]");function Ev(n,e,t){if(e.search(d4)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ad(...e.split("."))._internalPath}catch{throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wf(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Te(me.INVALID_ARGUMENT,f+n+p)}function VC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class p4 extends UC{data(){return super.data()}}function zC(n,e){return typeof e=="string"?Ev(n,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sv{}class BC extends Sv{}function m4(n,e,...t){let i=[];e instanceof Sv&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof Tv)).length,f=l.filter((p=>p instanceof wv)).length;if(c>1||c>0&&f>0)throw new Te(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class wv extends BC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new wv(e,t,i)}_apply(e){const t=this._parse(e);return HC(e._query,t),new qa(e.firestore,e.converter,cm(e._query,t))}_parse(e){const t=ld(e.firestore);return(function(l,c,f,p,g,v,S){let C;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Te(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){q0(S,v);const k=[];for(const B of S)k.push(H0(p,l,B));C={arrayValue:{values:k}}}else C=H0(p,l,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||q0(S,v),C=f4(f,c,S,v==="in"||v==="not-in");return $t.create(g,v,C)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Tv extends Sv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const p of f)HC(c,p),c=cm(c,p)})(e._query,t),new qa(e.firestore,e.converter,cm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cv extends BC{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Cv(e,t,i)}_apply(e){return new qa(e.firestore,e.converter,vf(e._query,this._limit,this._limitType))}}function v4(n){return Cv._create("limit",n,"F")}function H0(n,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new Te(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D1(e)&&t.indexOf("/")!==-1)throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ct.fromString(t));if(!Me.isDocumentKey(i))throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return s0(n,new Me(i))}if(t instanceof zt)return s0(n,t._key);throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(t)}.`)}function q0(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HC(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Te(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class y4{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gs(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[pf].arrayValue?.values?.map((i=>Ut(i.doubleValue)));return new ni(t)}convertGeoPoint(e){return new ti(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Qf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ct.fromString(e);ct(iC(i),9688,{name:e});const a=new Bu(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return a.isEqual(t)||Hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends UC{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(zC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:Kt("string",Oa._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Xh extends Oa{data(e={}){return super.data(e)}}class Fo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ru(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Xh(this._firestore,this._userDataWriter,i.key,i,new Ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const p=new Xh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ru(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Xh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ru(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:_4(f.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n){n=si(n,zt);const e=si(n.firestore,hl);return n4(vv(e),n._key).then((t=>E4(e,n,t)))}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:Kt("string",Fo._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class GC extends y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new fr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}}function Tf(n){n=si(n,qa);const e=si(n.firestore,hl),t=vv(e),i=new GC(e);return g4(n._query),r4(t,n._query).then((a=>new Fo(e,i,n,a)))}function b4(n,e,t){n=si(n,zt);const i=si(n.firestore,hl),a=qC(n.converter,e);return Av(i,[DC(ld(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Tr.none())])}function $C(n,e,t,...i){n=si(n,zt);const a=si(n.firestore,hl),l=ld(a);let c;return c=typeof(e=kt(e))=="string"||e instanceof ad?h4(l,"updateDoc",n._key,e,t,i):c4(l,"updateDoc",n._key,e),Av(a,[c.toMutation(n._key,Tr.exists(!0))])}function KC(n,e){const t=si(n.firestore,hl),i=cl(n),a=qC(n.converter,e);return Av(t,[DC(ld(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Tr.exists(!1))]).then((()=>i))}function Av(n,e){return(function(i,a){const l=new Vi;return i.asyncQueue.enqueueAndForget((async()=>FN(await t4(i),a,l))),l.promise})(vv(n),e)}function E4(n,e,t){const i=t.docs.get(e._key),a=new GC(n);return new Oa(n,a,e._key,i,new Ru(t.hasPendingWrites,t.fromCache),e.converter)}function WC(){return new _v("serverTimestamp")}(function(e,t=!0){(function(a){al=a})(sl),ii(new Cr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new hl(new ck(i.getProvider("auth-internal")),new dk(c,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Te(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),dr($E,KE,e),dr($E,KE,"esm2020")})();const S4={apiKey:"AIzaSyA2pkzjem6Mq375rwCvA_RB30KiaxK5vB4",authDomain:"nammaapp-12ad8.firebaseapp.com",projectId:"nammaapp-12ad8",storageBucket:"nammaapp-12ad8.firebasestorage.app",messagingSenderId:"830465293241",appId:"1:830465293241:web:bb129777d9a6bfd0fad468",measurementId:"G-KEK3679XG8"},Rv=nT(S4),Fi=BM(Rv);ik(Rv);const Lr=s4(Rv),w4=({isOpen:n,onClose:e,onLoginSuccess:t,onSwitchToRegister:i})=>{const[a,l]=y.useState(""),[c,f]=y.useState(""),p=y.useRef(null),g=async()=>{if(!a||!c){alert("Please enter both email and password.");return}try{await Cx(Fi,a,c),t(),e()}catch(v){console.error("Login error:",v.message),alert(`Login failed: ${v.message}`)}};return y.useEffect(()=>{const v=S=>{p.current&&!p.current.contains(S.target)&&e()};return n&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[n,e]),n?I.jsx("div",{className:"login-modal-overlay",children:I.jsxs("div",{className:"login-modal-content",ref:p,children:[I.jsx("button",{className:"login-close-button",onClick:e,children:I.jsx(Om,{size:24,color:"white"})}),I.jsx("h1",{className:"login-logo",children:"Namma Meals"}),I.jsx("h2",{className:"login-title",children:"Meals delivered with care"}),I.jsx("div",{className:"input-container",children:I.jsx("input",{type:"email",placeholder:"Enter Email",className:"login-input",value:a,onChange:v=>l(v.target.value)})}),I.jsx("div",{className:"input-container",children:I.jsx("input",{type:"password",placeholder:"Enter Password",className:"login-input",value:c,onChange:v=>f(v.target.value)})}),I.jsx("button",{className:"continue-button",onClick:g,children:"Continue"}),I.jsxs("p",{className:"register-text",children:["Don't have an account?"," ",I.jsx("button",{className:"register-link-button",onClick:i,children:"Register"})]})]})}):null},T4=({isOpen:n,onClose:e,onSwitchToLogin:t})=>{const[i,a]=y.useState(""),[l,c]=y.useState(""),[f,p]=y.useState(""),[g,v]=y.useState(""),S=y.useRef(null),C=async()=>{if(!i||!l||!f||!g){alert("Please fill in all fields.");return}try{const k=(await Tx(Fi,l,g)).user;await b4(cl(Lr,"customers",k.uid),{name:i,email:l,mobile:f,password:g,createdAt:WC(),app_type:"Party"}),alert("Registration successful! Please log in."),t()}catch(j){j.code==="auth/email-already-in-use"?(alert("This email is already registered. Please log in instead."),t()):(console.error("Registration error:",j.message),alert(`Registration failed: ${j.message}`))}};return y.useEffect(()=>{const j=k=>{S.current&&!S.current.contains(k.target)&&e()};return n&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[n,e]),n?I.jsx("div",{className:"login-modal-overlay",children:I.jsxs("div",{className:"login-modal-content",ref:S,children:[I.jsx("button",{className:"login-close-button",onClick:e,children:I.jsx(Om,{size:24,color:"white"})}),I.jsx("h1",{className:"login-logo",children:"Register"}),I.jsx("h2",{className:"login-title",children:"Create your account"}),I.jsx("div",{className:"input-container",children:I.jsx("input",{type:"text",placeholder:"Name",className:"login-input",value:i,onChange:j=>a(j.target.value)})}),I.jsx("div",{className:"input-container",children:I.jsx("input",{type:"email",placeholder:"Email",className:"login-input",value:l,onChange:j=>c(j.target.value)})}),I.jsx("div",{className:"input-container",children:I.jsx("input",{type:"tel",placeholder:"Mobile Number",className:"login-input",value:f,onChange:j=>p(j.target.value)})}),I.jsx("div",{className:"input-container",children:I.jsx("input",{type:"password",placeholder:"Password",className:"login-input",value:g,onChange:j=>v(j.target.value)})}),I.jsx("button",{className:"continue-button",onClick:C,children:"Continue"})]})}):null},C4="/assets/pomegranate-DNk7SszR.png",A4="/assets/vegetables-DXaIo7FD.png",R4="/assets/vegetables-in-basket-DpI271LT.png",F0=[{image:C4,alt:"Fresh pomegranates"},{image:A4,alt:"Assortment of fresh vegetables"},{image:R4,alt:"Basket full of fresh vegetables"}],L4=()=>{const[n,e]=y.useState(0);return y.useEffect(()=>{const t=setTimeout(()=>{e(i=>i===F0.length-1?0:i+1)},5e3);return()=>clearTimeout(t)},[n]),I.jsx("div",{className:"carousel-wrapper",children:I.jsx("div",{className:"carousel-slider",style:{transform:`translateX(-${n*100}%)`},children:F0.map((t,i)=>I.jsxs("div",{className:"carousel-slide-item",children:[I.jsxs("div",{className:"slide-text-content",children:[I.jsx("span",{className:"organic-tag",children:"100% ORGANIC PRODUCT"}),I.jsx("h1",{className:"slide-headline",children:"Buy Delicious produce Enjoy Free Shipping"}),I.jsx("button",{className:"buy-now-btn",children:"BUY NOW >"})]}),I.jsxs("div",{className:"slide-image-content",children:[I.jsx("img",{src:t.image,alt:t.alt,className:"slide-image"}),I.jsxs("div",{className:"sale-sticker",children:[I.jsx("span",{className:"sale-text",children:"Sale Up To"}),I.jsx("span",{className:"sale-percent",children:"30%"}),I.jsx("span",{className:"sale-off",children:"OFF"})]})]})]},i))})})};var Mg={},Pg={},mu={},kg={},G0;function I4(){return G0||(G0=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e})(kg)),kg}var Dg,$0;function O4(){if($0)return Dg;$0=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt,p=typeof Oh=="object"&&Oh&&Oh.Object===Object&&Oh,g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")(),S=Object.prototype,C=S.toString,j=Math.max,k=Math.min,B=function(){return v.Date.now()};function H(M,z,O){var L,E,T,P,U,x,te=0,se=!1,G=!1,w=!0;if(typeof M!="function")throw new TypeError(n);z=X(z)||0,K(O)&&(se=!!O.leading,G="maxWait"in O,T=G?j(X(O.maxWait)||0,z):T,w="trailing"in O?!!O.trailing:w);function fe(pe){var _e=L,Ae=E;return L=E=void 0,te=pe,P=M.apply(Ae,_e),P}function F(pe){return te=pe,U=setTimeout(q,z),se?fe(pe):P}function _(pe){var _e=pe-x,Ae=pe-te,be=z-_e;return G?k(be,T-Ae):be}function D(pe){var _e=pe-x,Ae=pe-te;return x===void 0||_e>=z||_e<0||G&&Ae>=T}function q(){var pe=B();if(D(pe))return Y(pe);U=setTimeout(q,_(pe))}function Y(pe){return U=void 0,w&&L?fe(pe):(L=E=void 0,P)}function J(){U!==void 0&&clearTimeout(U),te=0,L=x=E=U=void 0}function W(){return U===void 0?P:Y(B())}function oe(){var pe=B(),_e=D(pe);if(L=arguments,E=this,x=pe,_e){if(U===void 0)return F(x);if(G)return U=setTimeout(q,z),fe(x)}return U===void 0&&(U=setTimeout(q,z)),P}return oe.cancel=J,oe.flush=W,oe}function K(M){var z=typeof M;return!!M&&(z=="object"||z=="function")}function Z(M){return!!M&&typeof M=="object"}function ne(M){return typeof M=="symbol"||Z(M)&&C.call(M)==t}function X(M){if(typeof M=="number")return M;if(ne(M))return e;if(K(M)){var z=typeof M.valueOf=="function"?M.valueOf():M;M=K(z)?z+"":z}if(typeof M!="string")return M===0?M:+M;M=M.replace(i,"");var O=l.test(M);return O||c.test(M)?f(M.slice(2),O?2:8):a.test(M)?e:+M}return Dg=H,Dg}var Ng={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var K0;function cd(){return K0||(K0=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var f=arguments[c];f&&(l=a(l,i(f)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var f in l)e.call(l,f)&&l[f]&&(c=a(c,f));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Ng)),Ng.exports}var Se={},jg={},W0;function YC(){return W0||(W0=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(oi());function t(a){return a&&a.__esModule?a:{default:a}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(l){return e.default.createElement("ul",{style:{display:"block"}},l)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(l){return e.default.createElement("button",null,l+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i})(jg)),jg}var Y0;function uc(){if(Y0)return Se;Y0=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.checkSpecKeys=Se.checkNavigable=Se.changeSlide=Se.canUseDOM=Se.canGoNext=void 0,Se.clamp=g,Se.extractObject=void 0,Se.filterSettings=fe,Se.validSettings=Se.swipeStart=Se.swipeMove=Se.swipeEnd=Se.slidesOnRight=Se.slidesOnLeft=Se.slideHandler=Se.siblingDirection=Se.safePreventDefault=Se.lazyStartIndex=Se.lazySlidesOnRight=Se.lazySlidesOnLeft=Se.lazyEndIndex=Se.keyHandler=Se.initializedState=Se.getWidth=Se.getTrackLeft=Se.getTrackCSS=Se.getTrackAnimateCSS=Se.getTotalSlides=Se.getSwipeDirection=Se.getSlideCount=Se.getRequiredLazySlides=Se.getPreClones=Se.getPostClones=Se.getOnDemandLazySlides=Se.getNavigableIndexes=Se.getHeight=void 0;var n=t(oi()),e=t(YC());function t(F){return F&&F.__esModule?F:{default:F}}function i(F){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},i(F)}function a(F,_){var D=Object.keys(F);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(F);_&&(q=q.filter(function(Y){return Object.getOwnPropertyDescriptor(F,Y).enumerable})),D.push.apply(D,q)}return D}function l(F){for(var _=1;_<arguments.length;_++){var D=arguments[_]!=null?arguments[_]:{};_%2?a(Object(D),!0).forEach(function(q){c(F,q,D[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(D)):a(Object(D)).forEach(function(q){Object.defineProperty(F,q,Object.getOwnPropertyDescriptor(D,q))})}return F}function c(F,_,D){return(_=f(_))in F?Object.defineProperty(F,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):F[_]=D,F}function f(F){var _=p(F,"string");return i(_)=="symbol"?_:_+""}function p(F,_){if(i(F)!="object"||!F)return F;var D=F[Symbol.toPrimitive];if(D!==void 0){var q=D.call(F,_);if(i(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(F)}function g(F,_,D){return Math.max(_,Math.min(F,D))}var v=Se.safePreventDefault=function(_){var D=["onTouchStart","onTouchMove","onWheel"];D.includes(_._reactName)||_.preventDefault()},S=Se.getOnDemandLazySlides=function(_){for(var D=[],q=C(_),Y=j(_),J=q;J<Y;J++)_.lazyLoadedList.indexOf(J)<0&&D.push(J);return D};Se.getRequiredLazySlides=function(_){for(var D=[],q=C(_),Y=j(_),J=q;J<Y;J++)D.push(J);return D};var C=Se.lazyStartIndex=function(_){return _.currentSlide-k(_)},j=Se.lazyEndIndex=function(_){return _.currentSlide+B(_)},k=Se.lazySlidesOnLeft=function(_){return _.centerMode?Math.floor(_.slidesToShow/2)+(parseInt(_.centerPadding)>0?1:0):0},B=Se.lazySlidesOnRight=function(_){return _.centerMode?Math.floor((_.slidesToShow-1)/2)+1+(parseInt(_.centerPadding)>0?1:0):_.slidesToShow},H=Se.getWidth=function(_){return _&&_.offsetWidth||0},K=Se.getHeight=function(_){return _&&_.offsetHeight||0},Z=Se.getSwipeDirection=function(_){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,q,Y,J,W;return q=_.startX-_.curX,Y=_.startY-_.curY,J=Math.atan2(Y,q),W=Math.round(J*180/Math.PI),W<0&&(W=360-Math.abs(W)),W<=45&&W>=0||W<=360&&W>=315?"left":W>=135&&W<=225?"right":D===!0?W>=35&&W<=135?"up":"down":"vertical"},ne=Se.canGoNext=function(_){var D=!0;return _.infinite||(_.centerMode&&_.currentSlide>=_.slideCount-1||_.slideCount<=_.slidesToShow||_.currentSlide>=_.slideCount-_.slidesToShow)&&(D=!1),D};Se.extractObject=function(_,D){var q={};return D.forEach(function(Y){return q[Y]=_[Y]}),q},Se.initializedState=function(_){var D=n.default.Children.count(_.children),q=_.listRef,Y=Math.ceil(H(q)),J=_.trackRef&&_.trackRef.node,W=Math.ceil(H(J)),oe;if(_.vertical)oe=Y;else{var pe=_.centerMode&&parseInt(_.centerPadding)*2;typeof _.centerPadding=="string"&&_.centerPadding.slice(-1)==="%"&&(pe*=Y/100),oe=Math.ceil((Y-pe)/_.slidesToShow)}var _e=q&&K(q.querySelector('[data-index="0"]')),Ae=_e*_.slidesToShow,be=_.currentSlide===void 0?_.initialSlide:_.currentSlide;_.rtl&&_.currentSlide===void 0&&(be=D-1-_.initialSlide);var we=_.lazyLoadedList||[],je=S(l(l({},_),{},{currentSlide:be,lazyLoadedList:we}));we=we.concat(je);var ke={slideCount:D,slideWidth:oe,listWidth:Y,trackWidth:W,currentSlide:be,slideHeight:_e,listHeight:Ae,lazyLoadedList:we};return _.autoplaying===null&&_.autoplay&&(ke.autoplaying="playing"),ke},Se.slideHandler=function(_){var D=_.waitForAnimate,q=_.animating,Y=_.fade,J=_.infinite,W=_.index,oe=_.slideCount,pe=_.lazyLoad,_e=_.currentSlide,Ae=_.centerMode,be=_.slidesToScroll,we=_.slidesToShow,je=_.useCSS,ke=_.lazyLoadedList;if(D&&q)return{};var De=W,Re,yt,xe,_t={},ht={},bt=J?W:g(W,0,oe-1);if(Y){if(!J&&(W<0||W>=oe))return{};W<0?De=W+oe:W>=oe&&(De=W-oe),pe&&ke.indexOf(De)<0&&(ke=ke.concat(De)),_t={animating:!0,currentSlide:De,lazyLoadedList:ke,targetSlide:De},ht={animating:!1,targetSlide:De}}else Re=De,De<0?(Re=De+oe,J?oe%be!==0&&(Re=oe-oe%be):Re=0):!ne(_)&&De>_e?De=Re=_e:Ae&&De>=oe?(De=J?oe:oe-1,Re=J?0:oe-1):De>=oe&&(Re=De-oe,J?oe%be!==0&&(Re=0):Re=oe-we),!J&&De+we>=oe&&(Re=oe-we),yt=T(l(l({},_),{},{slideIndex:De})),xe=T(l(l({},_),{},{slideIndex:Re})),J||(yt===xe&&(De=Re),yt=xe),pe&&(ke=ke.concat(S(l(l({},_),{},{currentSlide:De})))),je?(_t={animating:!0,currentSlide:Re,trackStyle:E(l(l({},_),{},{left:yt})),lazyLoadedList:ke,targetSlide:bt},ht={animating:!1,currentSlide:Re,trackStyle:L(l(l({},_),{},{left:xe})),swipeLeft:null,targetSlide:bt}):_t={currentSlide:Re,trackStyle:L(l(l({},_),{},{left:xe})),lazyLoadedList:ke,targetSlide:bt};return{state:_t,nextState:ht}},Se.changeSlide=function(_,D){var q,Y,J,W,oe,pe=_.slidesToScroll,_e=_.slidesToShow,Ae=_.slideCount,be=_.currentSlide,we=_.targetSlide,je=_.lazyLoad,ke=_.infinite;if(W=Ae%pe!==0,q=W?0:(Ae-be)%pe,D.message==="previous")J=q===0?pe:_e-q,oe=be-J,je&&!ke&&(Y=be-J,oe=Y===-1?Ae-1:Y),ke||(oe=we-pe);else if(D.message==="next")J=q===0?pe:q,oe=be+J,je&&!ke&&(oe=(be+pe)%Ae+q),ke||(oe=we+pe);else if(D.message==="dots")oe=D.index*D.slidesToScroll;else if(D.message==="children"){if(oe=D.index,ke){var De=te(l(l({},_),{},{targetSlide:oe}));oe>D.currentSlide&&De==="left"?oe=oe-Ae:oe<D.currentSlide&&De==="right"&&(oe=oe+Ae)}}else D.message==="index"&&(oe=Number(D.index));return oe},Se.keyHandler=function(_,D,q){return _.target.tagName.match("TEXTAREA|INPUT|SELECT")||!D?"":_.keyCode===37?q?"next":"previous":_.keyCode===39?q?"previous":"next":""},Se.swipeStart=function(_,D,q){return _.target.tagName==="IMG"&&v(_),!D||!q&&_.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:_.touches?_.touches[0].pageX:_.clientX,startY:_.touches?_.touches[0].pageY:_.clientY,curX:_.touches?_.touches[0].pageX:_.clientX,curY:_.touches?_.touches[0].pageY:_.clientY}}},Se.swipeMove=function(_,D){var q=D.scrolling,Y=D.animating,J=D.vertical,W=D.swipeToSlide,oe=D.verticalSwiping,pe=D.rtl,_e=D.currentSlide,Ae=D.edgeFriction,be=D.edgeDragged,we=D.onEdge,je=D.swiped,ke=D.swiping,De=D.slideCount,Re=D.slidesToScroll,yt=D.infinite,xe=D.touchObject,_t=D.swipeEvent,ht=D.listHeight,bt=D.listWidth;if(!q){if(Y)return v(_);J&&W&&oe&&v(_);var wt,Ln={},mn=T(D);xe.curX=_.touches?_.touches[0].pageX:_.clientX,xe.curY=_.touches?_.touches[0].pageY:_.clientY,xe.swipeLength=Math.round(Math.sqrt(Math.pow(xe.curX-xe.startX,2)));var pr=Math.round(Math.sqrt(Math.pow(xe.curY-xe.startY,2)));if(!oe&&!ke&&pr>10)return{scrolling:!0};oe&&(xe.swipeLength=pr);var Dn=(pe?-1:1)*(xe.curX>xe.startX?1:-1);oe&&(Dn=xe.curY>xe.startY?1:-1);var Et=Math.ceil(De/Re),qe=Z(D.touchObject,oe),xt=xe.swipeLength;return yt||(_e===0&&(qe==="right"||qe==="down")||_e+1>=Et&&(qe==="left"||qe==="up")||!ne(D)&&(qe==="left"||qe==="up"))&&(xt=xe.swipeLength*Ae,be===!1&&we&&(we(qe),Ln.edgeDragged=!0)),!je&&_t&&(_t(qe),Ln.swiped=!0),J?wt=mn+xt*(ht/bt)*Dn:pe?wt=mn-xt*Dn:wt=mn+xt*Dn,oe&&(wt=mn+xt*Dn),Ln=l(l({},Ln),{},{touchObject:xe,swipeLeft:wt,trackStyle:L(l(l({},D),{},{left:wt}))}),Math.abs(xe.curX-xe.startX)<Math.abs(xe.curY-xe.startY)*.8||xe.swipeLength>10&&(Ln.swiping=!0,v(_)),Ln}},Se.swipeEnd=function(_,D){var q=D.dragging,Y=D.swipe,J=D.touchObject,W=D.listWidth,oe=D.touchThreshold,pe=D.verticalSwiping,_e=D.listHeight,Ae=D.swipeToSlide,be=D.scrolling,we=D.onSwipe,je=D.targetSlide,ke=D.currentSlide,De=D.infinite;if(!q)return Y&&v(_),{};var Re=pe?_e/oe:W/oe,yt=Z(J,pe),xe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(be||!J.swipeLength)return xe;if(J.swipeLength>Re){v(_),we&&we(yt);var _t,ht,bt=De?ke:je;switch(yt){case"left":case"up":ht=bt+z(D),_t=Ae?M(D,ht):ht,xe.currentDirection=0;break;case"right":case"down":ht=bt-z(D),_t=Ae?M(D,ht):ht,xe.currentDirection=1;break;default:_t=bt}xe.triggerSlideHandler=_t}else{var wt=T(D);xe.trackStyle=E(l(l({},D),{},{left:wt}))}return xe};var X=Se.getNavigableIndexes=function(_){for(var D=_.infinite?_.slideCount*2:_.slideCount,q=_.infinite?_.slidesToShow*-1:0,Y=_.infinite?_.slidesToShow*-1:0,J=[];q<D;)J.push(q),q=Y+_.slidesToScroll,Y+=Math.min(_.slidesToScroll,_.slidesToShow);return J},M=Se.checkNavigable=function(_,D){var q=X(_),Y=0;if(D>q[q.length-1])D=q[q.length-1];else for(var J in q){if(D<q[J]){D=Y;break}Y=q[J]}return D},z=Se.getSlideCount=function(_){var D=_.centerMode?_.slideWidth*Math.floor(_.slidesToShow/2):0;if(_.swipeToSlide){var q,Y=_.listRef,J=Y.querySelectorAll&&Y.querySelectorAll(".slick-slide")||[];if(Array.from(J).every(function(pe){if(_.vertical){if(pe.offsetTop+K(pe)/2>_.swipeLeft*-1)return q=pe,!1}else if(pe.offsetLeft-D+H(pe)/2>_.swipeLeft*-1)return q=pe,!1;return!0}),!q)return 0;var W=_.rtl===!0?_.slideCount-_.currentSlide:_.currentSlide,oe=Math.abs(q.dataset.index-W)||1;return oe}else return _.slidesToScroll},O=Se.checkSpecKeys=function(_,D){return D.reduce(function(q,Y){return q&&_.hasOwnProperty(Y)},!0)?null:console.error("Keys Missing:",_)},L=Se.getTrackCSS=function(_){O(_,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var D,q;if(!_.vertical)D=x(_)*_.slideWidth;else{var Y=_.unslick?_.slideCount:_.slideCount+2*_.slidesToShow;q=Y*_.slideHeight}var J={opacity:1,transition:"",WebkitTransition:""};if(_.useTransform){var W=_.vertical?"translate3d(0px, "+_.left+"px, 0px)":"translate3d("+_.left+"px, 0px, 0px)",oe=_.vertical?"translate3d(0px, "+_.left+"px, 0px)":"translate3d("+_.left+"px, 0px, 0px)",pe=_.vertical?"translateY("+_.left+"px)":"translateX("+_.left+"px)";J=l(l({},J),{},{WebkitTransform:W,transform:oe,msTransform:pe})}else _.vertical?J.top=_.left:J.left=_.left;return _.fade&&(J={opacity:1}),D&&(J.width=D),q&&(J.height=q),window&&!window.addEventListener&&window.attachEvent&&(_.vertical?J.marginTop=_.left+"px":J.marginLeft=_.left+"px"),J},E=Se.getTrackAnimateCSS=function(_){O(_,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var D=L(_);return _.useTransform?(D.WebkitTransition="-webkit-transform "+_.speed+"ms "+_.cssEase,D.transition="transform "+_.speed+"ms "+_.cssEase):_.vertical?D.transition="top "+_.speed+"ms "+_.cssEase:D.transition="left "+_.speed+"ms "+_.cssEase,D},T=Se.getTrackLeft=function(_){if(_.unslick)return 0;O(_,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var D=_.slideIndex,q=_.trackRef,Y=_.infinite,J=_.centerMode,W=_.slideCount,oe=_.slidesToShow,pe=_.slidesToScroll,_e=_.slideWidth,Ae=_.listWidth,be=_.variableWidth,we=_.slideHeight,je=_.fade,ke=_.vertical,De=0,Re,yt,xe=0;if(je||_.slideCount===1)return 0;var _t=0;if(Y?(_t=-P(_),W%pe!==0&&D+pe>W&&(_t=-(D>W?oe-(D-W):W%pe)),J&&(_t+=parseInt(oe/2))):(W%pe!==0&&D+pe>W&&(_t=oe-W%pe),J&&(_t=parseInt(oe/2))),De=_t*_e,xe=_t*we,ke?Re=D*we*-1+xe:Re=D*_e*-1+De,be===!0){var ht,bt=q&&q.node;if(ht=D+P(_),yt=bt&&bt.childNodes[ht],Re=yt?yt.offsetLeft*-1:0,J===!0){ht=Y?D+P(_):D,yt=bt&&bt.children[ht],Re=0;for(var wt=0;wt<ht;wt++)Re-=bt&&bt.children[wt]&&bt.children[wt].offsetWidth;Re-=parseInt(_.centerPadding),Re+=yt&&(Ae-yt.offsetWidth)/2}}return Re},P=Se.getPreClones=function(_){return _.unslick||!_.infinite?0:_.variableWidth?_.slideCount:_.slidesToShow+(_.centerMode?1:0)},U=Se.getPostClones=function(_){return _.unslick||!_.infinite?0:_.variableWidth?_.slideCount:_.slidesToShow+(_.centerMode?1:0)},x=Se.getTotalSlides=function(_){return _.slideCount===1?1:P(_)+_.slideCount+U(_)},te=Se.siblingDirection=function(_){return _.targetSlide>_.currentSlide?_.targetSlide>_.currentSlide+se(_)?"left":"right":_.targetSlide<_.currentSlide-G(_)?"right":"left"},se=Se.slidesOnRight=function(_){var D=_.slidesToShow,q=_.centerMode,Y=_.rtl,J=_.centerPadding;if(q){var W=(D-1)/2+1;return parseInt(J)>0&&(W+=1),Y&&D%2===0&&(W+=1),W}return Y?0:D-1},G=Se.slidesOnLeft=function(_){var D=_.slidesToShow,q=_.centerMode,Y=_.rtl,J=_.centerPadding;if(q){var W=(D-1)/2+1;return parseInt(J)>0&&(W+=1),!Y&&D%2===0&&(W+=1),W}return Y?D-1:0};Se.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var w=Se.validSettings=Object.keys(e.default);function fe(F){return w.reduce(function(_,D){return F.hasOwnProperty(D)&&(_[D]=F[D]),_},{})}return Se}var vu={},Q0;function x4(){if(Q0)return vu;Q0=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.Track=void 0;var n=i(oi()),e=i(cd()),t=uc();function i(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},a(E)}function l(){return l=Object.assign?Object.assign.bind():function(E){for(var T=1;T<arguments.length;T++){var P=arguments[T];for(var U in P)({}).hasOwnProperty.call(P,U)&&(E[U]=P[U])}return E},l.apply(null,arguments)}function c(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function f(E,T){for(var P=0;P<T.length;P++){var U=T[P];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,ne(U.key),U)}}function p(E,T,P){return T&&f(E.prototype,T),Object.defineProperty(E,"prototype",{writable:!1}),E}function g(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),T&&v(E,T)}function v(E,T){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,U){return P.__proto__=U,P},v(E,T)}function S(E){var T=k();return function(){var P,U=B(E);if(T){var x=B(this).constructor;P=Reflect.construct(U,arguments,x)}else P=U.apply(this,arguments);return C(this,P)}}function C(E,T){if(T&&(a(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(E)}function j(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function k(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k=function(){return!!E})()}function B(E){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},B(E)}function H(E,T){var P=Object.keys(E);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(E);T&&(U=U.filter(function(x){return Object.getOwnPropertyDescriptor(E,x).enumerable})),P.push.apply(P,U)}return P}function K(E){for(var T=1;T<arguments.length;T++){var P=arguments[T]!=null?arguments[T]:{};T%2?H(Object(P),!0).forEach(function(U){Z(E,U,P[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(P)):H(Object(P)).forEach(function(U){Object.defineProperty(E,U,Object.getOwnPropertyDescriptor(P,U))})}return E}function Z(E,T,P){return(T=ne(T))in E?Object.defineProperty(E,T,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[T]=P,E}function ne(E){var T=X(E,"string");return a(T)=="symbol"?T:T+""}function X(E,T){if(a(E)!="object"||!E)return E;var P=E[Symbol.toPrimitive];if(P!==void 0){var U=P.call(E,T);if(a(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(E)}var M=function(T){var P,U,x,te,se;T.rtl?se=T.slideCount-1-T.index:se=T.index,x=se<0||se>=T.slideCount,T.centerMode?(te=Math.floor(T.slidesToShow/2),U=(se-T.currentSlide)%T.slideCount===0,se>T.currentSlide-te-1&&se<=T.currentSlide+te&&(P=!0)):P=T.currentSlide<=se&&se<T.currentSlide+T.slidesToShow;var G;T.targetSlide<0?G=T.targetSlide+T.slideCount:T.targetSlide>=T.slideCount?G=T.targetSlide-T.slideCount:G=T.targetSlide;var w=se===G;return{"slick-slide":!0,"slick-active":P,"slick-center":U,"slick-cloned":x,"slick-current":w}},z=function(T){var P={};return(T.variableWidth===void 0||T.variableWidth===!1)&&(P.width=T.slideWidth),T.fade&&(P.position="relative",T.vertical?P.top=-T.index*parseInt(T.slideHeight):P.left=-T.index*parseInt(T.slideWidth),P.opacity=T.currentSlide===T.index?1:0,P.zIndex=T.currentSlide===T.index?999:998,T.useCSS&&(P.transition="opacity "+T.speed+"ms "+T.cssEase+", visibility "+T.speed+"ms "+T.cssEase)),P},O=function(T,P){return T.key||P},L=function(T){var P,U=[],x=[],te=[],se=n.default.Children.count(T.children),G=(0,t.lazyStartIndex)(T),w=(0,t.lazyEndIndex)(T);return n.default.Children.forEach(T.children,function(fe,F){var _,D={message:"children",index:F,slidesToScroll:T.slidesToScroll,currentSlide:T.currentSlide};!T.lazyLoad||T.lazyLoad&&T.lazyLoadedList.indexOf(F)>=0?_=fe:_=n.default.createElement("div",null);var q=z(K(K({},T),{},{index:F})),Y=_.props.className||"",J=M(K(K({},T),{},{index:F}));if(U.push(n.default.cloneElement(_,{key:"original"+O(_,F),"data-index":F,className:(0,e.default)(J,Y),tabIndex:"-1","aria-hidden":!J["slick-active"],style:K(K({outline:"none"},_.props.style||{}),q),onClick:function(pe){_.props&&_.props.onClick&&_.props.onClick(pe),T.focusOnSelect&&T.focusOnSelect(D)}})),T.infinite&&se>1&&T.fade===!1&&!T.unslick){var W=se-F;W<=(0,t.getPreClones)(T)&&(P=-W,P>=G&&(_=fe),J=M(K(K({},T),{},{index:P})),x.push(n.default.cloneElement(_,{key:"precloned"+O(_,P),"data-index":P,tabIndex:"-1",className:(0,e.default)(J,Y),"aria-hidden":!J["slick-active"],style:K(K({},_.props.style||{}),q),onClick:function(pe){_.props&&_.props.onClick&&_.props.onClick(pe),T.focusOnSelect&&T.focusOnSelect(D)}}))),F<(0,t.getPostClones)(T)&&(P=se+F,P<w&&(_=fe),J=M(K(K({},T),{},{index:P})),te.push(n.default.cloneElement(_,{key:"postcloned"+O(_,P),"data-index":P,tabIndex:"-1",className:(0,e.default)(J,Y),"aria-hidden":!J["slick-active"],style:K(K({},_.props.style||{}),q),onClick:function(pe){_.props&&_.props.onClick&&_.props.onClick(pe),T.focusOnSelect&&T.focusOnSelect(D)}})))}}),T.rtl?x.concat(U,te).reverse():x.concat(U,te)};return vu.Track=(function(E){g(P,E);var T=S(P);function P(){var U;c(this,P);for(var x=arguments.length,te=new Array(x),se=0;se<x;se++)te[se]=arguments[se];return U=T.call.apply(T,[this].concat(te)),Z(j(U),"node",null),Z(j(U),"handleRef",function(G){U.node=G}),U}return p(P,[{key:"render",value:function(){var x=L(this.props),te=this.props,se=te.onMouseEnter,G=te.onMouseOver,w=te.onMouseLeave,fe={onMouseEnter:se,onMouseOver:G,onMouseLeave:w};return n.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},fe),x)}}]),P})(n.default.PureComponent),vu}var yu={},X0;function M4(){if(X0)return yu;X0=1;function n(M){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},n(M)}Object.defineProperty(yu,"__esModule",{value:!0}),yu.Dots=void 0;var e=a(oi()),t=a(cd()),i=uc();function a(M){return M&&M.__esModule?M:{default:M}}function l(M,z){var O=Object.keys(M);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(M);z&&(L=L.filter(function(E){return Object.getOwnPropertyDescriptor(M,E).enumerable})),O.push.apply(O,L)}return O}function c(M){for(var z=1;z<arguments.length;z++){var O=arguments[z]!=null?arguments[z]:{};z%2?l(Object(O),!0).forEach(function(L){f(M,L,O[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(O)):l(Object(O)).forEach(function(L){Object.defineProperty(M,L,Object.getOwnPropertyDescriptor(O,L))})}return M}function f(M,z,O){return(z=S(z))in M?Object.defineProperty(M,z,{value:O,enumerable:!0,configurable:!0,writable:!0}):M[z]=O,M}function p(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}function g(M,z){for(var O=0;O<z.length;O++){var L=z[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,S(L.key),L)}}function v(M,z,O){return z&&g(M.prototype,z),Object.defineProperty(M,"prototype",{writable:!1}),M}function S(M){var z=C(M,"string");return n(z)=="symbol"?z:z+""}function C(M,z){if(n(M)!="object"||!M)return M;var O=M[Symbol.toPrimitive];if(O!==void 0){var L=O.call(M,z);if(n(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function j(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),z&&k(M,z)}function k(M,z){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},k(M,z)}function B(M){var z=Z();return function(){var O,L=ne(M);if(z){var E=ne(this).constructor;O=Reflect.construct(L,arguments,E)}else O=L.apply(this,arguments);return H(this,O)}}function H(M,z){if(z&&(n(z)=="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K(M)}function K(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function Z(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z=function(){return!!M})()}function ne(M){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},ne(M)}var X=function(z){var O;return z.infinite?O=Math.ceil(z.slideCount/z.slidesToScroll):O=Math.ceil((z.slideCount-z.slidesToShow)/z.slidesToScroll)+1,O};return yu.Dots=(function(M){j(O,M);var z=B(O);function O(){return p(this,O),z.apply(this,arguments)}return v(O,[{key:"clickHandler",value:function(E,T){T.preventDefault(),this.props.clickHandler(E)}},{key:"render",value:function(){for(var E=this.props,T=E.onMouseEnter,P=E.onMouseOver,U=E.onMouseLeave,x=E.infinite,te=E.slidesToScroll,se=E.slidesToShow,G=E.slideCount,w=E.currentSlide,fe=X({slideCount:G,slidesToScroll:te,slidesToShow:se,infinite:x}),F={onMouseEnter:T,onMouseOver:P,onMouseLeave:U},_=[],D=0;D<fe;D++){var q=(D+1)*te-1,Y=x?q:(0,i.clamp)(q,0,G-1),J=Y-(te-1),W=x?J:(0,i.clamp)(J,0,G-1),oe=(0,t.default)({"slick-active":x?w>=W&&w<=Y:w===W}),pe={message:"dots",index:D,slidesToScroll:te,currentSlide:w},_e=this.clickHandler.bind(this,pe);_=_.concat(e.default.createElement("li",{key:D,className:oe},e.default.cloneElement(this.props.customPaging(D),{onClick:_e})))}return e.default.cloneElement(this.props.appendDots(_),c({className:this.props.dotsClass},F))}}]),O})(e.default.PureComponent),yu}var wa={},Z0;function P4(){if(Z0)return wa;Z0=1;function n(M){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},n(M)}Object.defineProperty(wa,"__esModule",{value:!0}),wa.PrevArrow=wa.NextArrow=void 0;var e=a(oi()),t=a(cd()),i=uc();function a(M){return M&&M.__esModule?M:{default:M}}function l(){return l=Object.assign?Object.assign.bind():function(M){for(var z=1;z<arguments.length;z++){var O=arguments[z];for(var L in O)({}).hasOwnProperty.call(O,L)&&(M[L]=O[L])}return M},l.apply(null,arguments)}function c(M,z){var O=Object.keys(M);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(M);z&&(L=L.filter(function(E){return Object.getOwnPropertyDescriptor(M,E).enumerable})),O.push.apply(O,L)}return O}function f(M){for(var z=1;z<arguments.length;z++){var O=arguments[z]!=null?arguments[z]:{};z%2?c(Object(O),!0).forEach(function(L){p(M,L,O[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(O)):c(Object(O)).forEach(function(L){Object.defineProperty(M,L,Object.getOwnPropertyDescriptor(O,L))})}return M}function p(M,z,O){return(z=C(z))in M?Object.defineProperty(M,z,{value:O,enumerable:!0,configurable:!0,writable:!0}):M[z]=O,M}function g(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}function v(M,z){for(var O=0;O<z.length;O++){var L=z[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,C(L.key),L)}}function S(M,z,O){return z&&v(M.prototype,z),Object.defineProperty(M,"prototype",{writable:!1}),M}function C(M){var z=j(M,"string");return n(z)=="symbol"?z:z+""}function j(M,z){if(n(M)!="object"||!M)return M;var O=M[Symbol.toPrimitive];if(O!==void 0){var L=O.call(M,z);if(n(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function k(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),z&&B(M,z)}function B(M,z){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},B(M,z)}function H(M){var z=ne();return function(){var O,L=X(M);if(z){var E=X(this).constructor;O=Reflect.construct(L,arguments,E)}else O=L.apply(this,arguments);return K(this,O)}}function K(M,z){if(z&&(n(z)=="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(M)}function Z(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function ne(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ne=function(){return!!M})()}function X(M){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},X(M)}return wa.PrevArrow=(function(M){k(O,M);var z=H(O);function O(){return g(this,O),z.apply(this,arguments)}return S(O,[{key:"clickHandler",value:function(E,T){T&&T.preventDefault(),this.props.clickHandler(E,T)}},{key:"render",value:function(){var E={"slick-arrow":!0,"slick-prev":!0},T=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(E["slick-disabled"]=!0,T=null);var P={key:"0","data-role":"none",className:(0,t.default)(E),style:{display:"block"},onClick:T},U={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},x;return this.props.prevArrow?x=e.default.cloneElement(this.props.prevArrow,f(f({},P),U)):x=e.default.createElement("button",l({key:"0",type:"button"},P)," ","Previous"),x}}]),O})(e.default.PureComponent),wa.NextArrow=(function(M){k(O,M);var z=H(O);function O(){return g(this,O),z.apply(this,arguments)}return S(O,[{key:"clickHandler",value:function(E,T){T&&T.preventDefault(),this.props.clickHandler(E,T)}},{key:"render",value:function(){var E={"slick-arrow":!0,"slick-next":!0},T=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(E["slick-disabled"]=!0,T=null);var P={key:"1","data-role":"none",className:(0,t.default)(E),style:{display:"block"},onClick:T},U={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},x;return this.props.nextArrow?x=e.default.cloneElement(this.props.nextArrow,f(f({},P),U)):x=e.default.createElement("button",l({key:"1",type:"button"},P)," ","Next"),x}}]),O})(e.default.PureComponent),wa}var QC=(function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(a,l){return a[0]===t?(i=l,!0):!1}),i}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),a=this.__entries__[i];return a&&a[1]},e.prototype.set=function(t,i){var a=n(this.__entries__,t);~a?this.__entries__[a][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,a=n(i,t);~a&&i.splice(a,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var a=0,l=this.__entries__;a<l.length;a++){var c=l[a];t.call(i,c[1],c[0])}},e})()})(),Em=typeof window<"u"&&typeof document<"u"&&window.document===document,Cf=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),k4=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Cf):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}})(),D4=2;function N4(n,e){var t=!1,i=!1,a=0;function l(){t&&(t=!1,n()),i&&f()}function c(){k4(l)}function f(){var p=Date.now();if(t){if(p-a<D4)return;i=!0}else t=!0,i=!1,setTimeout(c,e);a=p}return f}var j4=20,V4=["top","right","bottom","left","width","height","size","weight"],U4=typeof MutationObserver<"u",z4=(function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=N4(this.refresh.bind(this),j4)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Em||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),U4?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Em||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,a=V4.some(function(l){return!!~i.indexOf(l)});a&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n})(),XC=(function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var a=i[t];Object.defineProperty(n,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return n}),el=(function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Cf}),ZC=hd(0,0,0,0);function Af(n){return parseFloat(n)||0}function J0(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,a){var l=n["border-"+a+"-width"];return i+Af(l)},0)}function B4(n){for(var e=["top","right","bottom","left"],t={},i=0,a=e;i<a.length;i++){var l=a[i],c=n["padding-"+l];t[l]=Af(c)}return t}function H4(n){var e=n.getBBox();return hd(0,0,e.width,e.height)}function q4(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return ZC;var i=el(n).getComputedStyle(n),a=B4(i),l=a.left+a.right,c=a.top+a.bottom,f=Af(i.width),p=Af(i.height);if(i.boxSizing==="border-box"&&(Math.round(f+l)!==e&&(f-=J0(i,"left","right")+l),Math.round(p+c)!==t&&(p-=J0(i,"top","bottom")+c)),!G4(n)){var g=Math.round(f+l)-e,v=Math.round(p+c)-t;Math.abs(g)!==1&&(f-=g),Math.abs(v)!==1&&(p-=v)}return hd(a.left,a.top,f,p)}var F4=(function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof el(n).SVGGraphicsElement}:function(n){return n instanceof el(n).SVGElement&&typeof n.getBBox=="function"}})();function G4(n){return n===el(n).document.documentElement}function $4(n){return Em?F4(n)?H4(n):q4(n):ZC}function K4(n){var e=n.x,t=n.y,i=n.width,a=n.height,l=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(l.prototype);return XC(c,{x:e,y:t,width:i,height:a,top:t,right:e+i,bottom:a+t,left:e}),c}function hd(n,e,t,i){return{x:n,y:e,width:t,height:i}}var W4=(function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=hd(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=$4(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n})(),Y4=(function(){function n(e,t){var i=K4(t);XC(this,{target:e,contentRect:i})}return n})(),Q4=(function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new QC,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof el(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new W4(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof el(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new Y4(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n})(),JC=typeof WeakMap<"u"?new WeakMap:new QC,eA=(function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=z4.getInstance(),i=new Q4(e,t,this);JC.set(this,i)}return n})();["observe","unobserve","disconnect"].forEach(function(n){eA.prototype[n]=function(){var e;return(e=JC.get(this))[n].apply(e,arguments)}});var X4=(function(){return typeof Cf.ResizeObserver<"u"?Cf.ResizeObserver:eA})();const Z4=Object.freeze(Object.defineProperty({__proto__:null,default:X4},Symbol.toStringTag,{value:"Module"})),J4=HR(Z4);var eS;function ej(){if(eS)return mu;eS=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.InnerSlider=void 0;var n=g(oi()),e=g(I4()),t=g(O4()),i=g(cd()),a=uc(),l=x4(),c=M4(),f=P4(),p=g(J4);function g(x){return x&&x.__esModule?x:{default:x}}function v(x){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},v(x)}function S(){return S=Object.assign?Object.assign.bind():function(x){for(var te=1;te<arguments.length;te++){var se=arguments[te];for(var G in se)({}).hasOwnProperty.call(se,G)&&(x[G]=se[G])}return x},S.apply(null,arguments)}function C(x,te){if(x==null)return{};var se,G,w=j(x,te);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(x);for(G=0;G<fe.length;G++)se=fe[G],te.includes(se)||{}.propertyIsEnumerable.call(x,se)&&(w[se]=x[se])}return w}function j(x,te){if(x==null)return{};var se={};for(var G in x)if({}.hasOwnProperty.call(x,G)){if(te.includes(G))continue;se[G]=x[G]}return se}function k(x,te){var se=Object.keys(x);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(x);te&&(G=G.filter(function(w){return Object.getOwnPropertyDescriptor(x,w).enumerable})),se.push.apply(se,G)}return se}function B(x){for(var te=1;te<arguments.length;te++){var se=arguments[te]!=null?arguments[te]:{};te%2?k(Object(se),!0).forEach(function(G){T(x,G,se[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(se)):k(Object(se)).forEach(function(G){Object.defineProperty(x,G,Object.getOwnPropertyDescriptor(se,G))})}return x}function H(x,te){if(!(x instanceof te))throw new TypeError("Cannot call a class as a function")}function K(x,te){for(var se=0;se<te.length;se++){var G=te[se];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(x,P(G.key),G)}}function Z(x,te,se){return te&&K(x.prototype,te),Object.defineProperty(x,"prototype",{writable:!1}),x}function ne(x,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(te&&te.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),te&&X(x,te)}function X(x,te){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,G){return se.__proto__=G,se},X(x,te)}function M(x){var te=L();return function(){var se,G=E(x);if(te){var w=E(this).constructor;se=Reflect.construct(G,arguments,w)}else se=G.apply(this,arguments);return z(this,se)}}function z(x,te){if(te&&(v(te)=="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(x)}function O(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function L(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L=function(){return!!x})()}function E(x){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)},E(x)}function T(x,te,se){return(te=P(te))in x?Object.defineProperty(x,te,{value:se,enumerable:!0,configurable:!0,writable:!0}):x[te]=se,x}function P(x){var te=U(x,"string");return v(te)=="symbol"?te:te+""}function U(x,te){if(v(x)!="object"||!x)return x;var se=x[Symbol.toPrimitive];if(se!==void 0){var G=se.call(x,te);if(v(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(x)}return mu.InnerSlider=(function(x){ne(se,x);var te=M(se);function se(G){var w;H(this,se),w=te.call(this,G),T(O(w),"listRefHandler",function(F){return w.list=F}),T(O(w),"trackRefHandler",function(F){return w.track=F}),T(O(w),"adaptHeight",function(){if(w.props.adaptiveHeight&&w.list){var F=w.list.querySelector('[data-index="'.concat(w.state.currentSlide,'"]'));w.list.style.height=(0,a.getHeight)(F)+"px"}}),T(O(w),"componentDidMount",function(){if(w.props.onInit&&w.props.onInit(),w.props.lazyLoad){var F=(0,a.getOnDemandLazySlides)(B(B({},w.props),w.state));F.length>0&&(w.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(F)}}),w.props.onLazyLoad&&w.props.onLazyLoad(F))}var _=B({listRef:w.list,trackRef:w.track},w.props);w.updateState(_,!0,function(){w.adaptHeight(),w.props.autoplay&&w.autoPlay("update")}),w.props.lazyLoad==="progressive"&&(w.lazyLoadTimer=setInterval(w.progressiveLazyLoad,1e3)),w.ro=new p.default(function(){w.state.animating?(w.onWindowResized(!1),w.callbackTimers.push(setTimeout(function(){return w.onWindowResized()},w.props.speed))):w.onWindowResized()}),w.ro.observe(w.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(D){D.onfocus=w.props.pauseOnFocus?w.onSlideFocus:null,D.onblur=w.props.pauseOnFocus?w.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",w.onWindowResized):window.attachEvent("onresize",w.onWindowResized)}),T(O(w),"componentWillUnmount",function(){w.animationEndCallback&&clearTimeout(w.animationEndCallback),w.lazyLoadTimer&&clearInterval(w.lazyLoadTimer),w.callbackTimers.length&&(w.callbackTimers.forEach(function(F){return clearTimeout(F)}),w.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",w.onWindowResized):window.detachEvent("onresize",w.onWindowResized),w.autoplayTimer&&clearInterval(w.autoplayTimer),w.ro.disconnect()}),T(O(w),"componentDidUpdate",function(F){if(w.checkImagesLoad(),w.props.onReInit&&w.props.onReInit(),w.props.lazyLoad){var _=(0,a.getOnDemandLazySlides)(B(B({},w.props),w.state));_.length>0&&(w.setState(function(Y){return{lazyLoadedList:Y.lazyLoadedList.concat(_)}}),w.props.onLazyLoad&&w.props.onLazyLoad(_))}w.adaptHeight();var D=B(B({listRef:w.list,trackRef:w.track},w.props),w.state),q=w.didPropsChange(F);q&&w.updateState(D,q,function(){w.state.currentSlide>=n.default.Children.count(w.props.children)&&w.changeSlide({message:"index",index:n.default.Children.count(w.props.children)-w.props.slidesToShow,currentSlide:w.state.currentSlide}),w.props.autoplay?w.autoPlay("update"):w.pause("paused")})}),T(O(w),"onWindowResized",function(F){w.debouncedResize&&w.debouncedResize.cancel(),w.debouncedResize=(0,t.default)(function(){return w.resizeWindow(F)},50),w.debouncedResize()}),T(O(w),"resizeWindow",function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_=!!(w.track&&w.track.node);if(_){var D=B(B({listRef:w.list,trackRef:w.track},w.props),w.state);w.updateState(D,F,function(){w.props.autoplay?w.autoPlay("update"):w.pause("paused")}),w.setState({animating:!1}),clearTimeout(w.animationEndCallback),delete w.animationEndCallback}}),T(O(w),"updateState",function(F,_,D){var q=(0,a.initializedState)(F);F=B(B(B({},F),q),{},{slideIndex:q.currentSlide});var Y=(0,a.getTrackLeft)(F);F=B(B({},F),{},{left:Y});var J=(0,a.getTrackCSS)(F);(_||n.default.Children.count(w.props.children)!==n.default.Children.count(F.children))&&(q.trackStyle=J),w.setState(q,D)}),T(O(w),"ssrInit",function(){if(w.props.variableWidth){var F=0,_=0,D=[],q=(0,a.getPreClones)(B(B(B({},w.props),w.state),{},{slideCount:w.props.children.length})),Y=(0,a.getPostClones)(B(B(B({},w.props),w.state),{},{slideCount:w.props.children.length}));w.props.children.forEach(function(yt){D.push(yt.props.style.width),F+=yt.props.style.width});for(var J=0;J<q;J++)_+=D[D.length-1-J],F+=D[D.length-1-J];for(var W=0;W<Y;W++)F+=D[W];for(var oe=0;oe<w.state.currentSlide;oe++)_+=D[oe];var pe={width:F+"px",left:-_+"px"};if(w.props.centerMode){var _e="".concat(D[w.state.currentSlide],"px");pe.left="calc(".concat(pe.left," + (100% - ").concat(_e,") / 2 ) ")}return{trackStyle:pe}}var Ae=n.default.Children.count(w.props.children),be=B(B(B({},w.props),w.state),{},{slideCount:Ae}),we=(0,a.getPreClones)(be)+(0,a.getPostClones)(be)+Ae,je=100/w.props.slidesToShow*we,ke=100/we,De=-ke*((0,a.getPreClones)(be)+w.state.currentSlide)*je/100;w.props.centerMode&&(De+=(100-ke*je/100)/2);var Re={width:je+"%",left:De+"%"};return{slideWidth:ke+"%",trackStyle:Re}}),T(O(w),"checkImagesLoad",function(){var F=w.list&&w.list.querySelectorAll&&w.list.querySelectorAll(".slick-slide img")||[],_=F.length,D=0;Array.prototype.forEach.call(F,function(q){var Y=function(){return++D&&D>=_&&w.onWindowResized()};if(!q.onclick)q.onclick=function(){return q.parentNode.focus()};else{var J=q.onclick;q.onclick=function(W){J(W),q.parentNode.focus()}}q.onload||(w.props.lazyLoad?q.onload=function(){w.adaptHeight(),w.callbackTimers.push(setTimeout(w.onWindowResized,w.props.speed))}:(q.onload=Y,q.onerror=function(){Y(),w.props.onLazyLoadError&&w.props.onLazyLoadError()}))})}),T(O(w),"progressiveLazyLoad",function(){for(var F=[],_=B(B({},w.props),w.state),D=w.state.currentSlide;D<w.state.slideCount+(0,a.getPostClones)(_);D++)if(w.state.lazyLoadedList.indexOf(D)<0){F.push(D);break}for(var q=w.state.currentSlide-1;q>=-(0,a.getPreClones)(_);q--)if(w.state.lazyLoadedList.indexOf(q)<0){F.push(q);break}F.length>0?(w.setState(function(Y){return{lazyLoadedList:Y.lazyLoadedList.concat(F)}}),w.props.onLazyLoad&&w.props.onLazyLoad(F)):w.lazyLoadTimer&&(clearInterval(w.lazyLoadTimer),delete w.lazyLoadTimer)}),T(O(w),"slideHandler",function(F){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=w.props,q=D.asNavFor,Y=D.beforeChange,J=D.onLazyLoad,W=D.speed,oe=D.afterChange,pe=w.state.currentSlide,_e=(0,a.slideHandler)(B(B(B({index:F},w.props),w.state),{},{trackRef:w.track,useCSS:w.props.useCSS&&!_})),Ae=_e.state,be=_e.nextState;if(Ae){Y&&Y(pe,Ae.currentSlide);var we=Ae.lazyLoadedList.filter(function(je){return w.state.lazyLoadedList.indexOf(je)<0});J&&we.length>0&&J(we),!w.props.waitForAnimate&&w.animationEndCallback&&(clearTimeout(w.animationEndCallback),oe&&oe(pe),delete w.animationEndCallback),w.setState(Ae,function(){q&&w.asNavForIndex!==F&&(w.asNavForIndex=F,q.innerSlider.slideHandler(F)),be&&(w.animationEndCallback=setTimeout(function(){var je=be.animating,ke=C(be,["animating"]);w.setState(ke,function(){w.callbackTimers.push(setTimeout(function(){return w.setState({animating:je})},10)),oe&&oe(Ae.currentSlide),delete w.animationEndCallback})},W))})}}),T(O(w),"changeSlide",function(F){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=B(B({},w.props),w.state),q=(0,a.changeSlide)(D,F);if(!(q!==0&&!q)&&(_===!0?w.slideHandler(q,_):w.slideHandler(q),w.props.autoplay&&w.autoPlay("update"),w.props.focusOnSelect)){var Y=w.list.querySelectorAll(".slick-current");Y[0]&&Y[0].focus()}}),T(O(w),"clickHandler",function(F){w.clickable===!1&&(F.stopPropagation(),F.preventDefault()),w.clickable=!0}),T(O(w),"keyHandler",function(F){var _=(0,a.keyHandler)(F,w.props.accessibility,w.props.rtl);_!==""&&w.changeSlide({message:_})}),T(O(w),"selectHandler",function(F){w.changeSlide(F)}),T(O(w),"disableBodyScroll",function(){var F=function(D){D=D||window.event,D.preventDefault&&D.preventDefault(),D.returnValue=!1};window.ontouchmove=F}),T(O(w),"enableBodyScroll",function(){window.ontouchmove=null}),T(O(w),"swipeStart",function(F){w.props.verticalSwiping&&w.disableBodyScroll();var _=(0,a.swipeStart)(F,w.props.swipe,w.props.draggable);_!==""&&w.setState(_)}),T(O(w),"swipeMove",function(F){var _=(0,a.swipeMove)(F,B(B(B({},w.props),w.state),{},{trackRef:w.track,listRef:w.list,slideIndex:w.state.currentSlide}));_&&(_.swiping&&(w.clickable=!1),w.setState(_))}),T(O(w),"swipeEnd",function(F){var _=(0,a.swipeEnd)(F,B(B(B({},w.props),w.state),{},{trackRef:w.track,listRef:w.list,slideIndex:w.state.currentSlide}));if(_){var D=_.triggerSlideHandler;delete _.triggerSlideHandler,w.setState(_),D!==void 0&&(w.slideHandler(D),w.props.verticalSwiping&&w.enableBodyScroll())}}),T(O(w),"touchEnd",function(F){w.swipeEnd(F),w.clickable=!0}),T(O(w),"slickPrev",function(){w.callbackTimers.push(setTimeout(function(){return w.changeSlide({message:"previous"})},0))}),T(O(w),"slickNext",function(){w.callbackTimers.push(setTimeout(function(){return w.changeSlide({message:"next"})},0))}),T(O(w),"slickGoTo",function(F){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F=Number(F),isNaN(F))return"";w.callbackTimers.push(setTimeout(function(){return w.changeSlide({message:"index",index:F,currentSlide:w.state.currentSlide},_)},0))}),T(O(w),"play",function(){var F;if(w.props.rtl)F=w.state.currentSlide-w.props.slidesToScroll;else if((0,a.canGoNext)(B(B({},w.props),w.state)))F=w.state.currentSlide+w.props.slidesToScroll;else return!1;w.slideHandler(F)}),T(O(w),"autoPlay",function(F){w.autoplayTimer&&clearInterval(w.autoplayTimer);var _=w.state.autoplaying;if(F==="update"){if(_==="hovered"||_==="focused"||_==="paused")return}else if(F==="leave"){if(_==="paused"||_==="focused")return}else if(F==="blur"&&(_==="paused"||_==="hovered"))return;w.autoplayTimer=setInterval(w.play,w.props.autoplaySpeed+50),w.setState({autoplaying:"playing"})}),T(O(w),"pause",function(F){w.autoplayTimer&&(clearInterval(w.autoplayTimer),w.autoplayTimer=null);var _=w.state.autoplaying;F==="paused"?w.setState({autoplaying:"paused"}):F==="focused"?(_==="hovered"||_==="playing")&&w.setState({autoplaying:"focused"}):_==="playing"&&w.setState({autoplaying:"hovered"})}),T(O(w),"onDotsOver",function(){return w.props.autoplay&&w.pause("hovered")}),T(O(w),"onDotsLeave",function(){return w.props.autoplay&&w.state.autoplaying==="hovered"&&w.autoPlay("leave")}),T(O(w),"onTrackOver",function(){return w.props.autoplay&&w.pause("hovered")}),T(O(w),"onTrackLeave",function(){return w.props.autoplay&&w.state.autoplaying==="hovered"&&w.autoPlay("leave")}),T(O(w),"onSlideFocus",function(){return w.props.autoplay&&w.pause("focused")}),T(O(w),"onSlideBlur",function(){return w.props.autoplay&&w.state.autoplaying==="focused"&&w.autoPlay("blur")}),T(O(w),"render",function(){var F=(0,i.default)("slick-slider",w.props.className,{"slick-vertical":w.props.vertical,"slick-initialized":!0}),_=B(B({},w.props),w.state),D=(0,a.extractObject)(_,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),q=w.props.pauseOnHover;D=B(B({},D),{},{onMouseEnter:q?w.onTrackOver:null,onMouseLeave:q?w.onTrackLeave:null,onMouseOver:q?w.onTrackOver:null,focusOnSelect:w.props.focusOnSelect&&w.clickable?w.selectHandler:null});var Y;if(w.props.dots===!0&&w.state.slideCount>=w.props.slidesToShow){var J=(0,a.extractObject)(_,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),W=w.props.pauseOnDotsHover;J=B(B({},J),{},{clickHandler:w.changeSlide,onMouseEnter:W?w.onDotsLeave:null,onMouseOver:W?w.onDotsOver:null,onMouseLeave:W?w.onDotsLeave:null}),Y=n.default.createElement(c.Dots,J)}var oe,pe,_e=(0,a.extractObject)(_,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);_e.clickHandler=w.changeSlide,w.props.arrows&&(oe=n.default.createElement(f.PrevArrow,_e),pe=n.default.createElement(f.NextArrow,_e));var Ae=null;w.props.vertical&&(Ae={height:w.state.listHeight});var be=null;w.props.vertical===!1?w.props.centerMode===!0&&(be={padding:"0px "+w.props.centerPadding}):w.props.centerMode===!0&&(be={padding:w.props.centerPadding+" 0px"});var we=B(B({},Ae),be),je=w.props.touchMove,ke={className:"slick-list",style:we,onClick:w.clickHandler,onMouseDown:je?w.swipeStart:null,onMouseMove:w.state.dragging&&je?w.swipeMove:null,onMouseUp:je?w.swipeEnd:null,onMouseLeave:w.state.dragging&&je?w.swipeEnd:null,onTouchStart:je?w.swipeStart:null,onTouchMove:w.state.dragging&&je?w.swipeMove:null,onTouchEnd:je?w.touchEnd:null,onTouchCancel:w.state.dragging&&je?w.swipeEnd:null,onKeyDown:w.props.accessibility?w.keyHandler:null},De={className:F,dir:"ltr",style:w.props.style};return w.props.unslick&&(ke={className:"slick-list"},De={className:F,style:w.props.style}),n.default.createElement("div",De,w.props.unslick?"":oe,n.default.createElement("div",S({ref:w.listRefHandler},ke),n.default.createElement(l.Track,S({ref:w.trackRefHandler},D),w.props.children)),w.props.unslick?"":pe,w.props.unslick?"":Y)}),w.list=null,w.track=null,w.state=B(B({},e.default),{},{currentSlide:w.props.initialSlide,targetSlide:w.props.initialSlide?w.props.initialSlide:0,slideCount:n.default.Children.count(w.props.children)}),w.callbackTimers=[],w.clickable=!0,w.debouncedResize=null;var fe=w.ssrInit();return w.state=B(B({},w.state),fe),w}return Z(se,[{key:"didPropsChange",value:function(w){for(var fe=!1,F=0,_=Object.keys(this.props);F<_.length;F++){var D=_[F];if(!w.hasOwnProperty(D)){fe=!0;break}if(!(v(w[D])==="object"||typeof w[D]=="function"||isNaN(w[D]))&&w[D]!==this.props[D]){fe=!0;break}}return fe||n.default.Children.count(this.props.children)!==n.default.Children.count(w.children)}}]),se})(n.default.Component),mu}var Vg,tS;function tj(){if(tS)return Vg;tS=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return Vg=n,Vg}var Ug,nS;function nj(){if(nS)return Ug;nS=1;var n=tj(),e=function(a){var l=/[height|width]$/;return l.test(a)},t=function(a){var l="",c=Object.keys(a);return c.forEach(function(f,p){var g=a[f];f=n(f),e(f)&&typeof g=="number"&&(g=g+"px"),g===!0?l+=f:g===!1?l+="not "+f:l+="("+f+": "+g+")",p<c.length-1&&(l+=" and ")}),l},i=function(a){var l="";return typeof a=="string"?a:a instanceof Array?(a.forEach(function(c,f){l+=t(c),f<a.length-1&&(l+=", ")}),l):t(a)};return Ug=i,Ug}var rS;function rj(){return rS||(rS=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=c(oi()),t=ej(),i=c(nj()),a=c(YC()),l=uc();function c(L){return L&&L.__esModule?L:{default:L}}function f(L){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(L)}function p(){return p=Object.assign?Object.assign.bind():function(L){for(var E=1;E<arguments.length;E++){var T=arguments[E];for(var P in T)({}).hasOwnProperty.call(T,P)&&(L[P]=T[P])}return L},p.apply(null,arguments)}function g(L,E){var T=Object.keys(L);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(L);E&&(P=P.filter(function(U){return Object.getOwnPropertyDescriptor(L,U).enumerable})),T.push.apply(T,P)}return T}function v(L){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{};E%2?g(Object(T),!0).forEach(function(P){M(L,P,T[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(T)):g(Object(T)).forEach(function(P){Object.defineProperty(L,P,Object.getOwnPropertyDescriptor(T,P))})}return L}function S(L,E){if(!(L instanceof E))throw new TypeError("Cannot call a class as a function")}function C(L,E){for(var T=0;T<E.length;T++){var P=E[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(L,z(P.key),P)}}function j(L,E,T){return E&&C(L.prototype,E),Object.defineProperty(L,"prototype",{writable:!1}),L}function k(L,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(E&&E.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),E&&B(L,E)}function B(L,E){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,P){return T.__proto__=P,T},B(L,E)}function H(L){var E=ne();return function(){var T,P=X(L);if(E){var U=X(this).constructor;T=Reflect.construct(P,arguments,U)}else T=P.apply(this,arguments);return K(this,T)}}function K(L,E){if(E&&(f(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(L)}function Z(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function ne(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ne=function(){return!!L})()}function X(L){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},X(L)}function M(L,E,T){return(E=z(E))in L?Object.defineProperty(L,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):L[E]=T,L}function z(L){var E=O(L,"string");return f(E)=="symbol"?E:E+""}function O(L,E){if(f(L)!="object"||!L)return L;var T=L[Symbol.toPrimitive];if(T!==void 0){var P=T.call(L,E);if(f(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(L)}n.default=(function(L){k(T,L);var E=H(T);function T(P){var U;return S(this,T),U=E.call(this,P),M(Z(U),"innerSliderRefHandler",function(x){return U.innerSlider=x}),M(Z(U),"slickPrev",function(){return U.innerSlider.slickPrev()}),M(Z(U),"slickNext",function(){return U.innerSlider.slickNext()}),M(Z(U),"slickGoTo",function(x){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return U.innerSlider.slickGoTo(x,te)}),M(Z(U),"slickPause",function(){return U.innerSlider.pause("paused")}),M(Z(U),"slickPlay",function(){return U.innerSlider.autoPlay("play")}),U.state={breakpoint:null},U._responsiveMediaHandlers=[],U}return j(T,[{key:"media",value:function(U,x){var te=window.matchMedia(U),se=function(w){var fe=w.matches;fe&&x()};te.addListener(se),this._responsiveMediaHandlers.push({mql:te,query:U,listener:se})}},{key:"componentDidMount",value:function(){var U=this;if(this.props.responsive){var x=this.props.responsive.map(function(se){return se.breakpoint});x.sort(function(se,G){return se-G}),x.forEach(function(se,G){var w;G===0?w=(0,i.default)({minWidth:0,maxWidth:se}):w=(0,i.default)({minWidth:x[G-1]+1,maxWidth:se}),(0,l.canUseDOM)()&&U.media(w,function(){U.setState({breakpoint:se})})});var te=(0,i.default)({minWidth:x.slice(-1)[0]});(0,l.canUseDOM)()&&this.media(te,function(){U.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(U){U.mql.removeListener(U.listener)})}},{key:"render",value:function(){var U=this,x,te;this.state.breakpoint?(te=this.props.responsive.filter(function(J){return J.breakpoint===U.state.breakpoint}),x=te[0].settings==="unslick"?"unslick":v(v(v({},a.default),this.props),te[0].settings)):x=v(v({},a.default),this.props),x.centerMode&&(x.slidesToScroll>1,x.slidesToScroll=1),x.fade&&(x.slidesToShow>1,x.slidesToScroll>1,x.slidesToShow=1,x.slidesToScroll=1);var se=e.default.Children.toArray(this.props.children);se=se.filter(function(J){return typeof J=="string"?!!J.trim():!!J}),x.variableWidth&&(x.rows>1||x.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),x.variableWidth=!1);for(var G=[],w=null,fe=0;fe<se.length;fe+=x.rows*x.slidesPerRow){for(var F=[],_=fe;_<fe+x.rows*x.slidesPerRow;_+=x.slidesPerRow){for(var D=[],q=_;q<_+x.slidesPerRow&&(x.variableWidth&&se[q].props.style&&(w=se[q].props.style.width),!(q>=se.length));q+=1)D.push(e.default.cloneElement(se[q],{key:100*fe+10*_+q,tabIndex:-1,style:{width:"".concat(100/x.slidesPerRow,"%"),display:"inline-block"}}));F.push(e.default.createElement("div",{key:10*fe+_},D))}x.variableWidth?G.push(e.default.createElement("div",{key:fe,style:{width:w}},F)):G.push(e.default.createElement("div",{key:fe},F))}if(x==="unslick"){var Y="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Y},se)}else G.length<=x.slidesToShow&&(x.unslick=!0);return e.default.createElement(t.InnerSlider,p({style:this.props.style,ref:this.innerSliderRefHandler},(0,l.filterSettings)(x)),G)}}]),T})(e.default.Component)})(Pg)),Pg}var iS;function ij(){return iS||(iS=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(rj());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default})(Mg)),Mg}var sj=ij();const aj=Tm(sj),oj=()=>{const[n,e]=y.useState([]),[t,i]=y.useState(!0),[a,l]=y.useState(0),c=jf();y.useEffect(()=>{(async()=>{try{const S=(await Tf(Jo(Lr,"Category Party"))).docs.map(C=>({id:C.id,name:C.data().name,icon:C.data().imageUrl}));e(S),S.length>0&&l(0)}catch(v){console.error("Error fetching categories from Firestore: ",v)}finally{i(!1)}})()},[]);const f=(g,v)=>{l(v),c("/shop",{state:{category:g}})},p={dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!1,centerMode:!0,centerPadding:"0px",responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:576,settings:{slidesToShow:1}}]};return t?I.jsx("div",{children:"Loading..."}):I.jsxs("div",{className:"category-section",children:[I.jsx("h2",{className:"section-title",children:"Shop by Category"}),I.jsx(aj,{...p,children:n.map((g,v)=>I.jsx("div",{onClick:()=>f(g.name,v),children:I.jsxs("div",{className:`category-item ${a===v?"active":""}`,children:[I.jsx("div",{className:"icon-container",children:I.jsx("img",{src:g.icon,alt:g.name,className:"category-icon"})}),I.jsx("h3",{className:"category-name",children:g.name})]})},g.id))})]})},tA=({product:n})=>{const{cartItems:e,addToCart:t,removeFromCart:i}=Uf(),a=e.find(p=>p.id===n.id),l=p=>{p.stopPropagation(),p.preventDefault()},c=p=>{l(p),t(n)},f=p=>{l(p),i(n.id)};return I.jsx(Ts,{to:`/product/${n.id}`,className:"product-card-link",children:I.jsxs("div",{className:"product-card",children:[I.jsx("div",{className:"product-image-container",children:I.jsx("img",{src:n.imageUrl,alt:n.name,className:"product-image"})}),I.jsxs("div",{className:"product-info",children:[I.jsx("h3",{className:"product-name",children:n.name}),n.quantity&&I.jsx("p",{className:"product-quantity",children:`${n.quantity} ${n.unit||""}`.trim()}),I.jsxs("div",{className:"product-footer",children:[I.jsxs("p",{className:"product-price",children:["₹",n.price||"N/A"]}),a?I.jsxs("div",{className:"quantity-control",onClick:l,children:[I.jsx("button",{onClick:f,children:"−"}),I.jsx("span",{children:a.quantityInCart}),I.jsx("button",{onClick:c,children:"+"})]}):I.jsx("button",{className:"add-button",onClick:c,children:"ADD"})]})]})]})})},lj=()=>{const[n,e]=y.useState([]),[t,i]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const l=Jo(Lr,"PartyProducts"),c=m4(l,v4(10)),p=(await Tf(c)).docs.map(g=>({id:g.id,...g.data()}));e(p)}catch(l){console.error("Error fetching products: ",l)}finally{i(!1)}})()},[]),t?I.jsx("div",{className:"product-grid-container",children:I.jsx("h2",{className:"grid-title",children:"Loading Products..."})}):I.jsxs("div",{className:"product-grid-container",children:[I.jsx("h2",{className:"grid-title",children:"All Products"}),I.jsx("div",{className:"product-grid",children:n.map(a=>I.jsx(tA,{product:a},a.id))})]})},uj=({isOpen:n,onClose:e,onAddAddressClick:t})=>{const{cartItems:i,addToCart:a,removeFromCart:l}=Uf(),c=i.reduce((f,p)=>f+p.price*p.quantityInCart,0);return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:`cart-backdrop ${n?"open":""}`,onClick:e}),I.jsxs("div",{className:`cart-sidebar ${n?"open":""}`,children:[I.jsxs("div",{className:"cart-header",children:[I.jsx("h3",{children:"Your Cart"}),I.jsx("button",{onClick:e,className:"close-btn",children:"×"})]}),I.jsx("div",{className:"cart-body",children:i.length===0?I.jsx("p",{children:"Your cart is empty."}):i.map(f=>I.jsxs("div",{className:"cart-item",children:[I.jsx("img",{src:f.imageUrl,alt:f.name,className:"cart-item-image"}),I.jsxs("div",{className:"cart-item-details",children:[I.jsx("p",{className:"item-name",children:f.name}),I.jsx("p",{className:"item-quantity-desc",children:`${f.quantityInCart} x ${f.unit||""}`}),I.jsxs("p",{className:"item-price",children:["₹",f.price]})]}),I.jsxs("div",{className:"quantity-control cart-quantity",children:[I.jsx("button",{onClick:()=>l(f.id),children:"−"}),I.jsx("span",{children:f.quantityInCart}),I.jsx("button",{onClick:()=>a(f),children:"+"})]})]},f.id))}),I.jsxs("div",{className:"cart-footer",children:[I.jsxs("h4",{children:["Subtotal: ₹",c.toFixed(2)]}),I.jsx("button",{className:"proceed-btn",onClick:t,children:"Add Address to proceed"})]})]})]})};function cj(n){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function hj(n){return en({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}function zg(n){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function fj(n){return en({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function dj(n){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function pj(n){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function gj(n){return en({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M271.06,144.3l54.27,14.3a8.59,8.59,0,0,1,6.63,8.1c0,4.6-4.09,8.4-9.12,8.4h-35.6a30,30,0,0,1-11.19-2.2c-5.24-2.2-11.28-1.7-15.3,2l-19,17.5a11.68,11.68,0,0,0-2.25,2.66,11.42,11.42,0,0,0,3.88,15.74,83.77,83.77,0,0,0,34.51,11.5V240c0,8.8,7.83,16,17.37,16h17.37c9.55,0,17.38-7.2,17.38-16V222.4c32.93-3.6,57.84-31,53.5-63-3.15-23-22.46-41.3-46.56-47.7L282.68,97.4a8.59,8.59,0,0,1-6.63-8.1c0-4.6,4.09-8.4,9.12-8.4h35.6A30,30,0,0,1,332,83.1c5.23,2.2,11.28,1.7,15.3-2l19-17.5A11.31,11.31,0,0,0,368.47,61a11.43,11.43,0,0,0-3.84-15.78,83.82,83.82,0,0,0-34.52-11.5V16c0-8.8-7.82-16-17.37-16H295.37C285.82,0,278,7.2,278,16V33.6c-32.89,3.6-57.85,31-53.51,63C227.63,119.6,247,137.9,271.06,144.3ZM565.27,328.1c-11.8-10.7-30.2-10-42.6,0L430.27,402a63.64,63.64,0,0,1-40,14H272a16,16,0,0,1,0-32h78.29c15.9,0,30.71-10.9,33.25-26.6a31.2,31.2,0,0,0,.46-5.46A32,32,0,0,0,352,320H192a117.66,117.66,0,0,0-74.1,26.29L71.4,384H16A16,16,0,0,0,0,400v96a16,16,0,0,0,16,16H372.77a64,64,0,0,0,40-14L564,377a32,32,0,0,0,1.28-48.9Z"},child:[]}]})(n)}function mj(n){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function vj(n){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(n)}function yj(n){return en({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(n)}const _j=()=>I.jsx("footer",{className:"site-footer",children:I.jsxs("div",{className:"footer-container",children:[I.jsxs("div",{className:"footer-left",children:[I.jsx("h3",{className:"footer-title",children:"Namma Party"}),I.jsx("p",{className:"footer-about",children:"Discover the freshest produce, handpicked daily to bring quality and taste straight to your kitchen. Enjoy seamless online shopping with us, where every order is a promise of health and happiness for your family."}),I.jsxs("div",{className:"social-icons",children:[I.jsx("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:I.jsx(cj,{})}),I.jsx("a",{href:"https://www.youtube.com",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",children:I.jsx(hj,{})})]})]}),I.jsxs("div",{className:"footer-right",children:[I.jsx("h3",{className:"footer-title",children:"Contact Us"}),I.jsx("p",{className:"contact-address",children:"41-46 2nd Floor, 7th Street, Tatabad, Coimbatore, Tamil Nadu 641012"}),I.jsx("p",{className:"contact-phone",children:"Phone: 086670 45244           "})]})]})}),bj="/assets/shopping-BCCAwhyK.jpeg",Ej="/assets/delivery-man-yRIuzntb.jpeg",Sj=()=>I.jsxs("div",{className:"about-us-page",children:[I.jsx("section",{className:"about-banner",children:I.jsxs("div",{className:"banner-content",children:[I.jsx("p",{className:"breadcrumb",children:"Home / About Us"}),I.jsx("h1",{className:"page-title",children:"About Us"})]})}),I.jsxs("section",{className:"process-section",children:[I.jsxs("div",{className:"process-card",children:[I.jsx("div",{className:"icon-circle",children:I.jsx(dj,{})}),I.jsx("h3",{className:"process-title",children:"Choose product"}),I.jsx("p",{className:"process-description",children:"If you are going to use a passage of you need to be sure there isn't anything embarrassing hidden in the middle."})]}),I.jsxs("div",{className:"process-card",children:[I.jsx("div",{className:"icon-circle",children:I.jsx(gj,{})}),I.jsx("h3",{className:"process-title",children:"Make Your Payment"}),I.jsx("p",{className:"process-description",children:"Experience hassle-free online shopping with our service! Simply choose the product you want."})]}),I.jsxs("div",{className:"process-card",children:[I.jsx("div",{className:"icon-circle",children:I.jsx(yj,{})}),I.jsx("h3",{className:"process-title",children:"Fast Delivery"}),I.jsx("p",{className:"process-description",children:"Experience hassle-free online shopping with our service! enjoy fast delivery right to your doorstep."})]})]}),I.jsx("section",{className:"know-more-section",children:I.jsxs("div",{className:"know-more-container",children:[I.jsxs("div",{className:"image-collage",children:[I.jsx("img",{src:bj,alt:"Customer shopping for groceries",className:"img-background"}),I.jsx("img",{src:Ej,alt:"Delivery person holding a bag of groceries",className:"img-foreground"})]}),I.jsxs("div",{className:"text-content",children:[I.jsx("h2",{className:"section-heading",children:"Know More About Us?"}),I.jsx("p",{className:"section-paragraph",children:"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. It is a long established fact a that a reader will be distracted by the readable content of a page when looking at its layout."}),I.jsxs("ul",{className:"features-list",children:[I.jsxs("li",{children:[I.jsx(zg,{className:"check-icon"})," Complete Sanitization and cleaning of bathroom"]}),I.jsxs("li",{children:[I.jsx(zg,{className:"check-icon"})," when looking at its layout. it is a long established fact"]}),I.jsxs("li",{children:[I.jsx(zg,{className:"check-icon"})," Complete Sanitization and cleaning of bathroom"]})]}),I.jsxs("button",{className:"contact-button",children:["Contact us ",I.jsx(fj,{})]})]})]})})]}),wj=()=>{const n="41-46 2nd Floor, 7th Street, Tatabad, Coimbatore, Tamil Nadu 641012",[e,t]=y.useState({name:"",email:"",subject:"",message:""}),[i,a]=y.useState(!1),[l,c]=y.useState(null),f=g=>{const{name:v,value:S}=g.target;t(C=>({...C,[v]:S}))},p=async g=>{if(g.preventDefault(),!e.name||!e.email||!e.subject||!e.message){alert("Please fill in all required fields.");return}a(!0),c(null);try{await KC(Jo(Lr,"userreview"),{name:e.name,email:e.email,subject:e.subject,message:e.message,createdAt:WC()}),t({name:"",email:"",subject:"",message:""}),c("success")}catch(v){console.error("Error adding document to Firestore: ",v),c("error")}finally{a(!1)}};return I.jsxs("div",{className:"contact-page-wrapper",children:[I.jsxs("section",{className:"contact-page-banner",children:[I.jsx("p",{className:"banner-breadcrumb",children:"Home / Contact Us"}),I.jsx("h1",{className:"banner-title",children:"Contact Us"})]}),I.jsxs("main",{className:"main-contact-content",children:[I.jsxs("div",{className:"left-contact-column",children:[I.jsx("h2",{className:"contact-info-title",children:"Contact Information"}),I.jsx("p",{className:"contact-info-subtitle",children:"Fill the form below or write us. We will help you as soon as possible."}),I.jsxs("div",{className:"info-cards-container",children:[I.jsxs("div",{className:"info-card",children:[I.jsx("div",{className:"info-card-icon",children:I.jsx(vj,{})}),I.jsx("h3",{className:"info-card-title",children:"Phone"}),I.jsx("p",{className:"info-card-text",children:"+1347-430-9510"})]}),I.jsxs("div",{className:"info-card",children:[I.jsx("div",{className:"info-card-icon",children:I.jsx(pj,{})}),I.jsx("h3",{className:"info-card-title",children:"Email"}),I.jsx("p",{className:"info-card-text",children:"abdur.rohman2003@gmail.com"})]})]}),I.jsxs("div",{className:"address-map-card",children:[I.jsxs("div",{className:"address-header",children:[I.jsx("div",{className:"address-icon",children:I.jsx(mj,{})}),I.jsxs("div",{className:"address-details",children:[I.jsx("h3",{className:"info-card-title",children:"Address"}),I.jsx("p",{className:"info-card-text",children:n})]})]}),I.jsx("div",{className:"map-container",children:I.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3916.273934399209!2d76.9535384748083!3d11.017558354673656!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba859b33a511e69%3A0xf6218d693f1352e6!2s41-46%2C%207th%20St%2C%20Tatabad%2C%20Coimbatore%2C%20Tamil%20Nadu%20641012%2C%20India!5e0!3m2!1sen!2sus!4v1678887123456!5m2!1sen!2sus",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Office Location in Coimbatore"})})]})]}),I.jsxs("div",{className:"right-contact-column",children:[I.jsx("h2",{className:"get-in-touch-title",children:"Get In Touch"}),I.jsxs("form",{className:"contact-form-panel",onSubmit:p,children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"name",children:"Name*"}),I.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Name",required:!0,value:e.name,onChange:f})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"email",children:"Email*"}),I.jsx("input",{type:"email",id:"email",name:"email",placeholder:"user@gmail.com",required:!0,value:e.email,onChange:f})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"subject",children:"Subject*"}),I.jsx("input",{type:"text",id:"subject",name:"subject",placeholder:"Subject",required:!0,value:e.subject,onChange:f})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"message",children:"Message*"}),I.jsx("textarea",{id:"message",name:"message",placeholder:"Write Message.........",rows:"6",required:!0,value:e.message,onChange:f})]}),l==="success"&&I.jsx("p",{className:"submit-message success",children:"Your message has been sent successfully!"}),l==="error"&&I.jsx("p",{className:"submit-message error",children:"Failed to send message. Please try again."}),I.jsx("button",{type:"submit",className:"send-now-button",disabled:i,children:i?"Sending...":"Send Now"})]})]})]})]})},Tj=({userData:n})=>{const[e,t]=y.useState({firstName:"",lastName:"",phone:"",address:""});y.useEffect(()=>{if(n){const l=n.name?n.name.split(" "):["",""];t({firstName:l[0]||"",lastName:l.slice(1).join(" ")||"",phone:n.mobile||"",address:n.address||""})}},[n]);const i=l=>{const{name:c,value:f}=l.target;t(p=>({...p,[c]:f}))},a=async l=>{if(l.preventDefault(),!Fi.currentUser){alert("You must be logged in to update your profile.");return}const c=cl(Lr,"customers",Fi.currentUser.uid);try{await $C(c,{name:`${e.firstName} ${e.lastName}`.trim(),mobile:e.phone,address:e.address}),alert("Profile updated successfully!")}catch(f){console.error("Error updating profile: ",f),alert("Failed to update profile.")}};return n?I.jsxs("div",{className:"personal-info-container",children:[I.jsx("h3",{children:"Personal Information"}),I.jsxs("form",{onSubmit:a,children:[I.jsx("div",{className:"form-row",children:I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"firstName",children:"First Name*"}),I.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:i})]})}),I.jsxs("div",{className:"form-row",children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"email",children:"Email*"}),I.jsx("input",{type:"email",id:"email",name:"email",value:n.email||"",disabled:!0})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"phone",children:"Phone*"}),I.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:i})]})]}),I.jsxs("div",{className:"form-actions",children:[I.jsx("button",{type:"button",className:"cancel-btn",children:"Cancel"}),I.jsx("button",{type:"submit",className:"update-btn",children:"Update Profile"})]})]})]}):I.jsx("p",{children:"Loading profile..."})},Cj=()=>{const[n,e]=y.useState(""),[t,i]=y.useState(""),[a,l]=y.useState(""),[c,f]=y.useState(""),[p,g]=y.useState(""),v=async S=>{if(S.preventDefault(),f(""),g(""),!n||!t||!a){f("Please fill in all fields.");return}if(t!==a){f("New passwords do not match.");return}if(t.length<6){f("Password must be at least 6 characters long.");return}const C=Fi.currentUser;if(!C){f("No user is signed in.");return}const j=za.credential(C.email,n);try{await wx(C,j),await Ax(C,t);const k=cl(Lr,"customers",C.uid);await $C(k,{password:t}),g("Password updated successfully!"),e(""),i(""),l("")}catch(k){console.error("Password update error:",k),k.code==="auth/wrong-password"?f("The current password you entered is incorrect."):f("An error occurred. Please try again.")}};return I.jsxs("div",{className:"change-password-container",children:[I.jsx("h3",{children:"Change Password"}),I.jsxs("form",{onSubmit:v,children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"currentPassword",children:"Current Password*"}),I.jsx("input",{type:"password",id:"currentPassword",value:n,onChange:S=>e(S.target.value)})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"newPassword",children:"Password*"}),I.jsx("input",{type:"password",id:"newPassword",value:t,onChange:S=>i(S.target.value)})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"reenterPassword",children:"Re-enter Password*"}),I.jsx("input",{type:"password",id:"reenterPassword",value:a,onChange:S=>l(S.target.value)})]}),c&&I.jsx("p",{className:"error-message",children:c}),p&&I.jsx("p",{className:"success-message",children:p}),I.jsxs("div",{className:"form-actions",children:[I.jsx("button",{type:"submit",className:"update-btn",children:"Update Password"}),I.jsx("button",{type:"button",className:"cancel-btn",children:"Cancel"})]})]})]})},Aj=({handleLogout:n})=>{const e=jf(),[t,i]=y.useState(Fi.currentUser),[a,l]=y.useState(null),[c,f]=y.useState(!0),[p,g]=y.useState("dashboard");y.useEffect(()=>{(async()=>{if(t){const j=cl(Lr,"customers",t.uid),k=await FC(j);k.exists()?l(k.data()):console.log("No user profile found in Firestore!")}f(!1)})()},[t]);const v=()=>{n(),e("/")};if(c)return I.jsx("p",{children:"Loading dashboard..."});if(!t)return I.jsx("p",{children:"Please log in to view your dashboard."});const S=()=>{switch(p){case"personalInfo":return I.jsx(Tj,{userData:a});case"changePassword":return I.jsx(Cj,{});default:return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"profile-header",children:[I.jsxs("h3",{children:["Hello, ",a?.name||t.email]}),I.jsx("h2",{children:"Welcome to your Profile"})]}),I.jsx("div",{className:"stats-cards"}),I.jsx("div",{className:"info-sections"})]})}};return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"dashboard-banner"}),I.jsxs("div",{className:"dashboard-container",children:[I.jsx("aside",{className:"sidebar",children:I.jsxs("nav",{className:"sidebar-nav",children:[I.jsxs("button",{onClick:()=>g("dashboard"),className:`sidebar-link ${p==="dashboard"?"active":""}`,children:[I.jsx(II,{className:"sidebar-icon"})," Dashboard"]}),I.jsxs("button",{onClick:()=>g("personalInfo"),className:`sidebar-link ${p==="personalInfo"?"active":""}`,children:[I.jsx(DI,{className:"sidebar-icon"})," Personal Info"]}),I.jsxs("button",{onClick:()=>g("changePassword"),className:`sidebar-link ${p==="changePassword"?"active":""}`,children:[I.jsx(OI,{className:"sidebar-icon"})," Change Password"]}),I.jsxs("button",{onClick:v,className:"sidebar-link logout-btn",children:[I.jsx(xI,{className:"sidebar-icon"})," Logout"]})]})}),I.jsx("main",{className:"dashboard-content",children:S()})]})]})},Rj=({categories:n,selectedCategory:e,onCategorySelect:t})=>{const i=a=>{t(e===a?"All":a)};return I.jsxs("div",{className:"category-filter",children:[I.jsx("h3",{className:"filter-title",children:"Product Categories"}),I.jsxs("ul",{className:"category-list",children:[I.jsx("li",{className:"category-list-item",children:I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:e==="All",onChange:()=>t("All")}),"All"]})}),n.map(a=>I.jsx("li",{className:"category-list-item",children:I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:e.toLowerCase()===a.name.toLowerCase(),onChange:()=>i(a.name)}),a.name]})},a.id))]})]})},Lj=({products:n,title:e})=>!n||n.length===0?I.jsxs("div",{className:"product-grid-container",children:[I.jsx("h2",{className:"grid-title",children:e}),I.jsx("p",{className:"no-products-found",children:"No products found for this category."})]}):I.jsxs("div",{className:"product-grid-container",children:[I.jsx("h2",{className:"grid-title",children:e}),I.jsx("div",{className:"product-grid",children:n.map(t=>I.jsx(tA,{product:t},t.id))})]}),Ij=()=>{const[n,e]=y.useState([]),[t,i]=y.useState([]),[a,l]=y.useState("All"),[c,f]=y.useState(!0),[p,g]=y.useState(""),v=qs();y.useEffect(()=>{(async()=>{f(!0);try{const k=Tf(Jo(Lr,"PartyProducts")),B=Tf(Jo(Lr,"Category Party")),[H,K]=await Promise.all([k,B]);H.empty&&g("No products were found in the database.");const Z=H.docs.map(X=>({id:X.id,...X.data()})),ne=K.docs.map(X=>({id:X.id,...X.data()}));e(Z),i(ne)}catch(k){g(`Error: ${k.message}.`)}finally{f(!1)}})()},[]),y.useEffect(()=>{const j=v.state?.category;j&&l(j)},[v.state]);const S=a==="All"?n:n.filter(j=>j.category?j.category.trim().toLowerCase()===a.trim().toLowerCase():!1),C=a==="All"?"All Products":a;return c?I.jsx("div",{className:"loading-container",children:"Loading..."}):I.jsxs("div",{className:"shop-page",children:[I.jsx("aside",{className:"sidebar",children:I.jsx(Rj,{categories:t,selectedCategory:a,onCategorySelect:l})}),I.jsxs("main",{className:"product-display-area",children:[I.jsxs("div",{className:"shop-header",children:[I.jsxs("p",{children:["Showing ",S.length," of ",n.length," results"]}),I.jsx("select",{className:"sort-dropdown",children:I.jsx("option",{value:"default",children:"Sort by: Default"})})]}),p&&!n.length&&I.jsx("div",{className:"error-message",children:p}),I.jsx(Lj,{products:S,title:C})]})]})},Oj=()=>{const{productId:n}=LL(),[e,t]=y.useState(null),[i,a]=y.useState(!0),[l,c]=y.useState(""),[f,p]=y.useState(1),{cartItems:g,addToCart:v,setCartItemQuantity:S}=Uf(),C=g.find(B=>B.id===n);y.useEffect(()=>{(async()=>{if(n)try{const H=cl(Lr,"PartyProducts",n),K=await FC(H);K.exists()?t({id:K.id,...K.data()}):c("Product not found.")}catch{c("Failed to load product details.")}finally{a(!1)}})()},[n]),y.useEffect(()=>{p(C?C.quantityInCart:1)},[C]);const j=B=>{const H=Math.max(1,f+B);p(H),C&&S(n,H)},k=()=>{e&&(C||v(e,f),alert("Cart updated!"))};return i?I.jsx("div",{className:"loading-container",children:"Loading Product..."}):l?I.jsx("div",{className:"error-container",children:l}):e?I.jsx("div",{className:"product-detail-container",children:I.jsxs("div",{className:"product-detail-layout",children:[I.jsx("div",{className:"image-gallery",children:I.jsx("div",{className:"main-image-wrapper",children:I.jsx("img",{src:e.imageUrl,alt:e.name,className:"main-image"})})}),I.jsxs("div",{className:"product-info-details",children:[I.jsx("span",{className:"product-category-tag",children:e.category}),I.jsx("h1",{className:"product-title",children:e.name}),I.jsx("div",{className:"price-section",children:I.jsxs("span",{className:"current-price",children:["₹",e.price]})}),I.jsx("p",{className:"product-description",children:e.description||"No description available."}),I.jsxs("div",{className:"actions",children:[I.jsxs("div",{className:"quantity-selector",children:[I.jsx("button",{onClick:()=>j(-1),children:"−"}),I.jsx("span",{children:f}),I.jsx("button",{onClick:()=>j(1),children:"+"})]}),I.jsx("button",{className:"add-to-cart-btn",onClick:k,children:C?"UPDATE CART":"ADD TO CART"})]}),I.jsxs("div",{className:"meta-info",children:[I.jsxs("p",{children:[I.jsx("strong",{children:"SKU:"})," ",e.id.slice(0,10).toUpperCase()]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Category:"})," ",e.category]})]})]})]})}):null},nA=y.createContext(),rA=()=>y.useContext(nA),xj=({children:n})=>{const[e,t]=y.useState(null),[i,a]=y.useState(!0);y.useEffect(()=>OT(Fi,f=>{t(f),a(!1)}),[]);const l={currentUser:e};return I.jsx(nA.Provider,{value:l,children:!i&&n})};function $u(n){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(n)}function Mj(n,e){if($u(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if($u(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Pj(n){var e=Mj(n,"string");return $u(e)=="symbol"?e:e+""}function he(n,e,t){return(e=Pj(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bg,sS;function kj(){if(sS)return Bg;sS=1;var n=function(t,i,a,l,c,f,p,g){if(!t){var v;if(i===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[a,l,c,f,p,g],C=0;v=new Error(i.replace(/%s/g,function(){return S[C++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}};return Bg=n,Bg}var Dj=kj(),Jt=iA(Dj),Ge=y.createContext(null);function Nj(){Jt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=y.useContext(Ge);return Jt(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function jj(n,e,t){return Object.keys(n).reduce(function(a,l){return e(a,n[l],l)},t)}function Vj(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function Uj(n,e,t,i){var a={},l=(c,f)=>{var p=t[f];p!==e[f]&&(a[f]=p,c(i,p))};return Vj(n,l),a}function zj(n,e,t){var i=jj(t,function(l,c,f){return typeof n[f]=="function"&&l.push(google.maps.event.addListener(e,c,n[f])),l},[]);return i}function Bj(n){google.maps.event.removeListener(n)}function Xe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(Bj)}function We(n){var{updaterMap:e,eventMap:t,prevProps:i,nextProps:a,instance:l}=n,c=zj(a,l,t);return Uj(e,i,a,l),c}var aS={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},oS={extraMapTypes(n,e){e.forEach(function(i,a){n.mapTypes.set(String(a),i)})},center(n,e){n.setCenter(e)},clickableIcons(n,e){n.setClickableIcons(e)},heading(n,e){n.setHeading(e)},mapTypeId(n,e){n.setMapTypeId(e)},options(n,e){n.setOptions(e)},streetView(n,e){n.setStreetView(e)},tilt(n,e){n.setTilt(e)},zoom(n,e){n.setZoom(e)}};function Hj(n){var{children:e,options:t,id:i,mapContainerStyle:a,mapContainerClassName:l,center:c,onClick:f,onDblClick:p,onDrag:g,onDragEnd:v,onDragStart:S,onMouseMove:C,onMouseOut:j,onMouseOver:k,onMouseDown:B,onMouseUp:H,onRightClick:K,onCenterChanged:Z,onLoad:ne,onUnmount:X}=n,[M,z]=y.useState(null),O=y.useRef(null),[L,E]=y.useState(null),[T,P]=y.useState(null),[U,x]=y.useState(null),[te,se]=y.useState(null),[G,w]=y.useState(null),[fe,F]=y.useState(null),[_,D]=y.useState(null),[q,Y]=y.useState(null),[J,W]=y.useState(null),[oe,pe]=y.useState(null),[_e,Ae]=y.useState(null),[be,we]=y.useState(null);return y.useEffect(()=>{t&&M!==null&&M.setOptions(t)},[M,t]),y.useEffect(()=>{M!==null&&typeof c<"u"&&M.setCenter(c)},[M,c]),y.useEffect(()=>{M&&p&&(T!==null&&google.maps.event.removeListener(T),P(google.maps.event.addListener(M,"dblclick",p)))},[p]),y.useEffect(()=>{M&&v&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(M,"dragend",v)))},[v]),y.useEffect(()=>{M&&S&&(te!==null&&google.maps.event.removeListener(te),se(google.maps.event.addListener(M,"dragstart",S)))},[S]),y.useEffect(()=>{M&&B&&(G!==null&&google.maps.event.removeListener(G),w(google.maps.event.addListener(M,"mousedown",B)))},[B]),y.useEffect(()=>{M&&C&&(fe!==null&&google.maps.event.removeListener(fe),F(google.maps.event.addListener(M,"mousemove",C)))},[C]),y.useEffect(()=>{M&&j&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(M,"mouseout",j)))},[j]),y.useEffect(()=>{M&&k&&(q!==null&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(M,"mouseover",k)))},[k]),y.useEffect(()=>{M&&H&&(J!==null&&google.maps.event.removeListener(J),W(google.maps.event.addListener(M,"mouseup",H)))},[H]),y.useEffect(()=>{M&&K&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(M,"rightclick",K)))},[K]),y.useEffect(()=>{M&&f&&(_e!==null&&google.maps.event.removeListener(_e),Ae(google.maps.event.addListener(M,"click",f)))},[f]),y.useEffect(()=>{M&&g&&(be!==null&&google.maps.event.removeListener(be),we(google.maps.event.addListener(M,"drag",g)))},[g]),y.useEffect(()=>{M&&Z&&(L!==null&&google.maps.event.removeListener(L),E(google.maps.event.addListener(M,"center_changed",Z)))},[f]),y.useEffect(()=>{var je=O.current===null?null:new google.maps.Map(O.current,t);return z(je),je!==null&&ne&&ne(je),()=>{je!==null&&X&&X(je)}},[]),I.jsx("div",{id:i,ref:O,style:a,className:l,children:I.jsx(Ge.Provider,{value:M,children:M!==null?e:null})})}y.memo(Hj);class qj extends y.PureComponent{constructor(){super(...arguments),he(this,"state",{map:null}),he(this,"registeredEvents",[]),he(this,"mapRef",null),he(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),he(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),he(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),he(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=We({updaterMap:oS,eventMap:aS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:oS,eventMap:aS,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Xe(this.registeredEvents))}render(){return I.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:I.jsx(Ge.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function lS(n,e,t,i,a,l,c){try{var f=n[l](c),p=f.value}catch(g){return void t(g)}f.done?e(p):Promise.resolve(p).then(i,a)}function sA(n){return function(){var e=this,t=arguments;return new Promise(function(i,a){var l=n.apply(e,t);function c(p){lS(l,i,a,c,f,"next",p)}function f(p){lS(l,i,a,c,f,"throw",p)}c(void 0)})}}function aA(n){var{googleMapsApiKey:e,googleMapsClientId:t,version:i="weekly",language:a,region:l,libraries:c,channel:f,mapIds:p,authReferrerPolicy:g,apiUrl:v="https://maps.googleapis.com"}=n,S=[];return Jt(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?S.push("key=".concat(e)):t&&S.push("client=".concat(t)),i&&S.push("v=".concat(i)),a&&S.push("language=".concat(a)),l&&S.push("region=".concat(l)),c&&c.length&&S.push("libraries=".concat(c.sort().join(","))),f&&S.push("channel=".concat(f)),p&&p.length&&S.push("map_ids=".concat(p.join(","))),g&&S.push("auth_referrer_policy=".concat(g)),S.push("loading=async"),S.push("callback=initMap"),"".concat(v,"/maps/api/js?").concat(S.join("&"))}var Os=typeof document<"u";function oA(n){var{url:e,id:t,nonce:i}=n;return Os?new Promise(function(l,c){var f=document.getElementById(t),p=window;if(f){var g=f.getAttribute("data-state");if(f.src===e&&g!=="error"){if(g==="ready")return l(t);var v=p.initMap,S=f.onerror;p.initMap=function(){v&&v(),l(t)},f.onerror=function(j){S&&S(j),c(j)};return}else f.remove()}var C=document.createElement("script");C.type="text/javascript",C.src=e,C.id=t,C.async=!0,C.nonce=i||"",C.onerror=function(k){C.setAttribute("data-state","error"),c(k)},p.initMap=function(){C.setAttribute("data-state","ready"),l(t)},document.head.appendChild(C)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function uS(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function Lv(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(a,l){return uS(a)||Reflect.apply(e,n,[a,l]),a};var t=n.appendChild.bind(n);n.appendChild=function(a){return uS(a)||Reflect.apply(t,n,[a]),a}}}var _u=!1;function lA(){return I.jsx("div",{children:"Loading..."})}var Ku={id:"script-loader",version:"weekly"};class Fj extends y.PureComponent{constructor(){super(...arguments),he(this,"check",null),he(this,"state",{loaded:!1}),he(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),he(this,"isCleaningUp",sA(function*(){function e(t){if(!_u)t();else if(Os)var i=window.setInterval(function(){_u||(window.clearInterval(i),t())},1)}return new Promise(e)})),he(this,"cleanup",()=>{_u=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})}),he(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Lv(),Jt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:aA(this.props)};oA(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),he(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Os){if(window.google&&window.google.maps&&!_u){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Os&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Os){this.cleanup();var e=()=>{this.check||(delete window.google,_u=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return I.jsxs(I.Fragment,{children:[I.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||I.jsx(lA,{})]})}}he(Fj,"defaultProps",Ku);function Gj(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function Iv(n,e){if(n==null)return{};var t,i,a=Gj(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var cS;function $j(n){var{id:e=Ku.id,version:t=Ku.version,nonce:i,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:f,libraries:p,preventGoogleFontsLoading:g,channel:v,mapIds:S,authReferrerPolicy:C,apiUrl:j="https://maps.googleapis.com"}=n,k=y.useRef(!1),[B,H]=y.useState(!1),[K,Z]=y.useState(void 0);y.useEffect(function(){return k.current=!0,()=>{k.current=!1}},[]),y.useEffect(function(){Os&&g&&Lv()},[g]),y.useEffect(function(){B&&Jt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[B]);var ne=aA({version:t,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:f,libraries:p,channel:v,mapIds:S,authReferrerPolicy:C,apiUrl:j});y.useEffect(function(){if(!Os)return;function z(){k.current&&(H(!0),cS=ne)}if(window.google&&window.google.maps&&cS===ne){z();return}oA({id:e,url:ne,nonce:i}).then(z).catch(function(L){k.current&&Z(L),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(L)})},[e,ne,i]);var X=y.useRef(void 0);return y.useEffect(function(){X.current&&p!==X.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),X.current=p},[p]),{isLoaded:B,loadError:K,url:ne}}var Kj=["loadingElement","onLoad","onError","onUnmount","children"],Wj=I.jsx(lA,{});function Yj(n){var{loadingElement:e,onLoad:t,onError:i,onUnmount:a,children:l}=n,c=Iv(n,Kj),{isLoaded:f,loadError:p}=$j(c);return y.useEffect(function(){f&&typeof t=="function"&&t()},[f,t]),y.useEffect(function(){p&&typeof i=="function"&&i(p)},[p,i]),y.useEffect(function(){return()=>{a&&a()}},[a]),f?l:e||Wj}y.memo(Yj);function Qj(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(v){try{g(i.next(v))}catch(S){c(S)}}function p(v){try{g(i.throw(v))}catch(S){c(S)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((i=i.apply(n,[])).next())})}function Xj(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zj=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,a,l;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(a=i;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(t).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=i;a--!==0;){var c=l[a];if(!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t},Jj=Xj(Zj),hS="__googleMapsScriptId",Uo;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(Uo||(Uo={}));class Ra{constructor(e){var{apiKey:t,authReferrerPolicy:i,channel:a,client:l,id:c=hS,language:f,libraries:p=[],mapIds:g,nonce:v,region:S,retries:C=3,url:j="https://maps.googleapis.com/maps/api/js",version:k}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=i,this.channel=a,this.client=l,this.id=c||hS,this.language=f,this.libraries=p,this.mapIds=g,this.nonce=v,this.region=S,this.retries=C,this.url=j,this.version=k,Ra.instance){if(!Jj(this.options,Ra.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Ra.instance.options)));return Ra.instance}Ra.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Uo.FAILURE:this.done?Uo.SUCCESS:this.loading?Uo.LOADING:Uo.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(i=>{i?t(i.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}var i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(l=>!i[l]&&delete i[l]),!((t=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(l=>{var c,f,p,g="The Google Maps JavaScript API",v="google",S="importLibrary",C="__ib__",j=document,k=window;k=k[v]||(k[v]={});var B=k.maps||(k.maps={}),H=new Set,K=new URLSearchParams,Z=()=>c||(c=new Promise((ne,X)=>Qj(this,void 0,void 0,function*(){var M;yield f=j.createElement("script"),f.id=this.id,K.set("libraries",[...H]+"");for(p in l)K.set(p.replace(/[A-Z]/g,z=>"_"+z[0].toLowerCase()),l[p]);K.set("callback",v+".maps."+C),f.src=this.url+"?"+K,B[C]=ne,f.onerror=()=>c=X(Error(g+" could not load.")),f.nonce=this.nonce||((M=j.querySelector("script[nonce]"))===null||M===void 0?void 0:M.nonce)||"",j.head.append(f)})));B[S]?console.warn(g+" only loads once. Ignoring:",l):B[S]=function(ne){for(var X=arguments.length,M=new Array(X>1?X-1:0),z=1;z<X;z++)M[z-1]=arguments[z];return H.add(ne)&&Z().then(()=>B[S](ne,...M))}})(i);var a=this.libraries.map(l=>this.importLibrary(l));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),l=>{var c=new ErrorEvent("error",{error:l});this.loadErrorCallback(c)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var t=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(t," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var e3=["maps"];function t3(n){var{id:e=Ku.id,version:t=Ku.version,nonce:i,googleMapsApiKey:a,language:l,region:c,libraries:f=e3,preventGoogleFontsLoading:p,mapIds:g,authReferrerPolicy:v}=n,S=y.useRef(!1),[C,j]=y.useState(!1),[k,B]=y.useState(void 0);y.useEffect(function(){return S.current=!0,()=>{S.current=!1}},[]);var H=y.useMemo(()=>new Ra({id:e,apiKey:a,version:t,libraries:f,language:l||"en",region:c||"US",mapIds:g||[],nonce:i||"",authReferrerPolicy:v||"origin"}),[e,a,t,f,l,c,g,i,v]);y.useEffect(function(){C||H.load().then(()=>{S.current&&j(!0)}).catch(ne=>{B(ne)})},[]),y.useEffect(()=>{Os&&p&&Lv()},[p]);var K=y.useRef();return y.useEffect(()=>{K.current&&f!==K.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),K.current=f},[f]),{isLoaded:C,loadError:k}}function fS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Rf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var dS={},pS={options(n,e){n.setOptions(e)}};function n3(n){var{options:e,onLoad:t,onUnmount:i}=n,a=y.useContext(Ge),[l,c]=y.useState(null);return y.useEffect(()=>{l!==null&&l.setMap(a)},[a]),y.useEffect(()=>{e&&l!==null&&l.setOptions(e)},[l,e]),y.useEffect(()=>{var f=new google.maps.TrafficLayer(Rf(Rf({},e),{},{map:a}));return c(f),t&&t(f),()=>{l!==null&&(i&&i(l),l.setMap(null))}},[]),null}y.memo(n3);class r3 extends y.PureComponent{constructor(){super(...arguments),he(this,"state",{trafficLayer:null}),he(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),he(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Rf(Rf({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:pS,eventMap:dS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:pS,eventMap:dS,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Xe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}he(r3,"contextType",Ge);function i3(n){var{onLoad:e,onUnmount:t}=n,i=y.useContext(Ge),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(i)},[i]),y.useEffect(()=>{var c=new google.maps.BicyclingLayer;return l(c),c.setMap(i),e&&e(c),()=>{c!==null&&(t&&t(c),c.setMap(null))}},[]),null}y.memo(i3);class s3 extends y.PureComponent{constructor(){super(...arguments),he(this,"state",{bicyclingLayer:null}),he(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}he(s3,"contextType",Ge);function a3(n){var{onLoad:e,onUnmount:t}=n,i=y.useContext(Ge),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(i)},[i]),y.useEffect(()=>{var c=new google.maps.TransitLayer;return l(c),c.setMap(i),e&&e(c),()=>{a!==null&&(t&&t(a),a.setMap(null))}},[]),null}y.memo(a3);class o3 extends y.PureComponent{constructor(){super(...arguments),he(this,"state",{transitLayer:null}),he(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}he(o3,"contextType",Ge);function gS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Lf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var mS={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},vS={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function l3(n){var{options:e,drawingMode:t,onCircleComplete:i,onMarkerComplete:a,onOverlayComplete:l,onPolygonComplete:c,onPolylineComplete:f,onRectangleComplete:p,onLoad:g,onUnmount:v}=n,S=y.useContext(Ge),[C,j]=y.useState(null),[k,B]=y.useState(null),[H,K]=y.useState(null),[Z,ne]=y.useState(null),[X,M]=y.useState(null),[z,O]=y.useState(null),[L,E]=y.useState(null);return y.useEffect(()=>{C!==null&&C.setMap(S)},[S]),y.useEffect(()=>{e&&C!==null&&C.setOptions(e)},[C,e]),y.useEffect(()=>{C!==null&&C.setDrawingMode(t??null)},[C,t]),y.useEffect(()=>{C&&i&&(k!==null&&google.maps.event.removeListener(k),B(google.maps.event.addListener(C,"circlecomplete",i)))},[C,i]),y.useEffect(()=>{C&&a&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(C,"markercomplete",a)))},[C,a]),y.useEffect(()=>{C&&l&&(Z!==null&&google.maps.event.removeListener(Z),ne(google.maps.event.addListener(C,"overlaycomplete",l)))},[C,l]),y.useEffect(()=>{C&&c&&(X!==null&&google.maps.event.removeListener(X),M(google.maps.event.addListener(C,"polygoncomplete",c)))},[C,c]),y.useEffect(()=>{C&&f&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(C,"polylinecomplete",f)))},[C,f]),y.useEffect(()=>{C&&p&&(L!==null&&google.maps.event.removeListener(L),E(google.maps.event.addListener(C,"rectanglecomplete",p)))},[C,p]),y.useEffect(()=>{Jt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(Lf(Lf({},e),{},{map:S}));return t&&T.setDrawingMode(t),i&&B(google.maps.event.addListener(T,"circlecomplete",i)),a&&K(google.maps.event.addListener(T,"markercomplete",a)),l&&ne(google.maps.event.addListener(T,"overlaycomplete",l)),c&&M(google.maps.event.addListener(T,"polygoncomplete",c)),f&&O(google.maps.event.addListener(T,"polylinecomplete",f)),p&&E(google.maps.event.addListener(T,"rectanglecomplete",p)),j(T),g&&g(T),()=>{C!==null&&(k&&google.maps.event.removeListener(k),H&&google.maps.event.removeListener(H),Z&&google.maps.event.removeListener(Z),X&&google.maps.event.removeListener(X),z&&google.maps.event.removeListener(z),L&&google.maps.event.removeListener(L),v&&v(C),C.setMap(null))}},[]),null}y.memo(l3);class u3 extends y.PureComponent{constructor(e){super(e),he(this,"registeredEvents",[]),he(this,"state",{drawingManager:null}),he(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Jt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Lf(Lf({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:vS,eventMap:mS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:vS,eventMap:mS,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Xe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}he(u3,"contextType",Ge);function yS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Go(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var _S={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},bS={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},If={};function c3(n){var{position:e,options:t,clusterer:i,noClustererRedraw:a,children:l,draggable:c,visible:f,animation:p,clickable:g,cursor:v,icon:S,label:C,opacity:j,shape:k,title:B,zIndex:H,onClick:K,onDblClick:Z,onDrag:ne,onDragEnd:X,onDragStart:M,onMouseOut:z,onMouseOver:O,onMouseUp:L,onMouseDown:E,onRightClick:T,onClickableChanged:P,onCursorChanged:U,onAnimationChanged:x,onDraggableChanged:te,onFlatChanged:se,onIconChanged:G,onPositionChanged:w,onShapeChanged:fe,onTitleChanged:F,onVisibleChanged:_,onZindexChanged:D,onLoad:q,onUnmount:Y}=n,J=y.useContext(Ge),[W,oe]=y.useState(null),[pe,_e]=y.useState(null),[Ae,be]=y.useState(null),[we,je]=y.useState(null),[ke,De]=y.useState(null),[Re,yt]=y.useState(null),[xe,_t]=y.useState(null),[ht,bt]=y.useState(null),[wt,Ln]=y.useState(null),[mn,pr]=y.useState(null),[Dn,Et]=y.useState(null),[qe,xt]=y.useState(null),[Dt,Ks]=y.useState(null),[$i,Or]=y.useState(null),[Wn,xr]=y.useState(null),[vn,ci]=y.useState(null),[Yn,Ki]=y.useState(null),[Mr,Wi]=y.useState(null),[Qn,Xn]=y.useState(null),[Pr,Nn]=y.useState(null),[kr,gr]=y.useState(null),[mr,vr]=y.useState(null);y.useEffect(()=>{W!==null&&W.setMap(J)},[J]),y.useEffect(()=>{typeof t<"u"&&W!==null&&W.setOptions(t)},[W,t]),y.useEffect(()=>{typeof c<"u"&&W!==null&&W.setDraggable(c)},[W,c]),y.useEffect(()=>{e&&W!==null&&W.setPosition(e)},[W,e]),y.useEffect(()=>{typeof f<"u"&&W!==null&&W.setVisible(f)},[W,f]),y.useEffect(()=>{W?.setAnimation(p)},[W,p]),y.useEffect(()=>{W&&g!==void 0&&W.setClickable(g)},[W,g]),y.useEffect(()=>{W&&v!==void 0&&W.setCursor(v)},[W,v]),y.useEffect(()=>{W&&S!==void 0&&W.setIcon(S)},[W,S]),y.useEffect(()=>{W&&C!==void 0&&W.setLabel(C)},[W,C]),y.useEffect(()=>{W&&j!==void 0&&W.setOpacity(j)},[W,j]),y.useEffect(()=>{W&&k!==void 0&&W.setShape(k)},[W,k]),y.useEffect(()=>{W&&B!==void 0&&W.setTitle(B)},[W,B]),y.useEffect(()=>{W&&H!==void 0&&W.setZIndex(H)},[W,H]),y.useEffect(()=>{W&&Z&&(pe!==null&&google.maps.event.removeListener(pe),_e(google.maps.event.addListener(W,"dblclick",Z)))},[Z]),y.useEffect(()=>{W&&X&&(Ae!==null&&google.maps.event.removeListener(Ae),be(google.maps.event.addListener(W,"dragend",X)))},[X]),y.useEffect(()=>{W&&M&&(we!==null&&google.maps.event.removeListener(we),je(google.maps.event.addListener(W,"dragstart",M)))},[M]),y.useEffect(()=>{W&&E&&(ke!==null&&google.maps.event.removeListener(ke),De(google.maps.event.addListener(W,"mousedown",E)))},[E]),y.useEffect(()=>{W&&z&&(Re!==null&&google.maps.event.removeListener(Re),yt(google.maps.event.addListener(W,"mouseout",z)))},[z]),y.useEffect(()=>{W&&O&&(xe!==null&&google.maps.event.removeListener(xe),_t(google.maps.event.addListener(W,"mouseover",O)))},[O]),y.useEffect(()=>{W&&L&&(ht!==null&&google.maps.event.removeListener(ht),bt(google.maps.event.addListener(W,"mouseup",L)))},[L]),y.useEffect(()=>{W&&T&&(wt!==null&&google.maps.event.removeListener(wt),Ln(google.maps.event.addListener(W,"rightclick",T)))},[T]),y.useEffect(()=>{W&&K&&(mn!==null&&google.maps.event.removeListener(mn),pr(google.maps.event.addListener(W,"click",K)))},[K]),y.useEffect(()=>{W&&ne&&(Dn!==null&&google.maps.event.removeListener(Dn),Et(google.maps.event.addListener(W,"drag",ne)))},[ne]),y.useEffect(()=>{W&&P&&(qe!==null&&google.maps.event.removeListener(qe),xt(google.maps.event.addListener(W,"clickable_changed",P)))},[P]),y.useEffect(()=>{W&&U&&(Dt!==null&&google.maps.event.removeListener(Dt),Ks(google.maps.event.addListener(W,"cursor_changed",U)))},[U]),y.useEffect(()=>{W&&x&&($i!==null&&google.maps.event.removeListener($i),Or(google.maps.event.addListener(W,"animation_changed",x)))},[x]),y.useEffect(()=>{W&&te&&(Wn!==null&&google.maps.event.removeListener(Wn),xr(google.maps.event.addListener(W,"draggable_changed",te)))},[te]),y.useEffect(()=>{W&&se&&(vn!==null&&google.maps.event.removeListener(vn),ci(google.maps.event.addListener(W,"flat_changed",se)))},[se]),y.useEffect(()=>{W&&G&&(Yn!==null&&google.maps.event.removeListener(Yn),Ki(google.maps.event.addListener(W,"icon_changed",G)))},[G]),y.useEffect(()=>{W&&w&&(Mr!==null&&google.maps.event.removeListener(Mr),Wi(google.maps.event.addListener(W,"position_changed",w)))},[w]),y.useEffect(()=>{W&&fe&&(Qn!==null&&google.maps.event.removeListener(Qn),Xn(google.maps.event.addListener(W,"shape_changed",fe)))},[fe]),y.useEffect(()=>{W&&F&&(Pr!==null&&google.maps.event.removeListener(Pr),Nn(google.maps.event.addListener(W,"title_changed",F)))},[F]),y.useEffect(()=>{W&&_&&(kr!==null&&google.maps.event.removeListener(kr),gr(google.maps.event.addListener(W,"visible_changed",_)))},[_]),y.useEffect(()=>{W&&D&&(mr!==null&&google.maps.event.removeListener(mr),vr(google.maps.event.addListener(W,"zindex_changed",D)))},[D]),y.useEffect(()=>{var lt=Go(Go(Go({},t||If),i?If:{map:J}),{},{position:e}),Ie=new google.maps.Marker(lt);return i?i.addMarker(Ie,!!a):Ie.setMap(J),e&&Ie.setPosition(e),typeof f<"u"&&Ie.setVisible(f),typeof c<"u"&&Ie.setDraggable(c),typeof g<"u"&&Ie.setClickable(g),typeof v=="string"&&Ie.setCursor(v),S&&Ie.setIcon(S),typeof C<"u"&&Ie.setLabel(C),typeof j<"u"&&Ie.setOpacity(j),k&&Ie.setShape(k),typeof B=="string"&&Ie.setTitle(B),typeof H=="number"&&Ie.setZIndex(H),Z&&_e(google.maps.event.addListener(Ie,"dblclick",Z)),X&&be(google.maps.event.addListener(Ie,"dragend",X)),M&&je(google.maps.event.addListener(Ie,"dragstart",M)),E&&De(google.maps.event.addListener(Ie,"mousedown",E)),z&&yt(google.maps.event.addListener(Ie,"mouseout",z)),O&&_t(google.maps.event.addListener(Ie,"mouseover",O)),L&&bt(google.maps.event.addListener(Ie,"mouseup",L)),T&&Ln(google.maps.event.addListener(Ie,"rightclick",T)),K&&pr(google.maps.event.addListener(Ie,"click",K)),ne&&Et(google.maps.event.addListener(Ie,"drag",ne)),P&&xt(google.maps.event.addListener(Ie,"clickable_changed",P)),U&&Ks(google.maps.event.addListener(Ie,"cursor_changed",U)),x&&Or(google.maps.event.addListener(Ie,"animation_changed",x)),te&&xr(google.maps.event.addListener(Ie,"draggable_changed",te)),se&&ci(google.maps.event.addListener(Ie,"flat_changed",se)),G&&Ki(google.maps.event.addListener(Ie,"icon_changed",G)),w&&Wi(google.maps.event.addListener(Ie,"position_changed",w)),fe&&Xn(google.maps.event.addListener(Ie,"shape_changed",fe)),F&&Nn(google.maps.event.addListener(Ie,"title_changed",F)),_&&gr(google.maps.event.addListener(Ie,"visible_changed",_)),D&&vr(google.maps.event.addListener(Ie,"zindex_changed",D)),oe(Ie),q&&q(Ie),()=>{pe!==null&&google.maps.event.removeListener(pe),Ae!==null&&google.maps.event.removeListener(Ae),we!==null&&google.maps.event.removeListener(we),ke!==null&&google.maps.event.removeListener(ke),Re!==null&&google.maps.event.removeListener(Re),xe!==null&&google.maps.event.removeListener(xe),ht!==null&&google.maps.event.removeListener(ht),wt!==null&&google.maps.event.removeListener(wt),mn!==null&&google.maps.event.removeListener(mn),qe!==null&&google.maps.event.removeListener(qe),Dt!==null&&google.maps.event.removeListener(Dt),$i!==null&&google.maps.event.removeListener($i),Wn!==null&&google.maps.event.removeListener(Wn),vn!==null&&google.maps.event.removeListener(vn),Yn!==null&&google.maps.event.removeListener(Yn),Mr!==null&&google.maps.event.removeListener(Mr),Pr!==null&&google.maps.event.removeListener(Pr),kr!==null&&google.maps.event.removeListener(kr),mr!==null&&google.maps.event.removeListener(mr),Y&&Y(Ie),i?i.removeMarker(Ie,!!a):Ie&&Ie.setMap(null)}},[]);var Fa=y.useMemo(()=>l?y.Children.map(l,lt=>{if(!y.isValidElement(lt))return lt;var Ie=lt;return y.cloneElement(Ie,{anchor:W})}):null,[l,W]);return I.jsx(I.Fragment,{children:Fa})||null}y.memo(c3);class uA extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[])}componentDidMount(){var e=this;return sA(function*(){var t=Go(Go(Go({},e.props.options||If),e.props.clusterer?If:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=We({updaterMap:bS,eventMap:_S,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:bS,eventMap:_S,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Xe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,t=>{if(!y.isValidElement(t))return t;var i=t;return y.cloneElement(i,{anchor:this.marker})}):null;return e||null}}he(uA,"contextType",Ge);var h3=(function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var i=t.getMaxZoom(),a=this.cluster.getBounds(),l=t.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(a),this.timeOut=window.setTimeout(function(){var c=t.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(a);var f=c.getZoom()||0;i!==null&&f>i&&c.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,i,a,l,c;if(this.div&&this.center){var f=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,p=this.backgroundPosition.split(" "),g=parseInt(((e=p[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),v=parseInt(((t=p[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),S=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(S!==null?"".concat(S.y,"px"):"0","; left: ").concat(S!==null?"".concat(S.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var C=document.createElement("img");C.alt=f,C.src=this.url,C.width=this.width,C.height=this.height,C.setAttribute("style","position: absolute; top: ".concat(v,"px; left: ").concat(g,"px")),this.cluster.getClusterer().enableRetinaIcons||(C.style.clip="rect(-".concat(v,"px, -").concat(g+this.width,"px, -").concat(v+this.height,", -").concat(g,")"));var j=document.createElement("div");j.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(j.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((l=this.sums)===null||l===void 0)&&l.html&&(j.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(C),this.div.appendChild(j),this.div.title=f,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),i=t[Math.min(t.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n})(),f3=(function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new h3(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),i=0,a=t;i<a.length;i++){var l=a[i],c=l.getPosition();c&&e.extend(c)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+i.lat())/a,(this.center.lng()*(a-1)+i.lng())/a),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var l=this.markers.length,c=this.markerClusterer.getMaxZoom(),f=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(c!==null&&typeof f<"u"&&f>c)e.getMap()!==this.map&&e.setMap(this.map);else if(l<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(l===this.minClusterSize)for(var p=0,g=this.markers;p<g.length;p++){var v=g[p];v.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,i=this.markerClusterer.getMaxZoom(),a=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof a<"u"&&a>i){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n})();function d3(n,e){var t=n.length,i=t.toString().length,a=Math.min(i,e);return{text:t.toString(),index:a,title:""}}var p3=2e3,g3=500,m3="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",v3="png",y3=[53,56,66,78,90],_3="cluster",cA=(function(){function n(e,t,i){t===void 0&&(t=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||m3,this.imageExtension=i.imageExtension||v3,this.imageSizes=i.imageSizes||y3,this.calculator=i.calculator||d3,this.batchSize=i.batchSize||p3,this.batchSizeIE=i.batchSizeIE||g3,this.clusterClass=i.clusterClass||_3,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var i=t[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var a=0,l=this.clusters;a<l.length;a++){var c=l[a];c.remove()}this.clusters=[];for(var f=0,p=this.listeners;f<p.length;f++){var g=p[f];google.maps.event.removeListener(g)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,i=0,a=e;i<a.length;i++){var l=a[i],c=l.getPosition();c&&t.extend(c)}var f=this.getMap();f!==null&&"fitBounds"in f&&f.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i];a&&this.pushMarkerTo(a)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){t=i;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var i=this.removeMarker_(e);return!t&&i&&this.repaint(),i},n.prototype.removeMarkers=function(e,t){for(var i=!1,a=0,l=e;a<l.length;a++){var c=l[a];i=i||this.removeMarker_(c)}return!t&&i&&this.repaint(),i},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,a=e;i<a.length;i++){var l=a[i];l.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var a=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),i!==null){var l=t.fromDivPixelToLatLng(i);l!==null&&e.extend(l)}if(a!==null){var c=t.fromDivPixelToLatLng(a);c!==null&&e.extend(c)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,i=this.clusters;t<i.length;t++){var a=i[t];a.remove()}this.clusters=[];for(var l=0,c=this.markers;l<c.length;l++){var f=c[l];f.isAdded=!1,e&&f.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var i=6371,a=(t.lat()-e.lat())*Math.PI/180,l=(t.lng()-e.lng())*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return i*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},n.prototype.isMarkerInBounds=function(e,t){var i=e.getPosition();return i?t.contains(i):!1},n.prototype.addToClosestCluster=function(e){for(var t,i=4e4,a=null,l=0,c=this.clusters;l<c.length;l++){var f=c[l];t=f;var p=t.getCenter(),g=e.getPosition();if(p&&g){var v=this.distanceBetweenPoints(p,g);v<i&&(i=v,a=t)}}a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(t=new f3(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),a=i!==null&&("getBounds"in i)?i.getBounds():null,l=i?.getZoom()||0,c=l>3?new google.maps.LatLngBounds(a?.getSouthWest(),a?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),f=this.getExtendedBounds(c),p=Math.min(e+this.batchSize,this.markers.length),g=e;g<p;g++){var v=this.markers[g];v&&!v.isAdded&&this.isMarkerInBounds(v,f)&&(!this.ignoreHidden||this.ignoreHidden&&v.getVisible())&&this.addToClosestCluster(v)}if(p<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(p)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var S=0,C=this.clusters;S<C.length;S++){var j=C[S];j.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype){var c=l;this.prototype[c]=a.prototype[c]}return this}).apply(e,[t])},n})();function ES(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function b3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ES(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var cr={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},at={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},E3={};function S3(n){var{children:e,options:t,averageCenter:i,batchSizeIE:a,calculator:l,clusterClass:c,enableRetinaIcons:f,gridSize:p,ignoreHidden:g,imageExtension:v,imagePath:S,imageSizes:C,maxZoom:j,minimumClusterSize:k,styles:B,title:H,zoomOnClick:K,onClick:Z,onClusteringBegin:ne,onClusteringEnd:X,onMouseOver:M,onMouseOut:z,onLoad:O,onUnmount:L}=n,[E,T]=y.useState(null),P=y.useContext(Ge),[U,x]=y.useState(null),[te,se]=y.useState(null),[G,w]=y.useState(null),[fe,F]=y.useState(null),[_,D]=y.useState(null);return y.useEffect(()=>{E&&z&&(fe!==null&&google.maps.event.removeListener(fe),F(google.maps.event.addListener(E,cr.onMouseOut,z)))},[z]),y.useEffect(()=>{E&&M&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(E,cr.onMouseOver,M)))},[M]),y.useEffect(()=>{E&&Z&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(E,cr.onClick,Z)))},[Z]),y.useEffect(()=>{E&&ne&&(te!==null&&google.maps.event.removeListener(te),se(google.maps.event.addListener(E,cr.onClusteringBegin,ne)))},[ne]),y.useEffect(()=>{E&&X&&(G!==null&&google.maps.event.removeListener(G),se(google.maps.event.addListener(E,cr.onClusteringEnd,X)))},[X]),y.useEffect(()=>{typeof i<"u"&&E!==null&&at.averageCenter(E,i)},[E,i]),y.useEffect(()=>{typeof a<"u"&&E!==null&&at.batchSizeIE(E,a)},[E,a]),y.useEffect(()=>{typeof l<"u"&&E!==null&&at.calculator(E,l)},[E,l]),y.useEffect(()=>{typeof c<"u"&&E!==null&&at.clusterClass(E,c)},[E,c]),y.useEffect(()=>{typeof f<"u"&&E!==null&&at.enableRetinaIcons(E,f)},[E,f]),y.useEffect(()=>{typeof p<"u"&&E!==null&&at.gridSize(E,p)},[E,p]),y.useEffect(()=>{typeof g<"u"&&E!==null&&at.ignoreHidden(E,g)},[E,g]),y.useEffect(()=>{typeof v<"u"&&E!==null&&at.imageExtension(E,v)},[E,v]),y.useEffect(()=>{typeof S<"u"&&E!==null&&at.imagePath(E,S)},[E,S]),y.useEffect(()=>{typeof C<"u"&&E!==null&&at.imageSizes(E,C)},[E,C]),y.useEffect(()=>{typeof j<"u"&&E!==null&&at.maxZoom(E,j)},[E,j]),y.useEffect(()=>{typeof k<"u"&&E!==null&&at.minimumClusterSize(E,k)},[E,k]),y.useEffect(()=>{typeof B<"u"&&E!==null&&at.styles(E,B)},[E,B]),y.useEffect(()=>{typeof H<"u"&&E!==null&&at.title(E,H)},[E,H]),y.useEffect(()=>{typeof K<"u"&&E!==null&&at.zoomOnClick(E,K)},[E,K]),y.useEffect(()=>{if(P){var q=b3({},t||E3),Y=new cA(P,[],q);return i&&at.averageCenter(Y,i),a&&at.batchSizeIE(Y,a),l&&at.calculator(Y,l),c&&at.clusterClass(Y,c),f&&at.enableRetinaIcons(Y,f),p&&at.gridSize(Y,p),g&&at.ignoreHidden(Y,g),v&&at.imageExtension(Y,v),S&&at.imagePath(Y,S),C&&at.imageSizes(Y,C),j&&at.maxZoom(Y,j),k&&at.minimumClusterSize(Y,k),B&&at.styles(Y,B),H&&at.title(Y,H),K&&at.zoomOnClick(Y,K),z&&F(google.maps.event.addListener(Y,cr.onMouseOut,z)),M&&D(google.maps.event.addListener(Y,cr.onMouseOver,M)),Z&&x(google.maps.event.addListener(Y,cr.onClick,Z)),ne&&se(google.maps.event.addListener(Y,cr.onClusteringBegin,ne)),X&&w(google.maps.event.addListener(Y,cr.onClusteringEnd,X)),T(Y),O&&O(Y),()=>{fe!==null&&google.maps.event.removeListener(fe),_!==null&&google.maps.event.removeListener(_),U!==null&&google.maps.event.removeListener(U),te!==null&&google.maps.event.removeListener(te),G!==null&&google.maps.event.removeListener(G),L&&L(Y)}}},[]),E!==null&&e(E)||null}y.memo(S3);class w3 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{markerClusterer:null}),he(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new cA(this.context,[],this.props.options);this.registeredEvents=We({updaterMap:at,eventMap:cr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:at,eventMap:cr,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Xe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}he(w3,"contextType",Ge);function SS(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var hA=(function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(v){v.returnValue=!1,v.preventDefault&&v.preventDefault(),e.enableEventPropagation||SS(v)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,f=l;c<f.length;c++){var p=f[c];this.eventListeners.push(google.maps.event.addListener(this.div,p,SS))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var i=0,a=0,l=t.getBounds();l&&!l.contains(this.position)&&t.setCenter(this.position);var c=t.getDiv(),f=c.offsetWidth,p=c.offsetHeight,g=this.pixelOffset.width,v=this.pixelOffset.height,S=this.div.offsetWidth,C=this.div.offsetHeight,j=this.infoBoxClearance.width,k=this.infoBoxClearance.height,B=this.getProjection(),H=B.fromLatLngToContainerPixel(this.position);H!==null&&(H.x<-g+j?i=H.x+g-j:H.x+S+g+j>f&&(i=H.x+S+g+j-f),this.alignBottom?H.y<-v+k+C?a=H.y+v-k-C:H.y+v+k>p&&(a=H.y+v+k-p):H.y<-v+k?a=H.y+v-k:H.y+C+v+k>p&&(a=H.y+C+v+k-p)),i===0&&a===0||t.panBy(i,a)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,i=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(e.top=parseInt(a.borderTopWidth||"",10)||0,e.bottom=parseInt(a.borderBottomWidth||"",10)||0,e.left=parseInt(a.borderLeftWidth||"",10)||0,e.right=parseInt(a.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var i=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var a=t.getPosition();i.setPosition(a)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){i.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var i=t[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype)Object.prototype.hasOwnProperty.call(this,l)||(this.prototype[l]=a.prototype[l]);return this}).apply(e,[t])},n})(),T3=["position"],C3=["position"];function wS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Of(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var TS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},CS={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},A3={};function R3(n){var{children:e,anchor:t,options:i,position:a,zIndex:l,onCloseClick:c,onDomReady:f,onContentChanged:p,onPositionChanged:g,onZindexChanged:v,onLoad:S,onUnmount:C}=n,j=y.useContext(Ge),[k,B]=y.useState(null),[H,K]=y.useState(null),[Z,ne]=y.useState(null),[X,M]=y.useState(null),[z,O]=y.useState(null),[L,E]=y.useState(null),T=y.useRef(null);return y.useEffect(()=>{j&&k!==null&&(k.close(),t?k.open(j,t):k.getPosition()&&k.open(j))},[j,k,t]),y.useEffect(()=>{i&&k!==null&&k.setOptions(i)},[k,i]),y.useEffect(()=>{if(a&&k!==null){var P=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);k.setPosition(P)}},[a]),y.useEffect(()=>{typeof l=="number"&&k!==null&&k.setZIndex(l)},[l]),y.useEffect(()=>{k&&c&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(k,"closeclick",c)))},[c]),y.useEffect(()=>{k&&f&&(Z!==null&&google.maps.event.removeListener(Z),ne(google.maps.event.addListener(k,"domready",f)))},[f]),y.useEffect(()=>{k&&p&&(X!==null&&google.maps.event.removeListener(X),M(google.maps.event.addListener(k,"content_changed",p)))},[p]),y.useEffect(()=>{k&&g&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(k,"position_changed",g)))},[g]),y.useEffect(()=>{k&&v&&(L!==null&&google.maps.event.removeListener(L),E(google.maps.event.addListener(k,"zindex_changed",v)))},[v]),y.useEffect(()=>{if(j){var P=i||A3,{position:U}=P,x=Iv(P,T3),te;U&&!(U instanceof google.maps.LatLng)&&(te=new google.maps.LatLng(U.lat,U.lng));var se=new hA(Of(Of({},x),te?{position:te}:{}));T.current=document.createElement("div"),B(se),c&&K(google.maps.event.addListener(se,"closeclick",c)),f&&ne(google.maps.event.addListener(se,"domready",f)),p&&M(google.maps.event.addListener(se,"content_changed",p)),g&&O(google.maps.event.addListener(se,"position_changed",g)),v&&E(google.maps.event.addListener(se,"zindex_changed",v)),se.setContent(T.current),t?se.open(j,t):se.getPosition()?se.open(j):Jt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),S&&S(se)}return()=>{k!==null&&(H&&google.maps.event.removeListener(H),X&&google.maps.event.removeListener(X),Z&&google.maps.event.removeListener(Z),z&&google.maps.event.removeListener(z),L&&google.maps.event.removeListener(L),C&&C(k),k.close())}},[]),T.current?rl.createPortal(y.Children.only(e),T.current):null}y.memo(R3);class L3 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"containerElement",null),he(this,"state",{infoBox:null}),he(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Jt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),he(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,i=Iv(e,C3),a;t&&!(t instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(t.lat,t.lng));var l=new hA(Of(Of({},i),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=We({updaterMap:CS,eventMap:TS,prevProps:{},nextProps:this.props,instance:l}),this.setState({infoBox:l},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:CS,eventMap:TS,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),Xe(this.registeredEvents),t.close())}render(){return this.containerElement?rl.createPortal(y.Children.only(this.props.children),this.containerElement):null}}he(L3,"contextType",Ge);var Hg,AS;function I3(){return AS||(AS=1,Hg=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,a,l;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(a=i;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(t).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=i;a--!==0;){var c=l[a];if(!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),Hg}var O3=I3(),RS=iA(O3),LS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],qg=1,bu=8;class Ov{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,i]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=i>>4;if(a!==qg)throw new Error("Got v".concat(a," data when expected v").concat(qg,"."));var l=LS[i&15];if(!l)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(e,2,1),[f]=new Uint32Array(e,4,1);return new Ov(f,c,l,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var l=LS.indexOf(this.ArrayType),c=e*2*this.ArrayType.BYTES_PER_ELEMENT,f=e*this.IndexArrayType.BYTES_PER_ELEMENT,p=(8-f%8)%8;if(l<0)throw new Error("Unexpected typed array class: ".concat(i,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,bu,e),this.coords=new this.ArrayType(this.data,bu+f+p,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(bu+c+f+p),this.ids=new this.IndexArrayType(this.data,bu,e),this.coords=new this.ArrayType(this.data,bu+f+p,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(qg<<4)+l]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=t,i}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Sm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,i,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:c,nodeSize:f}=this,p=[0,l.length-1,0],g=[];p.length;){var v=p.pop()||0,S=p.pop()||0,C=p.pop()||0;if(S-C<=f){for(var j=C;j<=S;j++){var k=c[2*j],B=c[2*j+1];k>=e&&k<=i&&B>=t&&B<=a&&g.push(l[j])}continue}var H=C+S>>1,K=c[2*H],Z=c[2*H+1];K>=e&&K<=i&&Z>=t&&Z<=a&&g.push(l[H]),(v===0?e<=K:t<=Z)&&(p.push(C),p.push(H-1),p.push(1-v)),(v===0?i>=K:a>=Z)&&(p.push(H+1),p.push(S),p.push(1-v))}return g}within(e,t,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,f=[0,a.length-1,0],p=[],g=i*i;f.length;){var v=f.pop()||0,S=f.pop()||0,C=f.pop()||0;if(S-C<=c){for(var j=C;j<=S;j++)IS(l[2*j],l[2*j+1],e,t)<=g&&p.push(a[j]);continue}var k=C+S>>1,B=l[2*k],H=l[2*k+1];IS(B,H,e,t)<=g&&p.push(a[k]),(v===0?e-i<=B:t-i<=H)&&(f.push(C),f.push(k-1),f.push(1-v)),(v===0?e+i>=B:t+i>=H)&&(f.push(k+1),f.push(S),f.push(1-v))}return p}}function Sm(n,e,t,i,a,l){if(!(a-i<=t)){var c=i+a>>1;fA(n,e,c,i,a,l),Sm(n,e,t,i,c-1,1-l),Sm(n,e,t,c+1,a,1-l)}}function fA(n,e,t,i,a,l){for(;a>i;){if(a-i>600){var c=a-i+1,f=t-i+1,p=Math.log(c),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(c-g)/c)*(f-c/2<0?-1:1),S=Math.max(i,Math.floor(t-f*g/c+v)),C=Math.min(a,Math.floor(t+(c-f)*g/c+v));fA(n,e,t,S,C,l)}var j=e[2*t+l],k=i,B=a;for(Eu(n,e,i,t),e[2*a+l]>j&&Eu(n,e,i,a);k<B;){for(Eu(n,e,k,B),k++,B--;e[2*k+l]<j;)k++;for(;e[2*B+l]>j;)B--}e[2*i+l]===j?Eu(n,e,i,B):(B++,Eu(n,e,B,a)),B<=t&&(i=B+1),t<=B&&(a=B-1)}}function Eu(n,e,t,i){Fg(n,t,i),Fg(e,2*t,2*i),Fg(e,2*t+1,2*i+1)}function Fg(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function IS(n,e,t,i){var a=n-t,l=e-i;return a*a+l*l}var x3={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},OS=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),Ta=2,ws=3,Gg=4,Ss=5,dA=6;class M3{constructor(e){this.options=Object.assign(Object.create(x3),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:i,maxZoom:a}=this.options;t&&console.time("total time");var l="prepare ".concat(e.length," points");t&&console.time(l),this.points=e;for(var c=[],f=0;f<e.length;f++){var p=e[f];if(p.geometry){var[g,v]=p.geometry.coordinates,S=OS(Vh(g)),C=OS(Uh(v));c.push(S,C,1/0,f,-1,1),this.options.reduce&&c.push(0)}}var j=this.trees[a+1]=this._createTree(c);t&&console.timeEnd(l);for(var k=a;k>=i;k--){var B=+Date.now();j=this.trees[k]=this._createTree(this._cluster(j,k)),t&&console.log("z%d: %d clusters in %dms",k,j.numItems,+Date.now()-B)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var i=((e[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,l=180;else if(i>l){var f=this.getClusters([i,a,180,c],t),p=this.getClusters([-180,a,l,c],t);return f.concat(p)}var g=this.trees[this._limitZoom(t)],v=g.range(Vh(i),Uh(c),Vh(l),Uh(a)),S=g.data,C=[];for(var j of v){var k=this.stride*j;C.push(S[k+Ss]>1?xS(S,k,this.clusterProps):this.points[S[k+ws]])}return C}getChildren(e){var t=this._getOriginId(e),i=this._getOriginZoom(e),a="No cluster with the specified id.",l=this.trees[i];if(!l)throw new Error(a);var c=l.data;if(t*this.stride>=c.length)throw new Error(a);var f=this.options.radius/(this.options.extent*Math.pow(2,i-1)),p=c[t*this.stride],g=c[t*this.stride+1],v=l.within(p,g,f),S=[];for(var C of v){var j=C*this.stride;c[j+Gg]===e&&S.push(c[j+Ss]>1?xS(c,j,this.clusterProps):this.points[c[j+ws]])}if(S.length===0)throw new Error(a);return S}getLeaves(e,t,i){t=t||10,i=i||0;var a=[];return this._appendLeaves(a,e,t,i,0),a}getTile(e,t,i){var a=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:c,radius:f}=this.options,p=f/c,g=(i-p)/l,v=(i+1+p)/l,S={features:[]};return this._addTileFeatures(a.range((t-p)/l,g,(t+1+p)/l,v),a.data,t,i,l,S),t===0&&this._addTileFeatures(a.range(1-p/l,g,1,v),a.data,l,i,l,S),t===l-1&&this._addTileFeatures(a.range(0,g,p/l,v),a.data,-1,i,l,S),S.features.length?S:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var i=this.getChildren(e);if(t++,i.length!==1)break;e=i[0].properties.cluster_id}return t}_appendLeaves(e,t,i,a,l){var c=this.getChildren(t);for(var f of c){var p=f.properties;if(p&&p.cluster?l+p.point_count<=a?l+=p.point_count:l=this._appendLeaves(e,p.cluster_id,i,a,l):l<a?l++:e.push(f),e.length===i)break}return l}_createTree(e){for(var t=new Ov(e.length/this.stride|0,this.options.nodeSize,Float32Array),i=0;i<e.length;i+=this.stride)t.add(e[i],e[i+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,i,a,l,c){for(var f of e){var p=f*this.stride,g=t[p+Ss]>1,v=void 0,S=void 0,C=void 0;if(g)v=pA(t,p,this.clusterProps),S=t[p],C=t[p+1];else{var j=this.points[t[p+ws]];v=j.properties;var[k,B]=j.geometry.coordinates;S=Vh(k),C=Uh(B)}var H={type:1,geometry:[[Math.round(this.options.extent*(S*l-i)),Math.round(this.options.extent*(C*l-a))]],tags:v},K=void 0;g||this.options.generateId?K=t[p+ws]:K=this.points[t[p+ws]].id,K!==void 0&&(H.id=K),c.features.push(H)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:i,extent:a,reduce:l,minPoints:c}=this.options,f=i/(a*Math.pow(2,t)),p=e.data,g=[],v=this.stride,S=0;S<p.length;S+=v)if(!(p[S+Ta]<=t)){p[S+Ta]=t;var C=p[S],j=p[S+1],k=e.within(p[S],p[S+1],f),B=p[S+Ss],H=B;for(var K of k){var Z=K*v;p[Z+Ta]>t&&(H+=p[Z+Ss])}if(H>B&&H>=c){var ne=C*B,X=j*B,M=void 0,z=-1,O=((S/v|0)<<5)+(t+1)+this.points.length;for(var L of k){var E=L*v;if(!(p[E+Ta]<=t)){p[E+Ta]=t;var T=p[E+Ss];ne+=p[E]*T,X+=p[E+1]*T,p[E+Gg]=O,l&&(M||(M=this._map(p,S,!0),z=this.clusterProps.length,this.clusterProps.push(M)),l(M,this._map(p,E)))}}p[S+Gg]=O,g.push(ne/H,X/H,1/0,O,-1,H),l&&g.push(z)}else{for(var P=0;P<v;P++)g.push(p[S+P]);if(H>1)for(var U of k){var x=U*v;if(!(p[x+Ta]<=t)){p[x+Ta]=t;for(var te=0;te<v;te++)g.push(p[x+te])}}}}return g}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,i){if(e[t+Ss]>1){var a=this.clusterProps[e[t+dA]];return i?Object.assign({},a):a}var l=this.points[e[t+ws]].properties,c=this.options.map(l);return i&&c===l?Object.assign({},c):c}}function xS(n,e,t){return{type:"Feature",id:n[e+ws],properties:pA(n,e,t),geometry:{type:"Point",coordinates:[P3(n[e]),k3(n[e+1])]}}}function pA(n,e,t){var i=n[e+Ss],a=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,l=n[e+dA],c=l===-1?{}:Object.assign({},t[l]);return Object.assign(c,{cluster:!0,cluster_id:n[e+ws],point_count:i,point_count_abbreviated:a})}function Vh(n){return n/360+.5}function Uh(n){var e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function P3(n){return(n-.5)*360}function k3(n){var e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function D3(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}class Gn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class wm{constructor(e){var{markers:t,position:i}=e;this.markers=t,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Gn.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Gn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Gn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class N3{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return j3(t)}}var j3=n=>{var e=n.map(t=>new wm({position:Gn.getPosition(t),markers:[t]}));return e};class V3 extends N3{constructor(e){var{maxZoom:t,radius:i=60}=e,a=D3(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new M3(Object.assign({maxZoom:this.maxZoom,radius:i},a))}calculate(e){var t=!1,i={zoom:e.map.getZoom()};if(!RS(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var a=this.markers.map(l=>{var c=Gn.getPosition(l),f=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:f},properties:{marker:l}}});this.superCluster.load(a)}return t||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(t=!RS(this.state,i)),this.state=i,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(i=>this.transformCluster(i))}transformCluster(e){var{geometry:{coordinates:[t,i]},properties:a}=e;if(a.cluster)return new wm({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:i,lng:t}});var l=a.marker;return new wm({markers:[l],position:Gn.getPosition(l)})}}class U3{constructor(e,t){this.markers={sum:e.length};var i=t.map(l=>l.count),a=i.reduce((l,c)=>l+c,0);this.clusters={count:t.length,markers:{mean:a/t.length,sum:a,min:Math.min(...i),max:Math.max(...i)}}}}class z3{render(e,t,i){var{count:a,position:l}=e,c=a>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",f='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),p="Cluster of ".concat(a," markers"),g=Number(google.maps.Marker.MAX_ZINDEX)+a;if(Gn.isAdvancedMarkerAvailable(i)){var v=new DOMParser,S=v.parseFromString(f,"image/svg+xml").documentElement;S.setAttribute("transform","translate(0 25)");var C={map:i,position:l,zIndex:g,title:p,content:S};return new google.maps.marker.AdvancedMarkerElement(C)}var j={position:l,zIndex:g,title:p,icon:{url:"data:image/svg+xml;base64,".concat(btoa(f)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(j)}}function B3(n,e){for(var t in e.prototype)n.prototype[t]=e.prototype[t]}class xv{constructor(){B3(xv,google.maps.OverlayView)}}var Du;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(Du||(Du={}));var H3=(n,e,t)=>{t.fitBounds(e.bounds)};class q3 extends xv{constructor(e){var{map:t,markers:i=[],algorithmOptions:a={},algorithm:l=new V3(a),renderer:c=new z3,onClusterClick:f=H3}=e;super(),this.markers=[...i],this.clusters=[],this.algorithm=l,this.renderer=c,this.onClusterClick=f,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(i=>{this.addMarker(i,!0)}),t||this.render()}removeMarker(e,t){var i=this.markers.indexOf(e);return i===-1?!1:(Gn.setMap(e,null),this.markers.splice(i,1),t||this.render(),!0)}removeMarkers(e,t){var i=!1;return e.forEach(a=>{i=this.removeMarker(a,!0)||i}),i&&!t&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Du.CLUSTERING_BEGIN,this);var{clusters:t,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){var a=new Set;for(var l of t)l.markers.length==1&&a.add(l.markers[0]);var c=[];for(var f of this.clusters)f.marker!=null&&(f.markers.length==1?a.has(f.marker)||Gn.setMap(f.marker,null):c.push(f.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>c.forEach(p=>Gn.setMap(p,null)))}google.maps.event.trigger(this,Du.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Gn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new U3(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,t),i.markers.forEach(a=>Gn.setMap(a,null)),this.onClusterClick&&i.marker.addListener("click",a=>{google.maps.event.trigger(this,Du.CLUSTER_CLICK,i),this.onClusterClick(a,i,t)})),Gn.setMap(i.marker,t)})}}function MS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function PS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function F3(n){var e=Nj(),[t,i]=y.useState(null);return y.useEffect(()=>{if(e&&t===null){var a=new q3(PS(PS({},n),{},{map:e}));i(a)}},[e]),t}function G3(n){var{children:e,options:t}=n,i=F3(t);return i!==null?e(i):null}y.memo(G3);var kS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},DS={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function $3(n){var{children:e,anchor:t,options:i,position:a,zIndex:l,onCloseClick:c,onDomReady:f,onContentChanged:p,onPositionChanged:g,onZindexChanged:v,onLoad:S,onUnmount:C}=n,j=y.useContext(Ge),[k,B]=y.useState(null),[H,K]=y.useState(null),[Z,ne]=y.useState(null),[X,M]=y.useState(null),[z,O]=y.useState(null),[L,E]=y.useState(null),T=y.useRef(null);return y.useEffect(()=>{k!==null&&(k.close(),t?k.open(j,t):k.getPosition()&&k.open(j))},[j,k,t]),y.useEffect(()=>{i&&k!==null&&k.setOptions(i)},[k,i]),y.useEffect(()=>{a&&k!==null&&k.setPosition(a)},[a]),y.useEffect(()=>{typeof l=="number"&&k!==null&&k.setZIndex(l)},[l]),y.useEffect(()=>{k&&c&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(k,"closeclick",c)))},[c]),y.useEffect(()=>{k&&f&&(Z!==null&&google.maps.event.removeListener(Z),ne(google.maps.event.addListener(k,"domready",f)))},[f]),y.useEffect(()=>{k&&p&&(X!==null&&google.maps.event.removeListener(X),M(google.maps.event.addListener(k,"content_changed",p)))},[p]),y.useEffect(()=>{k&&g&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(k,"position_changed",g)))},[g]),y.useEffect(()=>{k&&v&&(L!==null&&google.maps.event.removeListener(L),E(google.maps.event.addListener(k,"zindex_changed",v)))},[v]),y.useEffect(()=>{var P=new google.maps.InfoWindow(i);return B(P),T.current=document.createElement("div"),c&&K(google.maps.event.addListener(P,"closeclick",c)),f&&ne(google.maps.event.addListener(P,"domready",f)),p&&M(google.maps.event.addListener(P,"content_changed",p)),g&&O(google.maps.event.addListener(P,"position_changed",g)),v&&E(google.maps.event.addListener(P,"zindex_changed",v)),P.setContent(T.current),a&&P.setPosition(a),l&&P.setZIndex(l),t?P.open(j,t):P.getPosition()?P.open(j):Jt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),S&&S(P),()=>{H&&google.maps.event.removeListener(H),X&&google.maps.event.removeListener(X),Z&&google.maps.event.removeListener(Z),z&&google.maps.event.removeListener(z),L&&google.maps.event.removeListener(L),C&&C(P),P.close()}},[]),T.current?rl.createPortal(y.Children.only(e),T.current):null}y.memo($3);class K3 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"containerElement",null),he(this,"state",{infoWindow:null}),he(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Jt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),he(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=We({updaterMap:DS,eventMap:kS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:DS,eventMap:kS,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Xe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?rl.createPortal(y.Children.only(this.props.children),this.containerElement):null}}he(K3,"contextType",Ge);function NS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function xf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var jS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},VS={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},W3={};function Y3(n){var{options:e,draggable:t,editable:i,visible:a,path:l,onDblClick:c,onDragEnd:f,onDragStart:p,onMouseDown:g,onMouseMove:v,onMouseOut:S,onMouseOver:C,onMouseUp:j,onRightClick:k,onClick:B,onDrag:H,onLoad:K,onUnmount:Z}=n,ne=y.useContext(Ge),[X,M]=y.useState(null),[z,O]=y.useState(null),[L,E]=y.useState(null),[T,P]=y.useState(null),[U,x]=y.useState(null),[te,se]=y.useState(null),[G,w]=y.useState(null),[fe,F]=y.useState(null),[_,D]=y.useState(null),[q,Y]=y.useState(null),[J,W]=y.useState(null),[oe,pe]=y.useState(null);return y.useEffect(()=>{X!==null&&X.setMap(ne)},[ne]),y.useEffect(()=>{typeof e<"u"&&X!==null&&X.setOptions(e)},[X,e]),y.useEffect(()=>{typeof t<"u"&&X!==null&&X.setDraggable(t)},[X,t]),y.useEffect(()=>{typeof i<"u"&&X!==null&&X.setEditable(i)},[X,i]),y.useEffect(()=>{typeof a<"u"&&X!==null&&X.setVisible(a)},[X,a]),y.useEffect(()=>{typeof l<"u"&&X!==null&&X.setPath(l)},[X,l]),y.useEffect(()=>{X&&c&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(X,"dblclick",c)))},[c]),y.useEffect(()=>{X&&f&&(L!==null&&google.maps.event.removeListener(L),E(google.maps.event.addListener(X,"dragend",f)))},[f]),y.useEffect(()=>{X&&p&&(T!==null&&google.maps.event.removeListener(T),P(google.maps.event.addListener(X,"dragstart",p)))},[p]),y.useEffect(()=>{X&&g&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(X,"mousedown",g)))},[g]),y.useEffect(()=>{X&&v&&(te!==null&&google.maps.event.removeListener(te),se(google.maps.event.addListener(X,"mousemove",v)))},[v]),y.useEffect(()=>{X&&S&&(G!==null&&google.maps.event.removeListener(G),w(google.maps.event.addListener(X,"mouseout",S)))},[S]),y.useEffect(()=>{X&&C&&(fe!==null&&google.maps.event.removeListener(fe),F(google.maps.event.addListener(X,"mouseover",C)))},[C]),y.useEffect(()=>{X&&j&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(X,"mouseup",j)))},[j]),y.useEffect(()=>{X&&k&&(q!==null&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(X,"rightclick",k)))},[k]),y.useEffect(()=>{X&&B&&(J!==null&&google.maps.event.removeListener(J),W(google.maps.event.addListener(X,"click",B)))},[B]),y.useEffect(()=>{X&&H&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(X,"drag",H)))},[H]),y.useEffect(()=>{var _e=new google.maps.Polyline(xf(xf({},e||W3),{},{map:ne}));return l&&_e.setPath(l),typeof a<"u"&&_e.setVisible(a),typeof i<"u"&&_e.setEditable(i),typeof t<"u"&&_e.setDraggable(t),c&&O(google.maps.event.addListener(_e,"dblclick",c)),f&&E(google.maps.event.addListener(_e,"dragend",f)),p&&P(google.maps.event.addListener(_e,"dragstart",p)),g&&x(google.maps.event.addListener(_e,"mousedown",g)),v&&se(google.maps.event.addListener(_e,"mousemove",v)),S&&w(google.maps.event.addListener(_e,"mouseout",S)),C&&F(google.maps.event.addListener(_e,"mouseover",C)),j&&D(google.maps.event.addListener(_e,"mouseup",j)),k&&Y(google.maps.event.addListener(_e,"rightclick",k)),B&&W(google.maps.event.addListener(_e,"click",B)),H&&pe(google.maps.event.addListener(_e,"drag",H)),M(_e),K&&K(_e),()=>{z!==null&&google.maps.event.removeListener(z),L!==null&&google.maps.event.removeListener(L),T!==null&&google.maps.event.removeListener(T),U!==null&&google.maps.event.removeListener(U),te!==null&&google.maps.event.removeListener(te),G!==null&&google.maps.event.removeListener(G),fe!==null&&google.maps.event.removeListener(fe),_!==null&&google.maps.event.removeListener(_),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),Z&&Z(_e),_e.setMap(null)}},[]),null}y.memo(Y3);class Q3 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{polyline:null}),he(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(xf(xf({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:VS,eventMap:jS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:VS,eventMap:jS,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Xe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}he(Q3,"contextType",Ge);function US(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function zS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?US(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):US(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var BS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},HS={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function X3(n){var{options:e,draggable:t,editable:i,visible:a,path:l,paths:c,onDblClick:f,onDragEnd:p,onDragStart:g,onMouseDown:v,onMouseMove:S,onMouseOut:C,onMouseOver:j,onMouseUp:k,onRightClick:B,onClick:H,onDrag:K,onLoad:Z,onUnmount:ne,onEdit:X}=n,M=y.useContext(Ge),[z,O]=y.useState(null),[L,E]=y.useState(null),[T,P]=y.useState(null),[U,x]=y.useState(null),[te,se]=y.useState(null),[G,w]=y.useState(null),[fe,F]=y.useState(null),[_,D]=y.useState(null),[q,Y]=y.useState(null),[J,W]=y.useState(null),[oe,pe]=y.useState(null),[_e,Ae]=y.useState(null);return y.useEffect(()=>{z!==null&&z.setMap(M)},[M]),y.useEffect(()=>{typeof e<"u"&&z!==null&&z.setOptions(e)},[z,e]),y.useEffect(()=>{typeof t<"u"&&z!==null&&z.setDraggable(t)},[z,t]),y.useEffect(()=>{typeof i<"u"&&z!==null&&z.setEditable(i)},[z,i]),y.useEffect(()=>{typeof a<"u"&&z!==null&&z.setVisible(a)},[z,a]),y.useEffect(()=>{typeof l<"u"&&z!==null&&z.setPath(l)},[z,l]),y.useEffect(()=>{typeof c<"u"&&z!==null&&z.setPaths(c)},[z,c]),y.useEffect(()=>{z&&typeof f=="function"&&(L!==null&&google.maps.event.removeListener(L),E(google.maps.event.addListener(z,"dblclick",f)))},[f]),y.useEffect(()=>{z&&(google.maps.event.addListener(z.getPath(),"insert_at",()=>{X?.(z)}),google.maps.event.addListener(z.getPath(),"set_at",()=>{X?.(z)}),google.maps.event.addListener(z.getPath(),"remove_at",()=>{X?.(z)}))},[z,X]),y.useEffect(()=>{z&&typeof p=="function"&&(T!==null&&google.maps.event.removeListener(T),P(google.maps.event.addListener(z,"dragend",p)))},[p]),y.useEffect(()=>{z&&typeof g=="function"&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(z,"dragstart",g)))},[g]),y.useEffect(()=>{z&&typeof v=="function"&&(te!==null&&google.maps.event.removeListener(te),se(google.maps.event.addListener(z,"mousedown",v)))},[v]),y.useEffect(()=>{z&&typeof S=="function"&&(G!==null&&google.maps.event.removeListener(G),w(google.maps.event.addListener(z,"mousemove",S)))},[S]),y.useEffect(()=>{z&&typeof C=="function"&&(fe!==null&&google.maps.event.removeListener(fe),F(google.maps.event.addListener(z,"mouseout",C)))},[C]),y.useEffect(()=>{z&&typeof j=="function"&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(z,"mouseover",j)))},[j]),y.useEffect(()=>{z&&typeof k=="function"&&(q!==null&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(z,"mouseup",k)))},[k]),y.useEffect(()=>{z&&typeof B=="function"&&(J!==null&&google.maps.event.removeListener(J),W(google.maps.event.addListener(z,"rightclick",B)))},[B]),y.useEffect(()=>{z&&typeof H=="function"&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(z,"click",H)))},[H]),y.useEffect(()=>{z&&typeof K=="function"&&(_e!==null&&google.maps.event.removeListener(_e),Ae(google.maps.event.addListener(z,"drag",K)))},[K]),y.useEffect(()=>{var be=new google.maps.Polygon(zS(zS({},e),{},{map:M}));return l&&be.setPath(l),c&&be.setPaths(c),typeof a<"u"&&be.setVisible(a),typeof i<"u"&&be.setEditable(i),typeof t<"u"&&be.setDraggable(t),f&&E(google.maps.event.addListener(be,"dblclick",f)),p&&P(google.maps.event.addListener(be,"dragend",p)),g&&x(google.maps.event.addListener(be,"dragstart",g)),v&&se(google.maps.event.addListener(be,"mousedown",v)),S&&w(google.maps.event.addListener(be,"mousemove",S)),C&&F(google.maps.event.addListener(be,"mouseout",C)),j&&D(google.maps.event.addListener(be,"mouseover",j)),k&&Y(google.maps.event.addListener(be,"mouseup",k)),B&&W(google.maps.event.addListener(be,"rightclick",B)),H&&pe(google.maps.event.addListener(be,"click",H)),K&&Ae(google.maps.event.addListener(be,"drag",K)),O(be),Z&&Z(be),()=>{L!==null&&google.maps.event.removeListener(L),T!==null&&google.maps.event.removeListener(T),U!==null&&google.maps.event.removeListener(U),te!==null&&google.maps.event.removeListener(te),G!==null&&google.maps.event.removeListener(G),fe!==null&&google.maps.event.removeListener(fe),_!==null&&google.maps.event.removeListener(_),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),oe!==null&&google.maps.event.removeListener(oe),ne&&ne(be),be.setMap(null)}},[]),null}y.memo(X3);class Z3 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=We({updaterMap:HS,eventMap:BS,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:HS,eventMap:BS,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Xe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}he(Z3,"contextType",Ge);function qS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Mf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var FS={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},GS={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function J3(n){var{options:e,bounds:t,draggable:i,editable:a,visible:l,onDblClick:c,onDragEnd:f,onDragStart:p,onMouseDown:g,onMouseMove:v,onMouseOut:S,onMouseOver:C,onMouseUp:j,onRightClick:k,onClick:B,onDrag:H,onBoundsChanged:K,onLoad:Z,onUnmount:ne}=n,X=y.useContext(Ge),[M,z]=y.useState(null),[O,L]=y.useState(null),[E,T]=y.useState(null),[P,U]=y.useState(null),[x,te]=y.useState(null),[se,G]=y.useState(null),[w,fe]=y.useState(null),[F,_]=y.useState(null),[D,q]=y.useState(null),[Y,J]=y.useState(null),[W,oe]=y.useState(null),[pe,_e]=y.useState(null),[Ae,be]=y.useState(null);return y.useEffect(()=>{M!==null&&M.setMap(X)},[X]),y.useEffect(()=>{typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),y.useEffect(()=>{typeof i<"u"&&M!==null&&M.setDraggable(i)},[M,i]),y.useEffect(()=>{typeof a<"u"&&M!==null&&M.setEditable(a)},[M,a]),y.useEffect(()=>{typeof l<"u"&&M!==null&&M.setVisible(l)},[M,l]),y.useEffect(()=>{typeof t<"u"&&M!==null&&M.setBounds(t)},[M,t]),y.useEffect(()=>{M&&c&&(O!==null&&google.maps.event.removeListener(O),L(google.maps.event.addListener(M,"dblclick",c)))},[c]),y.useEffect(()=>{M&&f&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(M,"dragend",f)))},[f]),y.useEffect(()=>{M&&p&&(P!==null&&google.maps.event.removeListener(P),U(google.maps.event.addListener(M,"dragstart",p)))},[p]),y.useEffect(()=>{M&&g&&(x!==null&&google.maps.event.removeListener(x),te(google.maps.event.addListener(M,"mousedown",g)))},[g]),y.useEffect(()=>{M&&v&&(se!==null&&google.maps.event.removeListener(se),G(google.maps.event.addListener(M,"mousemove",v)))},[v]),y.useEffect(()=>{M&&S&&(w!==null&&google.maps.event.removeListener(w),fe(google.maps.event.addListener(M,"mouseout",S)))},[S]),y.useEffect(()=>{M&&C&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(M,"mouseover",C)))},[C]),y.useEffect(()=>{M&&j&&(D!==null&&google.maps.event.removeListener(D),q(google.maps.event.addListener(M,"mouseup",j)))},[j]),y.useEffect(()=>{M&&k&&(Y!==null&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(M,"rightclick",k)))},[k]),y.useEffect(()=>{M&&B&&(W!==null&&google.maps.event.removeListener(W),oe(google.maps.event.addListener(M,"click",B)))},[B]),y.useEffect(()=>{M&&H&&(pe!==null&&google.maps.event.removeListener(pe),_e(google.maps.event.addListener(M,"drag",H)))},[H]),y.useEffect(()=>{M&&K&&(Ae!==null&&google.maps.event.removeListener(Ae),be(google.maps.event.addListener(M,"bounds_changed",K)))},[K]),y.useEffect(()=>{var we=new google.maps.Rectangle(Mf(Mf({},e),{},{map:X}));return typeof l<"u"&&we.setVisible(l),typeof a<"u"&&we.setEditable(a),typeof i<"u"&&we.setDraggable(i),typeof t<"u"&&we.setBounds(t),c&&L(google.maps.event.addListener(we,"dblclick",c)),f&&T(google.maps.event.addListener(we,"dragend",f)),p&&U(google.maps.event.addListener(we,"dragstart",p)),g&&te(google.maps.event.addListener(we,"mousedown",g)),v&&G(google.maps.event.addListener(we,"mousemove",v)),S&&fe(google.maps.event.addListener(we,"mouseout",S)),C&&_(google.maps.event.addListener(we,"mouseover",C)),j&&q(google.maps.event.addListener(we,"mouseup",j)),k&&J(google.maps.event.addListener(we,"rightclick",k)),B&&oe(google.maps.event.addListener(we,"click",B)),H&&_e(google.maps.event.addListener(we,"drag",H)),K&&be(google.maps.event.addListener(we,"bounds_changed",K)),z(we),Z&&Z(we),()=>{O!==null&&google.maps.event.removeListener(O),E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),x!==null&&google.maps.event.removeListener(x),se!==null&&google.maps.event.removeListener(se),w!==null&&google.maps.event.removeListener(w),F!==null&&google.maps.event.removeListener(F),D!==null&&google.maps.event.removeListener(D),Y!==null&&google.maps.event.removeListener(Y),W!==null&&google.maps.event.removeListener(W),pe!==null&&google.maps.event.removeListener(pe),Ae!==null&&google.maps.event.removeListener(Ae),ne&&ne(we),we.setMap(null)}},[]),null}y.memo(J3);class e6 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{rectangle:null}),he(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Mf(Mf({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:GS,eventMap:FS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:GS,eventMap:FS,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Xe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}he(e6,"contextType",Ge);function $S(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Pf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$S(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var KS={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},WS={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},t6={};function n6(n){var{options:e,center:t,radius:i,draggable:a,editable:l,visible:c,onDblClick:f,onDragEnd:p,onDragStart:g,onMouseDown:v,onMouseMove:S,onMouseOut:C,onMouseOver:j,onMouseUp:k,onRightClick:B,onClick:H,onDrag:K,onCenterChanged:Z,onRadiusChanged:ne,onLoad:X,onUnmount:M}=n,z=y.useContext(Ge),[O,L]=y.useState(null),[E,T]=y.useState(null),[P,U]=y.useState(null),[x,te]=y.useState(null),[se,G]=y.useState(null),[w,fe]=y.useState(null),[F,_]=y.useState(null),[D,q]=y.useState(null),[Y,J]=y.useState(null),[W,oe]=y.useState(null),[pe,_e]=y.useState(null),[Ae,be]=y.useState(null),[we,je]=y.useState(null),[ke,De]=y.useState(null);return y.useEffect(()=>{O!==null&&O.setMap(z)},[z]),y.useEffect(()=>{typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),y.useEffect(()=>{typeof a<"u"&&O!==null&&O.setDraggable(a)},[O,a]),y.useEffect(()=>{typeof l<"u"&&O!==null&&O.setEditable(l)},[O,l]),y.useEffect(()=>{typeof c<"u"&&O!==null&&O.setVisible(c)},[O,c]),y.useEffect(()=>{typeof i=="number"&&O!==null&&O.setRadius(i)},[O,i]),y.useEffect(()=>{typeof t<"u"&&O!==null&&O.setCenter(t)},[O,t]),y.useEffect(()=>{O&&f&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(O,"dblclick",f)))},[f]),y.useEffect(()=>{O&&p&&(P!==null&&google.maps.event.removeListener(P),U(google.maps.event.addListener(O,"dragend",p)))},[p]),y.useEffect(()=>{O&&g&&(x!==null&&google.maps.event.removeListener(x),te(google.maps.event.addListener(O,"dragstart",g)))},[g]),y.useEffect(()=>{O&&v&&(se!==null&&google.maps.event.removeListener(se),G(google.maps.event.addListener(O,"mousedown",v)))},[v]),y.useEffect(()=>{O&&S&&(w!==null&&google.maps.event.removeListener(w),fe(google.maps.event.addListener(O,"mousemove",S)))},[S]),y.useEffect(()=>{O&&C&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(O,"mouseout",C)))},[C]),y.useEffect(()=>{O&&j&&(D!==null&&google.maps.event.removeListener(D),q(google.maps.event.addListener(O,"mouseover",j)))},[j]),y.useEffect(()=>{O&&k&&(Y!==null&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(O,"mouseup",k)))},[k]),y.useEffect(()=>{O&&B&&(W!==null&&google.maps.event.removeListener(W),oe(google.maps.event.addListener(O,"rightclick",B)))},[B]),y.useEffect(()=>{O&&H&&(pe!==null&&google.maps.event.removeListener(pe),_e(google.maps.event.addListener(O,"click",H)))},[H]),y.useEffect(()=>{O&&K&&(Ae!==null&&google.maps.event.removeListener(Ae),be(google.maps.event.addListener(O,"drag",K)))},[K]),y.useEffect(()=>{O&&Z&&(we!==null&&google.maps.event.removeListener(we),je(google.maps.event.addListener(O,"center_changed",Z)))},[H]),y.useEffect(()=>{O&&ne&&(ke!==null&&google.maps.event.removeListener(ke),De(google.maps.event.addListener(O,"radius_changed",ne)))},[ne]),y.useEffect(()=>{var Re=new google.maps.Circle(Pf(Pf({},e||t6),{},{map:z}));return typeof i=="number"&&Re.setRadius(i),typeof t<"u"&&Re.setCenter(t),typeof i=="number"&&Re.setRadius(i),typeof c<"u"&&Re.setVisible(c),typeof l<"u"&&Re.setEditable(l),typeof a<"u"&&Re.setDraggable(a),f&&T(google.maps.event.addListener(Re,"dblclick",f)),p&&U(google.maps.event.addListener(Re,"dragend",p)),g&&te(google.maps.event.addListener(Re,"dragstart",g)),v&&G(google.maps.event.addListener(Re,"mousedown",v)),S&&fe(google.maps.event.addListener(Re,"mousemove",S)),C&&_(google.maps.event.addListener(Re,"mouseout",C)),j&&q(google.maps.event.addListener(Re,"mouseover",j)),k&&J(google.maps.event.addListener(Re,"mouseup",k)),B&&oe(google.maps.event.addListener(Re,"rightclick",B)),H&&_e(google.maps.event.addListener(Re,"click",H)),K&&be(google.maps.event.addListener(Re,"drag",K)),Z&&je(google.maps.event.addListener(Re,"center_changed",Z)),ne&&De(google.maps.event.addListener(Re,"radius_changed",ne)),L(Re),X&&X(Re),()=>{E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),x!==null&&google.maps.event.removeListener(x),se!==null&&google.maps.event.removeListener(se),w!==null&&google.maps.event.removeListener(w),F!==null&&google.maps.event.removeListener(F),D!==null&&google.maps.event.removeListener(D),Y!==null&&google.maps.event.removeListener(Y),W!==null&&google.maps.event.removeListener(W),pe!==null&&google.maps.event.removeListener(pe),we!==null&&google.maps.event.removeListener(we),ke!==null&&google.maps.event.removeListener(ke),M&&M(Re),Re.setMap(null)}},[]),null}y.memo(n6);class r6 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{circle:null}),he(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Pf(Pf({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:WS,eventMap:KS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:WS,eventMap:KS,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Xe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}he(r6,"contextType",Ge);function YS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function kf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var QS={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},XS={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,i){n.loadGeoJson(e,t,i)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function i6(n){var{options:e,onClick:t,onDblClick:i,onMouseDown:a,onMouseMove:l,onMouseOut:c,onMouseOver:f,onMouseUp:p,onRightClick:g,onAddFeature:v,onRemoveFeature:S,onRemoveProperty:C,onSetGeometry:j,onSetProperty:k,onLoad:B,onUnmount:H}=n,K=y.useContext(Ge),[Z,ne]=y.useState(null),[X,M]=y.useState(null),[z,O]=y.useState(null),[L,E]=y.useState(null),[T,P]=y.useState(null),[U,x]=y.useState(null),[te,se]=y.useState(null),[G,w]=y.useState(null),[fe,F]=y.useState(null),[_,D]=y.useState(null),[q,Y]=y.useState(null),[J,W]=y.useState(null),[oe,pe]=y.useState(null),[_e,Ae]=y.useState(null);return y.useEffect(()=>{Z!==null&&Z.setMap(K)},[K]),y.useEffect(()=>{Z&&i&&(X!==null&&google.maps.event.removeListener(X),M(google.maps.event.addListener(Z,"dblclick",i)))},[i]),y.useEffect(()=>{Z&&a&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(Z,"mousedown",a)))},[a]),y.useEffect(()=>{Z&&l&&(L!==null&&google.maps.event.removeListener(L),E(google.maps.event.addListener(Z,"mousemove",l)))},[l]),y.useEffect(()=>{Z&&c&&(T!==null&&google.maps.event.removeListener(T),P(google.maps.event.addListener(Z,"mouseout",c)))},[c]),y.useEffect(()=>{Z&&f&&(U!==null&&google.maps.event.removeListener(U),x(google.maps.event.addListener(Z,"mouseover",f)))},[f]),y.useEffect(()=>{Z&&p&&(te!==null&&google.maps.event.removeListener(te),se(google.maps.event.addListener(Z,"mouseup",p)))},[p]),y.useEffect(()=>{Z&&g&&(G!==null&&google.maps.event.removeListener(G),w(google.maps.event.addListener(Z,"rightclick",g)))},[g]),y.useEffect(()=>{Z&&t&&(fe!==null&&google.maps.event.removeListener(fe),F(google.maps.event.addListener(Z,"click",t)))},[t]),y.useEffect(()=>{Z&&v&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(Z,"addfeature",v)))},[v]),y.useEffect(()=>{Z&&S&&(q!==null&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(Z,"removefeature",S)))},[S]),y.useEffect(()=>{Z&&C&&(J!==null&&google.maps.event.removeListener(J),W(google.maps.event.addListener(Z,"removeproperty",C)))},[C]),y.useEffect(()=>{Z&&j&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(Z,"setgeometry",j)))},[j]),y.useEffect(()=>{Z&&k&&(_e!==null&&google.maps.event.removeListener(_e),Ae(google.maps.event.addListener(Z,"setproperty",k)))},[k]),y.useEffect(()=>{if(K!==null){var be=new google.maps.Data(kf(kf({},e),{},{map:K}));i&&M(google.maps.event.addListener(be,"dblclick",i)),a&&O(google.maps.event.addListener(be,"mousedown",a)),l&&E(google.maps.event.addListener(be,"mousemove",l)),c&&P(google.maps.event.addListener(be,"mouseout",c)),f&&x(google.maps.event.addListener(be,"mouseover",f)),p&&se(google.maps.event.addListener(be,"mouseup",p)),g&&w(google.maps.event.addListener(be,"rightclick",g)),t&&F(google.maps.event.addListener(be,"click",t)),v&&D(google.maps.event.addListener(be,"addfeature",v)),S&&Y(google.maps.event.addListener(be,"removefeature",S)),C&&W(google.maps.event.addListener(be,"removeproperty",C)),j&&pe(google.maps.event.addListener(be,"setgeometry",j)),k&&Ae(google.maps.event.addListener(be,"setproperty",k)),ne(be),B&&B(be)}return()=>{Z&&(X!==null&&google.maps.event.removeListener(X),z!==null&&google.maps.event.removeListener(z),L!==null&&google.maps.event.removeListener(L),T!==null&&google.maps.event.removeListener(T),U!==null&&google.maps.event.removeListener(U),te!==null&&google.maps.event.removeListener(te),G!==null&&google.maps.event.removeListener(G),fe!==null&&google.maps.event.removeListener(fe),_!==null&&google.maps.event.removeListener(_),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),oe!==null&&google.maps.event.removeListener(oe),_e!==null&&google.maps.event.removeListener(_e),H&&H(Z),Z.setMap(null))}},[]),null}y.memo(i6);class s6 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{data:null}),he(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(kf(kf({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:XS,eventMap:QS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:XS,eventMap:QS,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Xe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}he(s6,"contextType",Ge);function ZS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function JS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ew={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},tw={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class a6 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{kmlLayer:null}),he(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(JS(JS({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:tw,eventMap:ew,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:tw,eventMap:ew,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Xe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}he(a6,"contextType",Ge);function gA(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function o6(n,e){return new e(n.lat,n.lng)}function l6(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function u6(n,e,t){return n instanceof e?n:t(n,e)}function c6(n,e,t){return n instanceof e?n:t(n,e)}function h6(n,e,t){var i=n&&n.fromLatLngToDivPixel(t.getNorthEast()),a=n&&n.fromLatLngToDivPixel(t.getSouthWest());return i&&a?{left:"".concat(a.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-a.x-e.x,"px"),height:"".concat(a.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function f6(n,e,t){var i=n&&n.fromLatLngToDivPixel(t);if(i){var{x:a,y:l}=i;return{left:"".concat(a+e.x,"px"),top:"".concat(l+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function mA(n,e,t,i){return t!==void 0?h6(n,e,c6(t,google.maps.LatLngBounds,l6)):f6(n,e,u6(i,google.maps.LatLng,o6))}function d6(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function nw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function p6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nw(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function g6(n,e,t,i,a){class l extends google.maps.OverlayView{constructor(f,p,g,v){super(),this.container=f,this.pane=p,this.position=g,this.bounds=v}onAdd(){var f,p=(f=this.getPanes())===null||f===void 0?void 0:f[this.pane];p?.appendChild(this.container)}draw(){var f=this.getProjection(),p=p6({},this.container?gA(this.container,a):{x:0,y:0}),g=mA(f,p,this.bounds,this.position);for(var[v,S]of Object.entries(g))this.container.style[v]=S}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new l(n,e,t,i)}function rw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function m6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rw(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function iw(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function sw(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function v6(n){var{position:e,bounds:t,mapPaneName:i,zIndex:a,onLoad:l,onUnmount:c,getPixelPositionOffset:f,children:p}=n,g=y.useContext(Ge),v=y.useMemo(()=>{var C=document.createElement("div");return C.style.position="absolute",C},[]),S=y.useMemo(()=>g6(v,i,e,t,f),[v,i,e,t]);return y.useEffect(()=>(l?.(S),S?.setMap(g),()=>{c?.(S),S?.setMap(null)}),[g,S]),y.useEffect(()=>{v.style.zIndex="".concat(a)},[a,v]),rl.createPortal(p,v)}y.memo(v6);class fl extends y.PureComponent{constructor(e){super(e),he(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),he(this,"updatePane",()=>{var i=this.props.mapPaneName,a=this.overlayView.getPanes();Jt(!!i,"OverlayView requires props.mapPaneName but got %s",i),a?this.setState({paneEl:a[i]}):this.setState({paneEl:null})}),he(this,"onAdd",()=>{var i,a;this.updatePane(),(i=(a=this.props).onLoad)===null||i===void 0||i.call(a,this.overlayView)}),he(this,"onPositionElement",()=>{var i=this.overlayView.getProjection(),a=m6({x:0,y:0},this.containerRef.current?gA(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=mA(i,a,this.props.bounds,this.props.position);if(!d6(l,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,f,p,g;this.setState({containerStyle:{top:(c=l.top)!==null&&c!==void 0?c:0,left:(f=l.left)!==null&&f!==void 0?f:0,width:(p=l.width)!==null&&p!==void 0?p:0,height:(g=l.height)!==null&&g!==void 0?g:0,position:"absolute"}})}}),he(this,"draw",()=>{this.onPositionElement()}),he(this,"onRemove",()=>{var i,a;this.setState(()=>({paneEl:null})),(i=(a=this.props).onUnmount)===null||i===void 0||i.call(a,this.overlayView)}),this.containerRef=y.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=iw(e.position),i=iw(this.props.position),a=sw(e.bounds),l=sw(this.props.bounds);(t!==i||a!==l)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?rl.createPortal(I.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}he(fl,"FLOAT_PANE","floatPane");he(fl,"MAP_PANE","mapPane");he(fl,"MARKER_LAYER","markerLayer");he(fl,"OVERLAY_LAYER","overlayLayer");he(fl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");he(fl,"contextType",Ge);function y6(){}function aw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function ow(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aw(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var lw={onDblClick:"dblclick",onClick:"click"},uw={opacity(n,e){n.setOpacity(e)}};function _6(n){var{url:e,bounds:t,options:i,visible:a}=n,l=y.useContext(Ge),c=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),f=y.useMemo(()=>new google.maps.GroundOverlay(e,c,i),[]);return y.useEffect(()=>{f!==null&&f.setMap(l)},[l]),y.useEffect(()=>{typeof e<"u"&&f!==null&&(f.set("url",e),f.setMap(l))},[f,e]),y.useEffect(()=>{typeof a<"u"&&f!==null&&f.setOpacity(a?1:0)},[f,a]),y.useEffect(()=>{var p=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&f!==null&&(f.set("bounds",p),f.setMap(l))},[f,t]),null}y.memo(_6);class vA extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{groundOverlay:null}),he(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Jt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ow(ow({},this.props.options),{},{map:this.context}));this.registeredEvents=We({updaterMap:uw,eventMap:lw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:uw,eventMap:lw,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}he(vA,"defaultProps",{onLoad:y6});he(vA,"contextType",Ge);function cw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Df(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(t),!0).forEach(function(i){he(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var hw={},fw={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function b6(n){var{data:e,onLoad:t,onUnmount:i,options:a}=n,l=y.useContext(Ge),[c,f]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Jt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Jt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{c!==null&&c.setMap(l)},[l]),y.useEffect(()=>{a&&c!==null&&c.setOptions(a)},[c,a]),y.useEffect(()=>{var p=new google.maps.visualization.HeatmapLayer(Df(Df({},a),{},{data:e,map:l}));return f(p),t&&t(p),()=>{c!==null&&(i&&i(c),c.setMap(null))}},[]),null}y.memo(b6);class E6 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{heatmapLayer:null}),he(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Jt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Jt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Df(Df({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=We({updaterMap:fw,eventMap:hw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:fw,eventMap:hw,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Xe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}he(E6,"contextType",Ge);var dw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},pw={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class S6 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{streetViewPanorama:null}),he(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,i=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=We({updaterMap:pw,eventMap:dw,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({streetViewPanorama:i}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:pw,eventMap:dw,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Xe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}he(S6,"contextType",Ge);class w6 extends y.PureComponent{constructor(){super(...arguments),he(this,"state",{streetViewService:null}),he(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}he(w6,"contextType",Ge);var gw={onDirectionsChanged:"directions_changed"},mw={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class T6 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"state",{directionsRenderer:null}),he(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=We({updaterMap:mw,eventMap:gw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:mw,eventMap:gw,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Xe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}he(T6,"contextType",Ge);var vw={onPlacesChanged:"places_changed"},yw={bounds(n,e){n.setBounds(e)}};class C6 extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"containerElement",y.createRef()),he(this,"state",{searchBox:null}),he(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Jt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=We({updaterMap:yw,eventMap:vw,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:yw,eventMap:vw,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Xe(this.registeredEvents))}render(){return I.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}he(C6,"contextType",Ge);var _w={onPlaceChanged:"place_changed"},bw={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class Mv extends y.PureComponent{constructor(){super(...arguments),he(this,"registeredEvents",[]),he(this,"containerElement",y.createRef()),he(this,"state",{autocomplete:null}),he(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Jt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var i=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=We({updaterMap:bw,eventMap:_w,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({autocomplete:i}),this.setAutocompleteCallback)}}componentDidUpdate(e){Xe(this.registeredEvents),this.registeredEvents=We({updaterMap:bw,eventMap:_w,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Xe(this.registeredEvents)}render(){return I.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}he(Mv,"defaultProps",{className:""});he(Mv,"contextType",Ge);const A6={width:"100%",height:"400px"},R6=["places"],L6=({onConfirm:n})=>{const[e,t]=y.useState(null),[i,a]=y.useState({lat:11.0168,lng:76.9558}),[l,c]=y.useState(i),[f,p]=y.useState(null),[g,v]=y.useState(""),{isLoaded:S,loadError:C}=t3({id:"google-map-script",googleMapsApiKey:"AIzaSyCizMwMkcAss2hQiJ9zPE5nZjeXupKkrqU",libraries:R6}),j=y.useCallback(X=>t(X),[]),k=y.useCallback(()=>t(null),[]),B=X=>{new window.google.maps.Geocoder().geocode({location:X},(z,O)=>{O==="OK"&&z[0]?v(z[0].formatted_address):(console.error("Geocoder failed due to: "+O),v("Could not determine address."))})},H=X=>{const M={lat:X.latLng.lat(),lng:X.latLng.lng()};c(M),B(M)},K=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(X=>{const M={lat:X.coords.latitude,lng:X.coords.longitude};a(M),c(M),e?.panTo(M),B(M)},X=>{console.error("Error getting current location:",X),X.code===X.PERMISSION_DENIED?alert("Location access was denied. Please enable it in your browser settings to use this feature."):alert(`Could not get your location: ${X.message}`)}):alert("Geolocation is not supported by your browser.")},Z=()=>{if(f){const X=f.getPlace();if(X.geometry){const M=X.geometry.location;a(M),c(M),e?.panTo(M),v(X.formatted_address)}}},ne=()=>{n({lat:l.lat,lng:l.lng,addressString:g})};return C?I.jsx("div",{children:"Error loading maps. Please check your API key."}):S?I.jsxs("div",{className:"location-picker",children:[I.jsx("h3",{className:"location-title",children:"Location Information"}),I.jsx(Mv,{onLoad:p,onPlaceChanged:Z,children:I.jsx("input",{type:"text",placeholder:"Search a new address",className:"address-search-input"})}),I.jsxs("div",{className:"map-container",children:[I.jsx(qj,{mapContainerStyle:A6,center:i,zoom:15,onLoad:j,onUnmount:k,onClick:H,children:I.jsx(uA,{position:l})}),I.jsx("div",{className:"map-overlay-text",children:"Move the map to adjust your location"})]}),I.jsx("div",{className:"location-actions",children:I.jsx("button",{className:"search-location-btn",onClick:K,children:"Use Current Location"})}),g&&I.jsxs("div",{className:"selected-address-card",children:[I.jsx("h4",{children:g.split(",")[0]}),I.jsx("p",{children:g}),I.jsx("button",{className:"confirm-btn",onClick:ne,children:"Confirm & Continue"})]})]}):I.jsx("div",{children:"Loading Map..."})},I6=({savedLocation:n,onSave:e,onChangeLocation:t})=>{const[i,a]=y.useState(""),[l,c]=y.useState(""),[f,p]=y.useState(""),[g,v]=y.useState("Home"),[S,C]=y.useState(""),[j,k]=y.useState(""),B=H=>{if(H.preventDefault(),!i||!l||!S||!j){alert("Please fill all required fields.");return}e({house:i,building:l,landmark:f,label:g,receiverName:S,receiverPhone:j})};return I.jsxs("form",{className:"address-form",onSubmit:B,children:[I.jsx("h3",{className:"address-form-title",children:"Add Address Details"}),I.jsxs("div",{className:"saved-location-display",children:[I.jsx("p",{children:I.jsx("strong",{children:n.addressString.split(",")[0]})}),I.jsx("p",{children:n.addressString}),I.jsx("button",{type:"button",onClick:t,className:"change-location-btn",children:"Change"})]}),I.jsx("input",{type:"text",value:i,onChange:H=>a(H.target.value),placeholder:"House No. & Floor*",required:!0}),I.jsx("input",{type:"text",value:l,onChange:H=>c(H.target.value),placeholder:"Building & Block No.*",required:!0}),I.jsx("input",{type:"text",value:f,onChange:H=>p(H.target.value),placeholder:"Landmark & Area Name (Optional)"}),I.jsxs("div",{className:"address-label-group",children:[I.jsx("p",{children:"Add Address Label"}),I.jsx("button",{type:"button",className:g==="Home"?"active":"",onClick:()=>v("Home"),children:"Home"}),I.jsx("button",{type:"button",className:g==="Work"?"active":"",onClick:()=>v("Work"),children:"Work"}),I.jsx("button",{type:"button",className:g==="Other"?"active":"",onClick:()=>v("Other"),children:"Other"})]}),I.jsx("h4",{className:"receiver-details-title",children:"Receiver Details"}),I.jsx("input",{type:"text",value:S,onChange:H=>C(H.target.value),placeholder:"Receiver Name*",required:!0}),I.jsx("input",{type:"tel",value:j,onChange:H=>k(H.target.value),placeholder:"Receiver Phone Number*",required:!0}),I.jsx("button",{type:"submit",className:"save-address-btn",children:"Save & Continue"})]})},O6=({isOpen:n,onClose:e})=>{const{currentUser:t}=rA(),[i,a]=y.useState("map"),[l,c]=y.useState(null),f=v=>{c(v),a("details")},p=async v=>{if(!t){alert("Please log in to save an address.");return}if(!l){alert("Something went wrong. Please select a location again.");return}const S={userId:t.uid,...l,...v,createdAt:new Date};try{const C=await KC(Jo(Lr,"users",t.uid,"addresses"),S);console.log("Address saved with ID: ",C.id),alert("Address saved successfully!"),e()}catch(C){console.error("Error saving address: ",C),alert("Failed to save address. Please try again.")}},g=()=>{a("map"),c(null),e()};return n?I.jsx("div",{className:"modal-backdrop",onClick:g,children:I.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[I.jsx("button",{className:"modal-close-btn",onClick:g,children:"×"}),i==="map"&&I.jsx(L6,{onConfirm:f}),i==="details"&&I.jsx(I6,{savedLocation:l,onSave:p,onChangeLocation:()=>a("map")})]})}):null},x6=()=>I.jsxs("div",{children:[I.jsx(L4,{}),I.jsx(oj,{}),I.jsx(lj,{})]}),M6=()=>{const[n,e]=y.useState(!1),[t,i]=y.useState(!1),[a,l]=y.useState(!1),[c,f]=y.useState(!1),[p,g]=y.useState(!1),[v,S]=y.useState(""),[C,j]=y.useState(!1),k=jf(),{currentUser:B}=rA();y.useEffect(()=>{const x=OT(Fi,te=>{j(!!te)});return()=>x()},[]);const H=()=>i(!0),K=()=>i(!1),Z=()=>l(!0),ne=()=>l(!1),X=()=>f(!0),M=()=>f(!1),z=()=>{j(!0),ne()},O=()=>{Ox(Fi),k("/")},L=()=>{k("/dashboard")},E=x=>S(x),T=()=>{ne(),X()},P=()=>{M(),Z()},U=()=>{if(!B){alert("Please log in to add an address."),Z();return}e(!1),g(!0)};return I.jsxs("div",{className:"App",children:[I.jsx(jI,{onCartClick:()=>e(!0),onLocationClick:H,onLoginClick:Z,address:v,isLoggedIn:C,onProfileClick:L}),I.jsxs(qL,{children:[I.jsx(Ca,{path:"/",element:I.jsx(x6,{})}),I.jsx(Ca,{path:"/about",element:I.jsx(Sj,{})}),I.jsx(Ca,{path:"/contact",element:I.jsx(wj,{})}),I.jsx(Ca,{path:"/dashboard",element:I.jsx(Aj,{handleLogout:O})}),I.jsx(Ca,{path:"/shop",element:I.jsx(Ij,{})}),I.jsx(Ca,{path:"/product/:productId",element:I.jsx(Oj,{})})]}),I.jsx(uj,{isOpen:n,onClose:()=>e(!1),onAddAddressClick:U}),I.jsx(O6,{isOpen:p,onClose:()=>g(!1)}),I.jsx(UI,{isOpen:t,onClose:K,onLocationSet:E}),I.jsx(w4,{isOpen:a,onSwitchToRegister:T,onClose:ne,onLoginSuccess:z}),I.jsx(T4,{isOpen:c,onSwitchToLogin:P,onClose:M}),I.jsx(_j,{})]})};function P6(){return I.jsx(xj,{children:I.jsx(NI,{children:I.jsx(M6,{})})})}ZR.createRoot(document.getElementById("root")).render(I.jsx(xs.StrictMode,{children:I.jsx(fI,{children:I.jsx(P6,{})})}));
